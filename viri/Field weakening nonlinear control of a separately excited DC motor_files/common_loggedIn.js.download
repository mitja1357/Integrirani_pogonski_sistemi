wjp([3],{156:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(1),s=a(i),l=n(6),u=n(11),c=a(u),d=new c.default({name:"almanac-preview-list"}),p=function(e){var t=e.itemControls?45:50,n=e.type.length+e.title.length,a=n<t,o=d({element:"link-icon",extra:e.iconClass}),i=void 0;return i=a?e.title:e.title.substr(0,t-e.type.length)+"...",s.default.createElement("div",d("item"),s.default.createElement(l.Link,(0,r.default)({title:e.title,theme:"bare",href:e.url},d("link")),s.default.createElement("span",o),s.default.createElement("span",d("link-text"),e.type+" Â· "+i)),e.itemControls)};t.default=p},320:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(11),m=a(h),g=n(14),y=new m.default("almanac-card"),v=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.renderChildren=function(){return f.default.Children.toArray(this.props.children).map(function(e,t){return f.default.createElement(g.Pack.Item,{key:t},e)})},t.prototype.render=function(){return f.default.createElement(g.Pack,(0,r.default)({gutter:"xs"},y("actions")),this.renderChildren())},t}(p.Component);t.default=v},321:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return i.default.createElement(s.Button,{theme:"bare",color:"blue",href:e.href},e.label)}t.__esModule=!0,t.default=o;var r=n(1),i=a(r),s=n(7)},342:function(e,t,n){function a(e,t){return o(r(e,t),1)}var o=n(339),r=n(22);e.exports=a},375:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.selectFiguresStubCount=t.selectFiguresStub=t.selectPublicationFiguresCount=t.selectOrderedPublicationFigures=t.selectPublicationFigures=void 0;var o=n(2955),r=a(o),i=n(160),s=a(i),l=n(33),u=t.selectPublicationFigures=function(e,t){return e.publicationFigure[t.publicationUid]},c=(t.selectOrderedPublicationFigures=(0,l.createSelector)(u,(0,r.default)("position")),t.selectPublicationFiguresCount=(0,l.createSelector)(u,s.default),function(e){return e.publicationFigureStub});t.selectFiguresStub=(0,l.createSelector)(c,Object.values),t.selectFiguresStubCount=(0,l.createSelector)(c,s.default)},376:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(917),r=a(o),i=n(919),s=a(i),l=n(918),u=a(l),c=n(920),d=a(c);r.default.Header=s.default,r.default.Footer=u.default,r.default.Meta=d.default,t.default=r.default},379:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(81),h=n(17),m=a(h),g=n(14),y=n(7),v=n(6),b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return this.props.promoRequesterOtherAsNumberOnly?this.getPromoWithNumberOnly():this.props.onlyPromoRequester?this.getOnlyPromoRequester():this.props.showAllRequestersAsList?this.getAllRequestersAsList():this.props.showAsString?this.getAsString():this.getFullList()},t.prototype.getAllRequestersAsList=function(){var e=this.props.requesterAccountList;return e.unshift(this.props.promoRequester),d.default.createElement("div",{className:"requester-promo-list full-author-list"},d.default.createElement(y.Tooltip,{position:"below",spacing:"s",color:"black",target:d.default.createElement("span",null,d.default.createElement(v.Icon,null)," ",e.length," ",(0,m.default)("researcher",e.length)," requested this ",this.props.fileCategory)},this.getRequestersList(e)))},t.prototype.getOnlyPromoRequester=function(){return d.default.createElement("span",{className:"single-promo-requester"},this.props.promoRequester.firstName," ",this.props.promoRequester.lastName)},t.prototype.getAsString=function(){return d.default.createElement("div",{className:"requester-promo-list as-string"},d.default.createElement("a",{href:this.props.promoRequester.url,target:"_blank"},this.props.promoRequester.firstName," ",this.props.promoRequester.lastName)," ",this.props.requesterAccountList.length?d.default.createElement("span",{className:"requesters-info"},"and ",d.default.createElement(y.Tooltip,{position:"below",spacing:"s",color:"black",target:d.default.createElement("span",{className:"requester-accounts-list-tooltip"},this.props.requesterAccountList.length," ",this.props.requesterAccountList.length>1?"others":"other researcher")},this.getRequestersList(this.props.requesterAccountList))):null," requested the ",this.props.fileCategory," of this publication.")},t.prototype.getPromoWithNumberOnly=function(){return d.default.createElement(g.Pack,{className:"requester-promo-list",verticalAlign:"middle",gutter:"s"},d.default.createElement(g.Pack.Item,null,d.default.createElement("div",{className:"promo-account-image"},d.default.createElement("a",{href:this.props.promoRequester.url,target:"_blank"},d.default.createElement("img",{className:"promo-account-image--img",src:this.props.promoRequester.image})))),d.default.createElement(g.Pack.Item,{className:"promo-account-info long-info"},d.default.createElement("div",null,d.default.createElement("b",null,d.default.createElement("a",{href:this.props.promoRequester.url,target:"_blank"},this.props.promoRequester.firstName," ",this.props.promoRequester.lastName))," ",this.props.requesterAccountList.length?"and "+this.props.requesterAccountList.length+" other":""," requested the ",this.props.fileCategory," of this publication."),d.default.createElement("div",null,"You can share the ",this.props.fileCategory," publicly or send it to them privately.")))},t.prototype.getFullList=function(){return d.default.createElement(g.Pack,{className:"requester-promo-list",verticalAlign:"middle",gutter:"s"},d.default.createElement(g.Pack.Item,null,d.default.createElement("div",{className:"promo-account-image"},d.default.createElement("a",{href:this.props.promoRequester.url,target:"_blank"},d.default.createElement("img",{className:"promo-account-image--img",src:this.props.promoRequester.image})))),d.default.createElement(g.Pack.Item,{className:"promo-account-info"},d.default.createElement("div",null,d.default.createElement("span",{className:"promo-account-name"},d.default.createElement("a",{href:this.props.promoRequester.url,target:"_blank"},this.props.promoRequester.firstName," ",this.props.promoRequester.lastName))," ",f.MIDDOT," ",this.props.promoRequester.institution),d.default.createElement("div",null,this.props.requesterAccountList.length?d.default.createElement("span",{className:"requesters-info"},"and ",d.default.createElement(y.Tooltip,{position:"below",spacing:"s",color:"black",target:d.default.createElement("span",{className:"requester-accounts-list-tooltip"},this.props.requesterAccountList.length," other")},this.getRequestersList(this.props.requesterAccountList))," ",(0,m.default)("researcher",this.props.requesterAccountList.length)):null," requested your ",this.props.fileCategory)))},t.prototype.getRequestersList=function(e){var t=this,n=void 0;if(e.length>0){var a=e.map(function(e,n){return t.buildRequesterItem(e,n)});n=d.default.createElement("ul",null,a)}return n},t.prototype.buildRequesterItem=function(e,t){return d.default.createElement("li",{key:t},e.firstName," ",e.lastName)},t}(c.Component);t.default=(0,p.connectWidget)()(b)},502:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.selectStickyHeaderHeight=void 0;var o=n(18),r=a(o);t.selectStickyHeaderHeight=function(e){return(0,r.default)(e,["publicationStickyHeader","height"],0)}},504:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(11),m=a(h),g=n(14),y=new m.default("almanac-card"),v=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.renderChildren=function(){return f.default.Children.toArray(this.props.children).map(function(e,t){return f.default.createElement(g.Pack.Item,{key:t},e)})},t.prototype.render=function(){return f.default.createElement(g.Pack,(0,r.default)({gutter:"xs"},y("stats")),this.renderChildren())},t}(p.Component);t.default=v},505:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.count,n=e.url,a=e.label,o=c({element:"stats-btn"});return 0===t?null:i.default.createElement(u.Text,o,i.default.createElement(u.Link,{href:n,theme:"bare"},i.default.createElement("span",c("stats-count"),t)," ",a))}t.__esModule=!0,t.default=o;var r=n(1),i=a(r),s=n(11),l=a(s),u=n(6),c=new l.default("almanac-card")},557:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){if("undefined"!=typeof e.offsetParent){var t=0;for(t;e;e=e.offsetParent)t+=e.offsetTop;return t}return e.y}},570:function(e,t,n){"use strict";function a(e){return n(3531)("./"+e).default}t.__esModule=!0,t.default=a},572:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ListItemControls=void 0;var o=n(1),r=a(o);t.ListItemControls=function(e){return r.default.createElement("div",{className:"almanac-preview-list__controls"},e.children)}},573:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=a(o),i=n(156),s=a(i),l=n(572),u=n(742),c=a(u),d=function(e){var t=void 0;t=e.isPublicationResearchType?"ico-almanac-dataset":e.hasPreview?"ico-almanac-pub-preview":"ico-almanac-pub";var n=void 0;return e.isOwner&&e.publicationRemoveDialogUrl&&e.showControls&&(n=r.default.createElement(l.ListItemControls,null,r.default.createElement(c.default,{publicationRemoveDialogUrl:e.publicationRemoveDialogUrl}))),r.default.createElement(s.default,{iconClass:t,isOwner:e.isOwner,type:e.publicationDisplayType,title:e.publicationTitle,url:e.publicationUrl,itemControls:n})};d.defaultProps={showControls:!0},t.default=d},586:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(157),s=a(i),l=function(){function e(t){(0,r.default)(this,e),this.selector=t,this.initialized=!1,this.dateFormat("%Y-%m-%d"),this.setDimensions(this.selector.offsetWidth,250,{top:30,right:20,bottom:40,left:50}),this.xAxis=null,this.yAxis=null,this.events=[],this.elements=[],this.backgrounds=[],this.overlay=null,this.tooltip=null}return e.prototype.dateFormat=function(e){return this.dateFormat=e,this.parseDate=s.default.time.format(this.dateFormat).parse,this},e.prototype.setDimensions=function(e,t,n){return this.margin=n,this.width=e-this.margin.left-this.margin.right,this.height=t-this.margin.top-this.margin.bottom,this},e.prototype.setXAxis=function(e){this.xAxis=e},e.prototype.setYAxis=function(e){this.yAxis=e},e.prototype.setup=function(){this.xAxis.setup(),this.yAxis.setup(),this.elements.forEach(function(e){e.setup()})},e.prototype.prepareDataFn=function(e){this.prepareDataFunction=e},e.prototype.setData=function(e){this.data=JSON.parse(JSON.stringify(e)),this.prepareDataFunction&&this.data.forEach(this.prepareDataFunction)},e.prototype.addElement=function(e){e.setChart(this),this.elements.push(e)},e.prototype.addBackground=function(e){e.setChart(this),this.backgrounds.push(e)},e.prototype.init=function(){if(!this.initialized){this.xAxis.setChart(this),this.yAxis.setChart(this);var e=s.default.select(this.selector);this.svg=e.append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.initialized=!0}},e.prototype.renderAxis=function(){this.xAxis.render(this.svg),this.yAxis.render(this.svg)},e.prototype.render=function(){this.init(),this.setup(),this.svg.select(".layer-background").remove();var e=this.svg.append("g").attr("class","layer-background");this.backgrounds.forEach(function(t){t.render(e)}),this.renderAxis(),this.svg.select(".layer-elements").remove();var t=this.svg.append("g").attr("class","layer-elements").data(this.data);this.elements.forEach(function(e){e.render(t)})},e.prototype.getOverlay=function(){return this.overlay?s.default.select(this.overlay).each(function(){var e=this[0][0];e.parentNode.appendChild(e)}):this.overlay=this.svg.append("rect").style("pointer-events","all").attr("class","overlay").attr("width",this.width+20).attr("height",this.height+20).attr("transform","translate(-10, -10)"),this.overlay},e.prototype.getTooltip=function(){return this.tooltip||(this.tooltip=s.default.select(this.selector).append("div").style("position","absolute").style("z-index","10000").style("opacity",0).attr("class","chart-tooltip")),this.tooltip},e}();t.default=l},587:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.YAxis=t.XAxis=t.Axis=t.AxisTickLabel=void 0;var o=n(4),r=a(o),i=n(3),s=a(i),l=n(2),u=a(l),c=n(157),d=a(c),p=(t.AxisTickLabel=function(){function e(t){(0,u.default)(this,e),this.text=t,this.padding=27}return e.prototype.getText=function(){return this.text},e.prototype.setPadding=function(e){this.padding=e},e.prototype.getPadding=function(){return this.padding},e}(),t.Axis=function(){function e(t){(0,u.default)(this,e),this.scale=t,this.ticks=null,this.tickSize=null,this.tickFormat=null,this.tickPadding=12,this.tickLabel=null,this.domain=null,this.tickLabelFormatter=null,this.axis=d.default.svg.axis()}return e.prototype.setChart=function(e){this.chart=e},e.prototype.setUp=function(){this.setUpProperties()},e.prototype.setUpProperties=function(){this.getScale().domain(this.scale.getScaleDomain(this.chart.data,this.domain)),this.axis.scale(this.getScale()).orient(this.orientation),this.ticks&&this.axis.ticks(this.ticks),this.tickSize&&this.axis.tickSize(this.tickSize),this.tickFormat&&this.axis.tickFormat(this.tickFormat);var e=this.tickPadding;this.axis.tickPadding(e)},e.prototype.setTicks=function(e){this.ticks=e},e.prototype.setTickSize=function(e){this.tickSize=e},e.prototype.setTickFormat=function(e){this.tickFormat=e},e.prototype.setTickPadding=function(e){this.tickPadding=e},e.prototype.getTickPadding=function(){return this.tickPadding},e.prototype.setTickLabel=function(e){this.tickLabel=e},e.prototype.getTickLabel=function(){return this.tickLabel},e.prototype.setDomain=function(e){this.domain=e},e.prototype.getDomain=function(){return this.domain},e.prototype.getScale=function(){return this.scale.getScale()},e.prototype.getAxis=function(){return this.axis},e.prototype.setTickLabelFormatter=function(e){this.tickLabelFormatter=e},e.prototype.getTickLabelFormatter=function(){return this.tickLabelFormatter},e.prototype.render=function(e){},e}());t.XAxis=function(e){function t(n){(0,u.default)(this,t);var a=(0,r.default)(this,e.call(this,n));return a.orientation="bottom",a}return(0,s.default)(t,e),t.prototype.getAttrTransformTranslate=function(){return"translate(0,"+this.chart.height+")"},t.prototype.setup=function(){this.scale.setRange([0,this.chart.width]),this.setUpProperties(this.chart)},t.prototype.render=function(e){e.select(".x.axis").remove(),this.element=e.append("g").attr("class","x axis").attr("transform",this.getAttrTransformTranslate()).call(this.getAxis()),this.getTickLabel()&&this.element.selectAll(".tick").append("text").text(this.getTickLabel().getText()).attr("y",this.getTickLabel().getPadding()),this.getTickLabelFormatter()&&this.element.selectAll(".tick text").call(this.getTickLabelFormatter())},t.prototype.setActive=function(e,t){var n=this,a=this.element.selectAll(".tick");return a.classed("active",!1),t?void d.default.select(a[0][t]).classed("active",!0):void a.each(function(t,o){n.domain(e)===t&&d.default.select(a[0][o]).classed("active",!0)})},t}(p),t.YAxis=function(e){function t(n){(0,u.default)(this,t);var a=(0,r.default)(this,e.call(this,n));return a.orientation="left",a}return(0,s.default)(t,e),t.prototype.setup=function(){this.scale.setRange([this.chart.height,0]),this.setUpProperties(this.chart)},t.prototype.render=function(e){e.select(".y.axis").remove(),this.element=e.append("g").attr("class","y axis").call(this.getAxis()),this.getTickLabelFormatter()&&this.element.selectAll(".tick text").call(this.getTickLabelFormatter())},t}(p)},588:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ChartBackground=t.Area=t.Line=t.GroupedBar=t.StackedBar=t.Bar=t.HoverableCircle=t.Circle=t.ChartElement=void 0;var o=n(4),r=a(o),i=n(3),s=a(i),l=n(2),u=a(l),c=n(157),d=a(c),p=t.ChartElement=function(){function e(){(0,u.default)(this,e),this.classNames=[]}return e.prototype.setData=function(e){this.data=JSON.parse(JSON.stringify(e))},e.prototype.setChart=function(e){this.chart=e},e.prototype.setXKey=function(e){this.xKey=e},e.prototype.setYKey=function(e){this.yKey=e},e.prototype.addClassName=function(e){this.classNames.push(e)},e.prototype.setup=function(){this.data&&this.data.forEach(this.chart.prepareDataFunction)},e.prototype.setOnClick=function(e){this.onClick=e},e.prototype.render=function(e){},e}(),f=t.Circle=function(e){function t(){(0,u.default)(this,t);var n=(0,r.default)(this,e.call(this));return n.tooltip=null,n.radius=3,n.identifierClass="dot-default",n.addClassName("dot"),n}return(0,s.default)(t,e),t.prototype.setTooltip=function(e){this.tooltip=e},t.prototype.setRadius=function(e){this.radius=e},t.prototype.render=function(e){var t=this,n=this.chart.xAxis.getScale(),a=this.chart.yAxis.getScale();e.selectAll("circle."+this.identifierClass).data(this.data?this.data:this.chart.data).enter().append("circle").attr("class",this.classNames.join(" ")).attr("cx",function(e){return n(e[t.xKey])}).attr("cy",function(e){return a(e[t.yKey])}).attr("r",this.radius+"px"),this.tooltip&&!function(){var e=t.chart.getOverlay(),o=t.chart.getTooltip(),r=t.chart,i=t.xKey,s=t.yKey;e.on("mouseover.tooltip",function(){o.style("display","block"),o.transition().duration(300).style("opacity",1).each("end",function(){d.default.select(this).style("display","block")})}),e.on("mouseout.tooltip",function(){o.transition().duration(300).style("opacity",0).each("end",function(){d.default.select(this).style("display","none")})}),e.on("mousemove.tooltip",function(){var e=t.getDataPointFromMouse();o.html(t.tooltip.call(null,e)),o.style({left:Math.round(n(e[i])+r.margin.left-o.node().offsetWidth/2)+"px ",top:Math.round(a(e[s])+r.margin.top-o.node().offsetHeight)+"px"})})}()},t.prototype.getDataPointFromMouse=function(){var e=this.chart.xAxis.getScale(),t=this.chart.xAxis.getDomain(),n=d.default.bisector(t).left,a=this.chart.getOverlay(),o=e.invert(d.default.mouse(a.node())[0]),r=n(this.chart.data,o,1),i=this.chart.data[r-1],s=this.chart.data[r],l=void 0;return l=s&&o-i[this.xKey]>s[this.xKey]-o?s:i},t}(p),h=(t.HoverableCircle=function(e){function t(){return(0,u.default)(this,t),(0,r.default)(this,e.apply(this,arguments))}return(0,s.default)(t,e),t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t);var a=function(e){return e.attr("r",n.radius+"px").classed("simulate-hover",!1)},o=this.chart.getOverlay();o.on("mouseout.hover",function(){a(t.selectAll(".dot"))}),o.on("mousemove.hover",function(){var e=n.getDataPointFromMouse();a(t.selectAll(".dot")),t.selectAll(".dot").filter(function(t){return t.date===e.date}).attr("r",n.radius+2+"px").classed("simulate-hover",!0)})},t}(f),t.Bar=function(e){function t(){(0,u.default)(this,t);var n=(0,r.default)(this,e.call(this));return n.tooltip=null,n.addClassName("bar"),n}return(0,s.default)(t,e),t.prototype.setTooltip=function(e){this.tooltip=e},t.prototype.render=function(e){var t=this,n=this.chart.xAxis.getScale(),a=this.chart.yAxis.getScale(),o=e.selectAll("bar").data(this.data?this.data:this.chart.data).enter().append("rect").attr("class",this.classNames.join(" ")).attr("x",function(e){return n(e[t.xKey])}).attr("width",n.rangeBand()).attr("y",function(e){return a(e[t.yKey])}).attr("height",function(e){return t.chart.height-a(e[t.yKey])});this.renderTooltip(e,o)},t.prototype.renderTooltip=function(e,t){var n=this;this.tooltip&&!function(){var e=n.chart.xAxis.getScale(),a=n.chart.yAxis.getScale(),o=n.chart.getTooltip();t.on("mouseover.tooltip",function(t){o.html(n.tooltip.call(null,t)),o.style({left:Math.round(e(t[n.xKey])+n.chart.margin.left-o.node().offsetWidth/2+e.rangeBand()/2)+"px",top:Math.round(a(t[n.yKey])+n.chart.margin.top-o.node().offsetHeight)+"px"}),o.transition().duration(300).style("opacity",1)}),t.on("mouseout.tooltip",function(){o.transition().duration(300).style("opacity",0)})}()},t}(p));t.StackedBar=function(e){function t(){return(0,u.default)(this,t),(0,r.default)(this,e.apply(this,arguments))}return(0,s.default)(t,e),t.prototype.render=function(e){var t=this,n=this.data?this.data:this.chart.data,a=this.chart.xAxis.getScale(),o=this.chart.yAxis.getScale(),r=e.selectAll(".bar").data(n).enter().append("g").attr("class","bar").attr("transform",function(e){return"translate("+a(e[t.xKey])+",0)"});r.selectAll("rect").data(function(e){return e.stacks}).enter().append("rect").attr("width",a.rangeBand()).attr("y",function(e){return o(e.y1)}).attr("height",function(e){return o(e.y0)-o(e.y1)}).attr("class",function(e){return e.name}),this.tooltip&&!function(){var e=t.chart.getTooltip();r.on("mouseover.tooltip",function(n){e.html(t.tooltip.call(null,n)),e.style({left:Math.round(a(n[t.xKey])+t.chart.margin.left-e.node().offsetWidth/2+a.rangeBand()/2)+"px",top:Math.round(o(n[t.yKey])+t.chart.margin.top-e.node().offsetHeight)+"px"}),e.transition().duration(300).style("opacity",1)}),r.on("mouseout.tooltip",function(){e.transition().duration(300).style("opacity",0)})}(),this.onClick&&r.on("click",function(e,n){t.setSelected(e,n),t.onClick(e,n)}),this.bar=r},t.prototype.setSelected=function(e,t){this.bar.classed("selected",!1);var n=d.default.select(this.bar[0][t]);n.classed("selected",!0)},t}(h),t.GroupedBar=function(e){function t(){(0,u.default)(this,t);var n=(0,r.default)(this,e.call(this));return n.tooltip=null,n.addClassName("bar"),n.barKeys=null,n}return(0,s.default)(t,e),t.prototype.setTooltip=function(e){this.tooltip=e},t.prototype.setBarKeys=function(e){this.barKeys=e},t.prototype.render=function(e){var t=this,n=this.chart.xAxis.getScale(),a=this.chart.yAxis.getScale();this.x1=d.default.scale.ordinal(),this.x1.domain(this.barKeys).rangeRoundBands([0,n.rangeBand()]);var o=e.selectAll(".bar-groups").data(this.data?this.data:this.chart.data).enter().append("g").attr("class","bar-groups").attr("transform",function(e){return"translate("+n(e[t.xKey])+",0)"});o.selectAll("rect").data(function(e){return e.values}).enter().append("rect").attr("width",this.x1.rangeBand()).attr("x",function(e){return t.x1(e.name)}).attr("y",function(e){return a(e.value)}).attr("height",function(e){return t.chart.height-a(e.value)}).attr("class",function(e){return"bar-"+e.name}),this.renderTooltip(e,o)},t.prototype.renderTooltip=function(e,t){var n=this;this.tooltip&&!function(){var e=n.chart.xAxis.getScale(),a=n.chart.yAxis.getScale(),o=n.chart.getTooltip();t.on("mouseover.tooltip",function(t){var r=d.default.max(t[n.yKey],function(e){return e.value});o.html(n.tooltip.call(null,t)),o.style({left:Math.round(e(t[n.xKey])+n.chart.margin.left-o.node().offsetWidth/2+e.rangeBand()/2)+"px",top:Math.round(a(r)+n.chart.margin.top-o.node().offsetHeight)+"px"}),o.transition().duration(300).style("opacity",1)}),t.on("mouseout.tooltip",function(){o.transition().duration(300).style("opacity",0)})}()},t}(h),t.Line=function(e){function t(){(0,u.default)(this,t);var n=(0,r.default)(this,e.call(this));return n.addClassName("line"),n}return(0,s.default)(t,e),t.prototype.render=function(e){var t=this,n=this.chart.xAxis.getScale(),a=this.chart.yAxis.getScale(),o=d.default.svg.line().x(function(e){return n(e[t.xKey])}).y(function(e){return a(e[t.yKey])});e.append("path").attr("class",this.classNames.join(" ")).attr("d",o(this.data?this.data:this.chart.data))},t}(p),t.Area=function(e){function t(){(0,u.default)(this,t);var n=(0,r.default)(this,e.call(this));return n.addClassName("area"),n}return(0,s.default)(t,e),t.prototype.render=function(e){var t=this,n=this.chart.xAxis.getScale(),a=this.chart.yAxis.getScale(),o=d.default.svg.area().x(function(e){return n(e[t.xKey])}).y0(this.chart.height).y1(function(e){return a(e[t.yKey])});e.append("path").datum(this.data?this.data:this.chart.data).attr("class",this.classNames.join(" ")).attr("d",o)},t}(p),t.ChartBackground=function(e){function t(){(0,u.default)(this,t);var n=(0,r.default)(this,e.call(this));return n.addClassName("rect"),n.addClassName("background"),n}return(0,s.default)(t,e),t.prototype.render=function(e){e.append("rect").attr("class",this.classNames.join(" ")).attr("width",this.chart.width).attr("height",this.chart.height+this.chart.margin.top).attr("y",-this.chart.margin.top)},t}(p)},589:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.OrdinalScale=t.TimeScale=t.LinearScale=t.Scale=void 0;var o=n(4),r=a(o),i=n(3),s=a(i),l=n(2),u=a(l),c=n(157),d=a(c),p=t.Scale=function(){function e(){(0,u.default)(this,e),this.scale=null}return e.prototype.setRange=function(e){this.scale.range(e)},e.prototype.getScale=function(){return this.scale},e.prototype.getScaleDomain=function(e,t){return[0,d.default.max(e,t)]},e}();t.LinearScale=function(e){function t(){(0,u.default)(this,t);var n=(0,r.default)(this,e.call(this));return n.scale=d.default.scale.linear(),n}return(0,s.default)(t,e),t}(p),t.TimeScale=function(e){function t(){(0,u.default)(this,t);var n=(0,r.default)(this,e.call(this));return n.scale=d.default.time.scale(),n}return(0,s.default)(t,e),t.prototype.getScaleDomain=function(e,t){return d.default.extent(e,t)},t}(p),t.OrdinalScale=function(e){function t(){(0,u.default)(this,t);var n=(0,r.default)(this,e.call(this));return n.scale=d.default.scale.ordinal(),n}return(0,s.default)(t,e),t.prototype.setRange=function(e){this.scale.rangeRoundBands(e,.05)},t.prototype.getScaleDomain=function(e,t){return e.map(t)},t}(p)},622:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.selectedTabId?e.selectedTabId:e.focusFeedback||e.totalCount?j:e.citationsCount?U:e.referencesCount?B:e.relatedPublicationList||e.projectsCount?q:e.linkedPublicationCount?W:e.supplementsCount?H:j}t.__esModule=!0,t.TAB_RELATED_PROJECTS=t.TAB_SUPPLEMENTED_PUBLICATIONS=t.TAB_LINKED_PUBLICATIONS=t.TAB_RELATED_PUBLICATIONS=t.TAB_COMMENTS=t.TAB_REFERENCES=t.TAB_CITATIONS=void 0;var r=n(2),i=a(r),s=n(4),l=a(s),u=n(3),c=a(u),d=n(1),p=a(d),f=n(68),h=a(f),m=n(5),g=n(24),y=a(g),v=n(116),b=n(6),E=n(763),C=a(E),k=n(1426),w=a(k),_=n(1413),x=a(_),T=n(1412),S=a(T),M=n(762),N=a(M),D=n(57),P=a(D),I=n(15),A=a(I),R=n(78),F=a(R),O=n(500),L=n(883),U=t.TAB_CITATIONS="citations",B=t.TAB_REFERENCES="references",j=t.TAB_COMMENTS="comments",q=t.TAB_RELATED_PUBLICATIONS="related",W=t.TAB_LINKED_PUBLICATIONS="linked",H=t.TAB_SUPPLEMENTED_PUBLICATIONS="supplemented",z=t.TAB_RELATED_PROJECTS="projects",Y=function(e){function t(n){(0,i.default)(this,t);var a=(0,l.default)(this,e.call(this,n));return a.handleSelected=a.handleSelected.bind(a),a.activeTabs=[],a}return(0,c.default)(t,e),t.prototype.getTabIndex=function(){return this.getIndexForTab(this.getSelectedTabId())},t.prototype.componentDidMount=function(){this.props.scrollAndFocusInput&&window.addEventListener("load",function(){(0,P.default)("#publicationAddFeedbackContainer",{duration:600,ease:"inOutQuart"})})},t.prototype.getSelectedTabId=function(){return o(this.props)},t.prototype.handleSelected=function(e){var t=this.activeTabs[e];switch(this.props.dispatch((0,O.updateSelectedTab)(t)),t){case U:(0,A.default)(this.props.milestones.citations);break;case B:(0,A.default)(this.props.milestones.references);break;case j:(0,A.default)(this.props.milestones.comments);break;case W:(0,A.default)(this.props.milestones.linked);break;case H:(0,A.default)(this.props.milestones.supplements);break;case q:(0,A.default)(this.props.milestones.related);break;case z:(0,A.default)(this.props.milestones.projects)}},t.prototype.render=function(){var e=this,t=(0,h.default)(["tabCitations","tabReferences","tabLinkedPublications","tabSupplementedPublications","tabComments","tabRelatedPublications"].map(function(t){return e[t](t.replace(/tab(.+)/,"$1").toLowerCase())}));if(0===t.length)return null;var n=t.map(function(e){return e.tab}),a=t.map(function(e){return e.panel});return this.activeTabs=t.map(function(e){return e.id}),p.default.createElement("div",{className:"publication-resource-tab-box"},p.default.createElement("div",{className:"publication-resource-tab-box-inner"},p.default.createElement(v.Tabs,{selectedIndex:this.getTabIndex(),onSelect:this.handleSelected},p.default.createElement(v.TabList,null,n),a)))},t.prototype.tabCitations=function(){if(!this.props.citationsCount&&this.props.hideEmptyTabs)return null;var e={publicationUid:this.props.publicationUid,nextDetailPageExperimentViewId:this.props.nextDetailPageExperimentViewId,nextDetailPagePayload:this.props.nextDetailPagePayload,usePlainButton:!1,showEnrichedPublicationItem:!0,useEnrichedContext:!0,showAbstract:!1,showType:!1,showDownloadButton:!1,showOpenReviewButton:!1,showPublicationPreview:!1,swapJournalAndAuthorPositions:!0};return{id:U,tab:p.default.createElement(v.Tab,{key:"citations"},p.default.createElement("span",{className:"title-tab-interaction"},"Citations"),p.default.createElement("span",{className:"title-tab-fitting",role:"presentation",tabIndex:"-1"},"Citations "),p.default.createElement(b.Badge,{className:"title-tab-counter",color:"grey",luminosity:"high"},this.props.citationsCount)),panel:p.default.createElement(v.TabPanel,{key:"citations"},p.default.createElement("div",{className:"publication-citations-container"},p.default.createElement(F.default,{url:"publicliterature.PublicationIncomingCitationsList",params:e},p.default.createElement(y.default,null))))}},t.prototype.tabReferences=function(){if(!this.props.referencesCount&&this.props.hideEmptyTabs)return null;var e={publicationUid:this.props.publicationUid,nextDetailPageExperimentViewId:this.props.nextDetailPageExperimentViewId,nextDetailPagePayload:this.props.nextDetailPagePayload,usePlainButton:!1,showEnrichedPublicationItem:!0,showAbstract:!1,showType:!1,showDownloadButton:!1,showOpenReviewButton:!1,showPublicationPreview:!1,swapJournalAndAuthorPositions:!0};return{id:B,tab:p.default.createElement(v.Tab,{key:"references"},p.default.createElement("span",{className:"title-tab-interaction"},"References"),p.default.createElement("span",{className:"title-tab-fitting",role:"presentation",tabIndex:"-1"},"References"),p.default.createElement(b.Badge,{className:"title-tab-counter",color:"grey",luminosity:"high"},this.props.referencesCount)),panel:p.default.createElement(v.TabPanel,{key:"references"},p.default.createElement("div",{className:"publication-citations-container"},p.default.createElement(F.default,{url:"publicliterature.PublicationCitationsList",params:e},p.default.createElement(y.default,null))))}},t.prototype.tabComments=function(e){var t=this.props.totalCount>0?p.default.createElement(b.Badge,{className:"title-tab-counter",color:"grey",luminosity:"high"},this.props.totalCount):p.default.createElement(b.Badge,{className:"title-tab-counter",color:"blue"},"Add yours"),n=null;return this.props.selectedTabId===e&&this.props.publicationComments?n=p.default.createElement(w.default,{widgetId:this.props.publicationComments,scrollAndFocusInput:this.props.scrollAndFocusInput}):this.props.selectedTabId===e&&(n=p.default.createElement("div",{className:"publication-citations-container"},p.default.createElement(C.default,{widgetId:this.props.feedbackList,showContext:!0}),p.default.createElement(N.default,{
showIntroHeader:!0,focusAfterMount:this.props.scrollAndFocusInput,nodeId:"publicationAddFeedbackContainer",widgetId:this.props.addFeedbackContainer,publicationUid:this.props.publicationUid,feedbackKey:this.props.feedbackKey}))),{id:j,tab:p.default.createElement(v.Tab,{key:"comments"},p.default.createElement("span",{className:"title-tab-interaction"},"Comments"),p.default.createElement("span",{className:"title-tab-fitting",role:"presentation",tabIndex:"-1"},"Comments"),t,p.default.createElement(y.default,{widgetId:this.props.publicationHighlightTooltip})),panel:p.default.createElement(v.TabPanel,{key:"comments"},n)}},t.prototype.tabRelatedPublications=function(){return this.props.hideSimilarResearch?null:{id:q,tab:p.default.createElement(v.Tab,{key:"related",className:"tab-related-publications"},p.default.createElement("span",{className:"title-tab-interaction"},"Similar research"),p.default.createElement("span",{className:"title-tab-fitting",role:"presentation",tabIndex:"-1"},"Similar research")),panel:p.default.createElement(v.TabPanel,{key:"related"},this.props.publicationRelatedProjectsListUrl?p.default.createElement("div",{className:"publication-citations-container"},p.default.createElement(F.default,{url:this.props.publicationRelatedProjectsListUrl},p.default.createElement(S.default,null))):null,this.props.relatedPublicationList?p.default.createElement("div",{className:"publication-related-container"},p.default.createElement(b.Text,{className:"publication-related-publications-header",size:"xl"},"Similar publications"),p.default.createElement(x.default,{widgetId:this.props.relatedPublicationList})):null)}},t.prototype.tabLinkedPublications=function(){return this.props.linkedPublicationList?{id:W,tab:p.default.createElement(v.Tab,{key:W,className:"tab-related-publications"},p.default.createElement("span",{className:"title-tab-interaction"},"Linked Research"),p.default.createElement("span",{className:"title-tab-fitting",role:"presentation",tabIndex:"-1"},"Linked Research"),p.default.createElement(b.Badge,{className:"title-tab-counter",color:"grey",luminosity:"high"},this.props.linkedPublicationCount)),panel:p.default.createElement(v.TabPanel,{key:W},p.default.createElement("div",{className:"publication-linked-container"},p.default.createElement(x.default,{widgetId:this.props.linkedPublicationList})))}:null},t.prototype.tabSupplementedPublications=function(){return this.props.supplementsList?{id:H,tab:p.default.createElement(v.Tab,{key:H,className:"tab-related-publications"},p.default.createElement("span",{className:"title-tab-interaction"},"Linked Data"),p.default.createElement("span",{className:"title-tab-fitting",role:"presentation",tabIndex:"-1"},"Linked Data"),p.default.createElement(b.Badge,{className:"title-tab-counter",color:"grey",luminosity:"high"},this.props.supplementsCount)),panel:p.default.createElement(v.TabPanel,{key:H},p.default.createElement("div",{className:"publication-supplemented-container"},p.default.createElement(x.default,{widgetId:this.props.supplementsList})))}:null},t.prototype.getIndexForTab=function(e){return this.activeTabs.indexOf(e)},t}(d.Component),K=function(e,t){var n=e.publicationPublicationResourceTabBox.selectedTabId,a=void 0;if(!t.publicationComments&&e.publicationFeedback)a=e.publicationFeedback.get("feedbacks").filter(function(e){return"comment"===e.get("type")}).size;else if(e.converseMessages){var o=(0,L.selectMessagesByPublicationUid)(e,t);a=o.get("totalCount",0)}return n||(n="comments"),{selectedTabId:n,totalCount:a}};t.default=(0,m.connectWidget)(K)(Y)},721:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.almanacItemLoadedCardsInDialogSelector=t.almanacItemsSelector=t.almanacItemsAndCardsCountSelector=void 0;var o=n(102),r=a(o),i=n(22),s=a(i),l=n(309),u=a(l),c=n(160),d=a(c),p=n(33),f=function(e){return e.almanacTimeline.items},h=function(e){return e.almanacTimeline.items.length},m=function(e){return e.almanacTimeline.totalItemsCount?e.almanacTimeline.totalItemsCount:0},g=function(e){return e.almanacTimeline.paginationToken},y=function(e){return e.almanacTimeline.createdItemKey},v=function(e){return e.almanacTimeline.loadMoreItemsScheduled},b=function(e){return e.almanacTimeline.pageReloadScheduled},E=function(e){return e.almanacTimeline.filterType},C=function(e){return e.almanacTimeline.filterSubType},k=function(e){return e.almanacTimeline.hasFinishedLoading},w=function(e){return e.almanacTimeline.isTimelineDelayed},_=function(e){return e.almanacCards},x=function(e){return Object.keys(e.almanacCards).length},T=(0,p.createSelector)(f,function(e,t){return t.mainCardKey},function(e,t){return(0,r.default)(e,{mainCardKey:t})}),S=(0,p.createSelector)(T,function(e){return e.cardRefs}),M=(0,p.createSelector)(T,function(e,t){return t.offset},function(e,t){return e.loadedCardsCount>t?e.loadedCardsCount:t}),N=(0,p.createSelector)(S,function(e){return(0,d.default)(e)}),D=(0,p.createSelector)(_,S,M,function(e,t,n){var a=(0,s.default)(t,function(e){return e.cardKey});return Object.values((0,u.default)(e,a.slice(0,n+1)))});t.almanacItemsAndCardsCountSelector=(0,p.createStructuredSelector)({almanacItemsCount:h,almanacTotalItemsCount:m,almanacCardsCount:x}),t.almanacItemsSelector=(0,p.createStructuredSelector)({almanacItems:f,almanacItemsCount:h,totalItemsCount:m,paginationToken:g,createdItemKey:y,loadMoreItemsScheduled:v,pageReloadScheduled:b,filterType:E,filterSubType:C,hasFinishedLoading:k,isTimelineDelayed:w}),t.almanacItemLoadedCardsInDialogSelector=(0,p.createStructuredSelector)({cardItems:D,offset:M,cardRefs:S,totalItemsCount:N})},724:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.viewIdsFromExperiments=t.experimentsByNames=void 0;var o=n(18),r=a(o),i=n(309),s=a(i),l=n(22),u=a(l),c=n(342),d=a(c),p="experimentsRunningExperiments",f=t.experimentsByNames=function(e,t){return(0,s.default)((0,r.default)(e,[p,"experiments"],{}),t)};t.viewIdsFromExperiments=function(e,t){var n=t.experimentNames;return(0,d.default)(f(e,n),function(e){return(0,u.default)(e,function(e){return e.viewId})})}},737:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=a(o),i=n(900),s=a(i),l=n(899),u=a(l),c=function(e){var t="almanac-timeline__item almanac-item almanac-item--align-"+e.position+" "+e.additionalClasses,n=["promo",e.position];return r.default.createElement("div",{className:t},r.default.createElement(s.default,{cssModifiers:n,isPromoHeader:!0,dateLabel:e.labelText}),r.default.createElement(u.default,null,e.children))};t.default=c},738:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.AlmanacTimelineFilter=t.FILTER_PUBLICATIONS=void 0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(21),m=a(h),g=n(557),y=a(g),v=n(6),b=n(5),E=n(99),C=a(E),k=n(123),w=n(19),_=a(w),x=n(11),T=a(x),S=n(360),M=new T.default({name:"filter",prefix:"almanac-timeline-"}),N=(t.FILTER_PUBLICATIONS="publications",{answers:"Answers",publicationComments:"Comments",openReviews:"Open Reviews",publications:"Research",questions:"Questions",projects:"Projects"}),D=t.AlmanacTimelineFilter=function(e){function t(n){(0,s.default)(this,t);var a=(0,u.default)(this,e.call(this,n));return a.handleFilterChange=a.handleFilterChange.bind(a),a.handleSubFilterChange=a.handleSubFilterChange.bind(a),a.handlePopState=a.handlePopState.bind(a),a}return(0,d.default)(t,e),t.prototype.componentDidMount=function(){if(window.addEventListener("popstate",this.handlePopState),void 0===this.props.filterOffset){var e=m.default.findDOMNode(this),t=(0,y.default)(e);this.props.dispatch((0,S.setTimelineFilterOffset)(t))}},t.prototype.isFixed=function(){return this.calculateIsFixed(this.state,this.props)},t.prototype.calculateIsFixed=function(e){return this.props.filterOffset&&e.scroll.y>this.props.filterOffset},t.prototype.handleFilterChange=function(e){var t="all"===e.target.value?null:e.target.value;this.updateUrl(t,null),this.processFilterChange(t,null)},t.prototype.handleSubFilterChange=function(e){var t="publications",n="all"===e.target.value?null:e.target.value;this.updateUrl(t,n),this.processFilterChange(t,n)},t.prototype.processFilterChange=function(e,t){(0,_.default)(["rg-base"],function(e){return e.fire("ProfileTimelineContentView:timelineLoadingStarted")}),this.props.dispatch((0,S.setTimelineFilterTypes)(e,t)),this.props.dispatch((0,S.loadTimelineItems)(null,this.props.ownerAccountKey,this.props.payload,e,t,!0)),this.isFixed()&&this.props.onFilterChanged()},t.prototype.updateUrl=function(e,t){var n=e?"/"+e:"",a=t?"/"+t:"",o=this.props.baseUrl+n+a;window.history&&history.pushState&&history.pushState({filterType:e,filterSubType:t},"ResearchGate",o)},t.prototype.handlePopState=function(e){if(e.state&&e.state.filterType){var t=e.state,n=t.filterType,a=t.filterSubType;this.processFilterChange(n,a)}},t.prototype.renderFilterOptions=function(){return Object.keys(this.props.filters).map(function(e){return f.default.createElement("option",(0,r.default)({},M({element:"option"}),{key:e,value:e}),N[e])})},t.prototype.renderSubFilterOptions=function(){var e=this.props.filters.publications;if(e)return e.map(function(e){return f.default.createElement("option",{key:e.value,value:e.value},e.title)})},t.prototype.render=function(){if(!this.props.filters)return null;var e=this.props.activeFilter?this.props.activeFilter:"all",t=this.props.activeSubFilter?this.props.activeSubFilter:"all",n="publications"!==this.props.activeFilter,a=M({extra:{"is-fixed":this.isFixed()}}),o=M({element:"label"}),i=M({element:"select"}),s=M({element:"separator",extra:{"is-hidden":n}}),l=M({element:"select",extra:{"is-hidden":n}}),u=M({element:"option"});return f.default.createElement("div",a,f.default.createElement("div",{className:"almanac-timeline-filter__content full-width-element"},f.default.createElement(v.Text,o,"Filter this timeline by"),f.default.createElement("select",(0,r.default)({},i,{onChange:this.handleFilterChange,value:e}),f.default.createElement("option",(0,r.default)({},u,{value:"all"}),"All"),this.renderFilterOptions()),f.default.createElement("div",s,"..."),f.default.createElement("select",(0,r.default)({},l,{onChange:this.handleSubFilterChange,value:t}),f.default.createElement("option",(0,r.default)({},u,{value:"all"}),"All"),this.renderSubFilterOptions())))},t}(p.Component);(0,C.default)(D,k.OnScroll),t.default=(0,b.connectWidget)(function(e){return{activeFilter:e.almanacTimeline.filterType,activeSubFilter:e.almanacTimeline.filterSubType,filterOffset:e.almanacTimeline.filterOffset}})(D)},739:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.AlmanacTimelineNotice=void 0;var o=n(9),r=a(o),i=n(1),s=a(i),l=n(6),u=n(11),c=a(u),d=new c.default({name:"almanac-timeline-notice"});t.AlmanacTimelineNotice=function(e){return s.default.createElement("div",d(),s.default.createElement(l.Icon,(0,r.default)({},d({element:"icon"}),{identifier:"exclamation-circle",size:"l"})),s.default.createElement(l.Text,(0,r.default)({},d({element:"text"}),{size:"xl"}),e.text))}},740:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(49),f=a(p),h=n(376),m=a(h),g=n(927),y=a(g),v=n(924),b=a(v),E=n(928),C=a(E),k=n(922),w=a(k),_=n(926),x=n(742),T=a(x),S=n(14),M=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getMetadata=function(){var e=[this.getFileAvailability()];return this.props.card.publicationDate&&e.push(f.default.utc(this.props.card.publicationDate).format("MMMM YYYY")),this.props.card.details.length>0&&(e=e.concat(this.props.card.details)),e},t.prototype.getFileAvailability=function(){return this.props.card.isPublicationResearchType?this.props.card.hasPublicFulltexts?"File":"No preview":this.props.card.hasPublicFulltexts?"Full-text":this.props.card.hasPreview?"Preview":"No preview"},t.prototype.getCardControls=function(){return!this.props.isOwner||this.props.hideControls?null:d.default.createElement(_.PublicationCardControls,null,d.default.createElement(T.default,this.props.card.publicationControls))},t.prototype.render=function(){var e=void 0,t=void 0;return this.props.hideActions||(e=this.props.isOwner?d.default.createElement(y.default,{publicationActions:this.props.card.publicationActions}):d.default.createElement(b.default,{publicationActions:this.props.card.publicationActions})),this.props.hideStats||(t=d.default.createElement(C.default,{stats:this.props.card.publicationStats})),d.default.createElement(m.default,null,this.getCardControls(),d.default.createElement(m.default.Header,{type:this.props.card.publicationDisplayType,title:this.props.card.publicationTitle,url:this.props.card.publicationUrl}),d.default.createElement(m.default.Meta,null,this.getMetadata()),d.default.createElement(w.default,{peopleList:this.props.card.publicationAuthors}),d.default.createElement(m.default.Footer,null,d.default.createElement(S.MediaObject,{gutter:"none"},d.default.createElement(S.MediaObject.Item,{width:"full"},e),d.default.createElement(S.MediaObject.Item,null,t))))},t}(c.Component);t.default=M},741:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(7),f=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.handleFollow=a.handleFollow.bind(a),a.handleUnfollow=a.handleUnfollow.bind(a),a}return(0,u.default)(t,e),t.prototype.handleFollow=function(){this.props.onFollow()},t.prototype.handleUnfollow=function(){this.props.onUnfollow()},t.prototype.render=function(){var e=this.props.isFollowing?"Following":"Follow",t=this.props.isFollowing?this.handleUnfollow:this.handleFollow;return d.default.createElement(p.Button,{theme:"bare",color:"blue",onClick:t},e)},t}(c.Component);t.default=f},742:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(42),f=n(7),h=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.openPublicationRemoveDialog=a.openPublicationRemoveDialog.bind(a),a}return(0,u.default)(t,e),t.prototype.openPublicationRemoveDialog=function(){YRG.fire("AlmanacItemCardsDialog:Close"),(0,p.openDialog)(this.props.publicationRemoveDialogUrl,{params:{},initialCssClass:"remove-dialog-popup"})},t.prototype.render=function(){return d.default.createElement(f.Button,{color:"grey",theme:"bare",onClick:this.openPublicationRemoveDialog},d.default.createElement(f.Button.Icon,{identifier:"close"}))},t}(c.Component);t.default=h},744:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){var e=this.getIconFileExtension(),t=e?d.default.createElement("span",{className:"file-extension"},e):null;return d.default.createElement("div",{className:"general-attachment-item"},d.default.createElement("div",{className:"attachment-list-item"},d.default.createElement("div",{className:"item-thumbnail"},d.default.createElement("span",{className:"ico-file-thumbnail"},t)),d.default.createElement("div",{className:"item-info"},d.default.createElement("div",{className:"item-title"},this.props.title),d.default.createElement("div",{className:"item-subline"},this.props.subline),d.default.createElement("div",{className:"item-actions"},this.props.actions))))},t.prototype.getIconFileExtension=function(){var e=this.props.mimeType.split("/").pop();if(e.length>4){var t=this.props.title.split(".");if(t&&(e=t.pop()),!e||e.length>4)return null}return e},t}(d.default.Component);t.default=p},762:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(16),m=a(h),g=n(12),y=a(g),v=n(80),b=a(v),E=n(2036),C=a(E),k=n(40),w=a(k),_=n(5),x=n(24),T=a(x),S=n(13),M=a(S),N=n(733),D=function(e){function t(n){(0,s.default)(this,t);var a=(0,u.default)(this,e.call(this,n));return a.decideWhetherToShowFulltextRequest=a.decideWhetherToShowFulltextRequest.bind(a),a.hideDynamicFulltextRequestForThisPublication=a.hideDynamicFulltextRequestForThisPublication.bind(a),a.handleFulltextRequestPersist=a.handleFulltextRequestPersist.bind(a),a.state={},a}return(0,d.default)(t,e),t.prototype.decideWhetherToShowFulltextRequest=function(e){var t=this.props.potentialFulltextRequestWords;if(t&&Array.isArray(t)){var n=new RegExp(t.join("|"),"gi"),a=null!==e.match(n);this.setState({showFulltextRequest:a})}else this.setState({showFulltextRequest:!1})},t.prototype.hideDynamicFulltextRequestForThisPublication=function(){this.setState({fulltextRequestHasBeenDismissed:!0})},t.prototype.handleFulltextRequestPersist=function(e){e.detail&&e.detail.publicationUid&&e.detail.publicationUid===this.props.publicationUid&&this.setState({fulltextRequestPersist:!0})},t.prototype.componentDidMount=function(){this.props.publicationUid&&window.addEventListener("fulltextRequestPersist",this.handleFulltextRequestPersist)},t.prototype.componentWillUnmount=function(){this.props.publicationUid&&window.removeEventListener("fulltextRequestPersist",this.handleFulltextRequestPersist)},t.prototype.render=function(){var e=this.props.dynamicFulltextButton,t=this.state,n=t.fulltextRequestPersist,a=t.showFulltextRequest,o=t.fulltextRequestHasBeenDismissed,i=(0,y.default)("comment-dynamic-fulltext-request",{"comment-dynamic-fulltext-has-requested":n,"comment-dynamic-fulltext-show":a&&!o}),s=null!==this.props.dynamicFulltextButton?f.default.createElement("div",{className:i},f.default.createElement("h3",null,"Are you asking the authors for the full-text?"),f.default.createElement("span",{className:"comment-dynamic-fulltext-request-byline"},"Request it directly to make it easy for them to share it with you."),f.default.createElement("div",{className:"clearfix"},f.default.createElement("div",{className:"dynamic-fulltext-button-container"},f.default.createElement(T.default,{widgetId:e}),f.default.createElement("a",{className:"white-link",onClick:this.hideDynamicFulltextRequestForThisPublication},"No thanks")))):null,l=null!==e&&a&&!o&&!n;return f.default.createElement(C.default,(0,r.default)({},this.props,{ref:"innerContainer",forceDisableSubmit:l,onChange:this.decideWhetherToShowFulltextRequest}),s)},t.prototype.focus=function(){this.refs.innerContainer.focus()},t}(p.Component),P=function(e,t){return{currentAccount:e.publicationFeedback.getIn(["authors",(0,b.default)(t.currentAccountId)])}},I=function(e,t){return{postComment:function(n){var a=t.assetId,o=t.assetType,r=t.interactionType,i=t.currentAccountId,s=t.publicationUid,l="application.AjaxCommon.ajaxScoreGoal.html";(0,M.default)(l,{method:"POST",query:{goal:"experimentGoalUserAddsComment"}}),e((0,N.addFeedback)({assetId:a,assetType:o,interactionType:r,publicationUid:s,accountId:i,text:n}))}}};t.default=(0,m.default)((0,_.connectWidget)(P,I),(0,w.default)(["currentAccount"]))(D)},763:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){i(e,"feedback")}function r(e){i(e,"reply")}function i(e,t){widgetLoader.loadWidgetInDialog("publication.PublicationFeedbackComplaintDialog.html",{id:e,type:t,context:"publicationDetails"},null,null,null,null,null,{autoStack:!0})}function s(e){var t=(0,C.getContextProvider)(e.publicationUid);return d.default.createElement(m.default,(0,u.default)({},e,{provideContext:t,reportFeedback:o,reportReply:r}))}t.__esModule=!0;var l=n(9),u=a(l),c=n(1),d=a(c),p=n(16),f=a(p),h=n(2044),m=a(h),g=n(40),y=a(g),v=n(5),b=n(733),E=n(266),C=n(2360),k=function(){var e=(0,E.makeAssetFeedbacksSelector)(function(e,t){return t.assetId}),t=(0,E.makePublicationFeedbacksSelector)();return function(n,a){return{currentAccount:n.publicationFeedback.getIn(["authors",a.currentAccountId.toString()]),feedbacks:a.assetId?e(n,a):t(n,a)}}},w=function(e,t){return{postReply:function(n,a){var o=t.currentAccountId;e((0,b.addReply)(n,o,a))},patchFeedback:function(t,n){e((0,b.editFeedback)(t,n))},deleteFeedback:function(t){e((0,b.removeFeedback)(t))},patchReply:function(t,n,a){e((0,b.editReply)(n,a))},deleteReply:function(t,n){e((0,b.removeReply)(n))},likeFeedback:function(t){e((0,b.likeComment)(t))},unlikeFeedback:function(t){e((0,b.unlikeComment)(t))},likeReply:function(t,n){e((0,b.likeReply)(t,n))},unlikeReply:function(t,n){e((0,b.unlikeReply)(t,n))}}};t.default=(0,f.default)((0,v.connectWidget)(k,w),(0,y.default)(["feedbacks","currentAccount"]))(s)},845:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function u(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,d,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=n(1),g=a(m),y=n(3365),v=a(y),b=function(){},E=(d=c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={height:null,minHeight:-(1/0),maxHeight:1/0},n._onNextFrameActionId=null,n._rootDOMNode=null,n._onChange=n._onChange.bind(n),n._resizeComponent=n._resizeComponent.bind(n),n._onRootDOMNode=n._onRootDOMNode.bind(n),n}return s(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.valueLink,n=(e.minRows,e.maxRows,e.onHeightChange,e.useCacheForDOMMeasurements,o(e,["valueLink","minRows","maxRows","onHeightChange","useCacheForDOMMeasurements"]));"object"===("undefined"==typeof t?"undefined":f(t))&&(n.value=t.value),n.style=p({},n.style,{height:this.state.height||0});var a=Math.max(n.style.maxHeight?n.style.maxHeight:1/0,this.state.maxHeight);return a<this.state.height&&(n.style.overflow="hidden"),g.default.createElement("textarea",p({},n,{onChange:this._onChange,ref:this._onRootDOMNode}))}},{key:"componentDidMount",value:function(){this._resizeComponent(),window.addEventListener("resize",this._resizeComponent)}},{key:"componentWillReceiveProps",value:function(){this._clearNextFrame(),this._onNextFrameActionId=l(this._resizeComponent)}},{key:"componentDidUpdate",value:function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height)}},{key:"componentWillUnmount",value:function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeComponent)}},{key:"_clearNextFrame",value:function(){this._onNextFrameActionId&&u(this._onNextFrameActionId)}},{key:"_onRootDOMNode",value:function(e){this._rootDOMNode=e}},{key:"_onChange",value:function(e){this._resizeComponent();var t=this.props,n=t.valueLink,a=t.onChange;n?n.requestChange(e.target.value):a(e)}},{key:"_resizeComponent",value:function(){var e=this.props.useCacheForDOMMeasurements;this.setState((0,v.default)(this._rootDOMNode,e,this.props.rows||this.props.minRows,this.props.maxRows))}},{key:"focus",value:function(){this._rootDOMNode.focus()}},{key:"blur",value:function(){this._rootDOMNode.blur()}},{key:"value",get:function(){return this._rootDOMNode.value},set:function(e){this._rootDOMNode.value=e}},{key:"selectionStart",get:function(){return this._rootDOMNode.selectionStart},set:function(e){this._rootDOMNode.selectionStart=e}},{key:"selectionEnd",get:function(){return this._rootDOMNode.selectionEnd},set:function(e){this._rootDOMNode.selectionEnd=e}}]),t}(g.default.Component),c.propTypes={value:g.default.PropTypes.string,onChange:g.default.PropTypes.func,onHeightChange:g.default.PropTypes.func,useCacheForDOMMeasurements:g.default.PropTypes.bool,rows:g.default.PropTypes.number,minRows:g.default.PropTypes.number,maxRows:g.default.PropTypes.number},c.defaultProps={onChange:b,onHeightChange:b,useCacheForDOMMeasurements:!1},d);t.default=E},883:function(e,t,n){"use strict";t.__esModule=!0,t.selectMessagesByParentId=t.selectMessagesByPublicationUid=void 0;var a=n(108);t.selectMessagesByPublicationUid=function(e,t){var n=t.publicationUid;return(0,a.selectRootIdToMessageIds)(e,n)},t.selectMessagesByParentId=function(e){return function(t,n){return(0,a.selectMessages)(e,t).filter(function(e){return e.get("parentId")===n})}}},893:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(26),s=a(i),l=n(2),u=a(l),c=n(4),d=a(c),p=n(3),f=a(p),h=n(1),m=a(h),g=n(5),y=n(47),v=a(y),b=function(e){function t(){var n,a,o;(0,u.default)(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=a=(0,d.default)(this,e.call.apply(e,[this].concat(i))),a.handleChange=function(e){var t=e.map(function(e){var t=e.value;return t});a.props.onChange(t)},o=n,(0,d.default)(a,o)}return(0,f.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.valuesMap,n=e.selectedIds,a=(0,s.default)(e,["valuesMap","selectedIds"]);return m.default.createElement(v.default,(0,r.default)({},a,{onChange:this.handleChange,options:t,value:n}))},t}(h.Component);b.defaultProps={multi:!0},t.default=(0,g.connectWidget)()(b)},899:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement("div",{className:"almanac-item__body"},this.props.children)},t}(c.Component);t.default=p},900:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(49),f=a(p),h=n(11),m=a(h),g=n(6),y=new m.default("almanac-item-header"),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getDate=function(){var e=void 0;if("single"===this.props.type||"added"===this.props.type){var t={sameDay:"[Today]",lastDay:"[Yesterday]",lastWeek:"[Last week]"};f.default.utc(this.props.published).isSame(f.default.utc(),"year")?t.sameElse="D MMMM":t.sameElse="D MMMM YYYY",e=f.default.utc(this.props.published).calendar(null,t)}if("month"===this.props.type){if(f.default.utc(this.props.published).isSame(f.default.utc(),"year"))return f.default.utc(this.props.published).format("MMMM");e=f.default.utc(this.props.published).format("MMMM YYYY")}return"year"===this.props.type&&(e=f.default.utc(this.props.published).format("YYYY")),e},t.prototype.renderDate=function(){return this.props.isPromoHeader?null:d.default.createElement(g.Text,y("event-type"),this.getDate())},t.prototype.getCardLabel=function(){switch(this.props.cardType){case"PublicationCard":return this.props.card.publicationDisplayType;case"QuestionCard":return"Question";case"AnswerCard":return"Answer";case"PublicationReviewCard":return"Open Review";case"VitaCard":return;case"PublicationMessageCard":return"Comment";default:return}},t.prototype.renderEventTypeName=function(){var e=void 0;return this.props.dateLabel&&(e=this.props.dateLabel),this.props.totalItemsCount>1&&(e=this.props.totalItemsCount+" contributions"),this.props.cardType&&(e=this.getCardLabel()),d.default.createElement("div",y("date-box"),d.default.createElement(g.Text,y("date-label"),e))},t.prototype.renderCircle=function(){return this.props.isPromoHeader?d.default.createElement("div",y("circle")):d.default.createElement("div",y("outer-circle"),d.default.createElement("div",y("inner-circle")))},t.prototype.render=function(){return d.default.createElement("div",y("",this.props.cssModifiers.join(" ")),this.renderCircle(),this.renderEventTypeName(),this.renderDate())},t}(c.Component);t.default=v},901:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(12),h=a(f),m=n(737),g=a(m),y=n(1352),v=a(y),b=n(914),E=a(b),C=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.state={new:!0,seen:!1},a}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){this.setState({new:!1,seen:!0})},t.prototype.render=function(){var e={"almanac-promo-left":"left"===this.props.position,"almanac-promo-right":"right"===this.props.position,"is-new":this.state.new,"is-seen":this.state.seen};return d.default.createElement(g.default,{position:this.props.position,labelText:"Add missing dates",additionalClasses:(0,h.default)(e)},d.default.createElement(E.default,{showMoreUrl:this.props.showMoreUrl,totalItems:this.props.totalItems}),d.default.createElement(v.default,{widgetId:this.props.publicationList}))},t}(c.Component);t.default=(0,p.connectWidget)()(C)},903:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.AlmanacProjectCreationPromo=void 0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(737),h=a(f),m=n(513),g=a(m),y=t.AlmanacProjectCreationPromo=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement(h.default,{position:"left",labelText:"Projects"},d.default.createElement(g.default,{widgetId:this.props.projectCreationPromo}))},t}(c.Component);t.default=(0,p.connectWidget)()(y)},904:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(12),h=a(f),m=n(19),g=a(m),y=n(24),v=a(y),b=n(737),E=a(b),C=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.state={new:!0,seen:!1,active:!0},a.onMouseEnter=a.onMouseEnter.bind(a),a}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){this.setState({new:!1,seen:!0})},t.prototype.componentWillUnmount=function(){this.state.active&&this.deactivate()},t.prototype.onMouseEnter=function(){this.state.active&&(this.deactivate(),this.setState({active:!1}))},t.prototype.deactivate=function(){(0,g.default)(["rg-base"],function(e){return e.fire("ProfileStatsSuccessStoryContainerView:deactivate")})},t.prototype.render=function(){var e={"almanac-success-stories-promo":!0,"almanac-item--align-right":!0,"is-new":this.state.new,"is-seen":this.state.seen};return d.default.createElement(E.default,{position:"right",
labelText:"Achievements",additionalClasses:(0,h.default)(e)},d.default.createElement("div",{className:"success-stories-promo"},d.default.createElement("div",{className:"success-stories js-success-stories",onMouseEnter:this.onMouseEnter},d.default.createElement("span",{className:"ico-success-story"}),d.default.createElement(v.default,{widgetId:this.props.successStoryContainer}))))},t}(c.Component);t.default=(0,p.connectWidget)()(C)},906:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(5),m=n(6),g=n(577),y=a(g),v=n(11),b=a(v),E=new b.default({name:"almanac-timeline-header"}),C=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e=void 0,t=E({extra:this.props.className});return e=this.props.isOwner?f.default.createElement("div",t,f.default.createElement("div",E({element:"image"}),f.default.createElement("img",{className:"img-circle image-responsive lf",src:this.props.imageUrl,title:this.props.fullname})),f.default.createElement("div",E({element:"body"}),f.default.createElement(y.default,{size:"l",widgetId:this.props.contentCreationButton,label:"Add research"}))):f.default.createElement("div",t,f.default.createElement(m.Text,(0,r.default)({size:"xxxl",spacing:"m"},E({element:"title"})),"Timeline of ",this.props.fullname),f.default.createElement("div",E({element:"image"}),f.default.createElement("img",{className:"img-circle image-responsive lf",src:this.props.imageUrl,title:this.props.fullname})))},t}(p.Component);t.default=(0,h.connectWidget)()(C)},912:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.AlmanacWelcomePromo=void 0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(12),h=a(f),m=n(13),g=a(m),y=n(361),v=n(737),b=a(v),E=n(915),C=a(E),k=n(291),w=a(k),_=t.AlmanacWelcomePromo=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.handleCTAClick=a.handleCTAClick.bind(a),a.state={hidden:!1,new:!0,seen:!1},a}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){this.setState({new:!1,seen:!0})},t.prototype.setOwnerHasSeenPromoUrl=function(){this.setState({hidden:!0}),(0,g.default)(this.props.ownerHasSeenPromoUrl,{method:"POST"})},t.prototype.openSidebar=function(){this.props.dispatch((0,y.setSidebarIsOpen)(!0,this.props.origin))},t.prototype.handleCTAClick=function(e){e.preventDefault(),this.props.totalItemsCount?this.setOwnerHasSeenPromoUrl():(this.openSidebar(),(0,w.default)(this.props.addResearchPayload))},t.prototype.render=function(){var e=(0,h.default)({"is-hidden":this.state.hidden,"is-new":this.state.new,"is-seen":this.state.seen});return d.default.createElement(b.default,{position:"left",labelText:"Welcome",additionalClasses:e},d.default.createElement(C.default,{currentAccountTimelineUrl:this.props.currentAccountTimelineUrl,firstname:this.props.firstname,isOwner:this.props.isOwner,onCTAClick:this.handleCTAClick,totalItemsCount:this.props.totalItemsCount}))},t}(c.Component);t.default=(0,p.connectWidget)()(_)},913:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(17),h=a(f),m=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.openReviewDialog=a.openReviewDialog.bind(a),a}return(0,u.default)(t,e),t.prototype.openReviewDialog=function(){widgetLoader.loadWidgetInDialog(this.props.dialogUrl,{})},t.prototype.render=function(){return d.default.createElement("div",{className:"review-recently-added-promo"},d.default.createElement("span",{className:"promo-icon"},d.default.createElement("span",{className:"ico-simple-publication-stack"})),"We've added ",d.default.createElement("span",{className:"new-count"},this.props.addedPublicationsCount," new ",(0,h.default)("publication",this.props.addedPublicationsCount))," to your profile. ",d.default.createElement("a",{className:"review-link",onClick:this.openReviewDialog},"Review"))},t}(c.Component);t.default=(0,p.connectWidget)()(m)},914:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(17),f=a(p),h=n(7),m=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.openShowMoreDialog=a.openShowMoreDialog.bind(a),a}return(0,u.default)(t,e),t.prototype.openShowMoreDialog=function(){widgetLoader.loadWidgetInDialog(this.props.showMoreUrl)},t.prototype.render=function(){var e=this.props.totalItems,t=(0,f.default)("date",e),n=e>1?"are":"is";return d.default.createElement("div",{className:"almanac-promo-card"},d.default.createElement("div",{className:"almanac-promo-card-header"},e," ",t," ",n," missing"),d.default.createElement("div",{className:"almanac-promo-card-body"},"Publications without dates won't be shown on your timeline. Quickly add the dates that are missing."),d.default.createElement("div",{className:"almanac-promo-card-footer"},d.default.createElement(h.Button,{size:"s",color:"yellow",theme:"inverted",onClick:this.openShowMoreDialog},"Add "+t)),d.default.createElement("div",{className:"almanac-promo-card-icon-container"},d.default.createElement("span",{className:"almanac-promo-card-icon ico-publication-without-date"})))},t}(c.Component);t.default=m},915:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=a(o),i=n(7),s="Go to your own timeline",l="The timeline shows a researcher's career achievements and research output over time, all in one place.",u="Got it",c="Add research",d="Your timeline shows your career achievements and research output over time, all in one place.",p=function(e){var t=e.isOwner?"Welcome to your timeline":"Welcome to "+e.firstname+"'s timeline",n=e.isOwner?null:e.currentAccountTimelineUrl,a=e.isOwner?e.onCTAClick:null,o=e.totalItemsCount?u:c;return r.default.createElement("div",{className:"almanac-promo-card almanac-promo-card-welcome"},r.default.createElement("div",{className:"almanac-promo-card-header"},t),r.default.createElement("div",{className:"almanac-promo-card-body"},e.isOwner?d:l),r.default.createElement("div",{className:"almanac-promo-card-footer"},r.default.createElement(i.Button,{size:"s",color:"green",theme:"inverted",href:n,onClick:a},e.isOwner?o:s)),r.default.createElement("div",{className:"almanac-promo-card-icon-container"},r.default.createElement("span",{className:"almanac-promo-card-icon ico-almanac-timeline"})))};t.default=p},916:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(17),f=a(p),h=n(504),m=a(h),g=n(505),y=a(g),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement(m.default,null,d.default.createElement(y.default,{key:"views",count:this.props.upvoteCount,label:(0,f.default)("Likes",this.props.upvoteCount),url:this.props.upvoteCountUrl}))},t}(c.Component);t.default=v},917:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(26),s=a(i),l=n(1),u=a(l),c=n(11),d=a(c),p=new d.default("almanac-card"),f=function(e){var t=e.children,n=(0,s.default)(e,["children"]);return u.default.createElement("div",(0,r.default)({},p(),n),t)};t.default=f},918:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(26),s=a(i),l=n(1),u=a(l),c=n(11),d=a(c),p=new d.default("almanac-card"),f=function(e){var t=e.children,n=(0,s.default)(e,["children"]);return u.default.createElement("div",(0,r.default)({},p("footer"),n),t)};t.default=f},919:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(11),m=a(h),g=n(6),y=new m.default("almanac-card"),v=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.renderTitle=function(){var e=this.props.title,t=this.props.showAsQuote,n=135;return e.length>n&&(e=e.substr(0,n)+"..."),t?'"'+e+'"':e},t.prototype.render=function(){var e=this.props,t=e.url,n=e.type,a=e.title;return f.default.createElement("div",y("header"),f.default.createElement(g.Text,(0,r.default)({spacing:"s"},y("type")),f.default.createElement("b",null,n)),f.default.createElement(g.Text,{size:"xl",family:"serif"},f.default.createElement(g.Link,{theme:"bare",href:t,title:a},this.renderTitle())))},t}(p.Component);t.default=v},920:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(11),m=a(h),g=n(6),y=new m.default("almanac-card"),v=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.renderItems=function(){var e=this.props.children;return f.default.Children.toArray(e).map(function(e,t){return f.default.createElement(g.List.Item,{key:e[0]+t},e)})},t.prototype.renderTitle=function(){var e=this.props.title;return e?f.default.createElement(g.List.Item,y("meta-title"),e,": "):null},t.prototype.render=function(){return f.default.createElement("div",y("meta"),f.default.createElement(g.List,(0,r.default)({},y("meta-list"),{type:"inline"}),this.renderTitle(),this.renderItems()))},t}(p.Component);t.default=v},921:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(7),f=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.handleRequest=a.handleRequest.bind(a),a.handleUndoRequest=a.handleUndoRequest.bind(a),a}return(0,u.default)(t,e),t.prototype.handleRequest=function(){this.props.onRequestFulltext()},t.prototype.handleUndoRequest=function(){this.props.isUndoRequestAllowed&&this.props.onUndoRequestFulltext()},t.prototype.render=function(){var e="Request "+(this.props.isResearchType?"file":"full-text"),t=(this.props.isResearchType?"File":"Full-text")+" requested",n=this.props.isRequested?this.handleUndoRequest:this.handleRequest;return d.default.createElement(p.Button,{key:"request",status:this.props.isUndoRequestAllowed?"":"disabled",theme:"bare",color:"blue",onClick:n},this.props.isRequested?t:e)},t}(c.Component);t.default=f},922:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(17),m=a(h),g=n(11),y=a(g),v=n(6),b=n(923),E=a(b),C=new y.default("card-people-list"),k=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.renderAuthorItems=function(){return this.props.peopleList.authors.map(function(e){return f.default.createElement(E.default,{fullname:e.fullname,imageUrl:e.imageUrl,url:e.url,key:e.id})})},t.prototype.render=function(){var e=this.props.peopleList,t=this.renderAuthorItems(),n=e.totalAuthorsCount-e.authors.length,a="moreAuthorsItem"+e.totalAuthorsCount+e.authors.length;return n>0&&t.splice(t.length-1,0,f.default.createElement(v.Badge,(0,r.default)({key:a,color:"grey",luminosity:"high"},C("more-people")),"+",n," more ",(0,m.default)("author",n),"...")),f.default.createElement("div",C(),t)},t}(p.Component);t.default=k},923:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(11),m=a(h),g=new m.default("card-people-list"),y=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){return f.default.createElement("div",g("person"),this.props.url?f.default.createElement("a",(0,r.default)({href:this.props.url},g("person-link")),f.default.createElement("img",(0,r.default)({},g("person-img"),{src:this.props.imageUrl,title:this.props.fullname})),this.props.fullname):f.default.createElement("span",g("person-link"),f.default.createElement("img",(0,r.default)({},g("person-img"),{src:this.props.imageUrl,title:this.props.fullname})),this.props.fullname))},t}(p.Component);t.default=y},924:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(1798),h=n(321),m=a(h),g=n(741),y=a(g),v=n(320),b=a(v),E=n(921),C=a(E),k=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.onRequestFulltext=a.onRequestFulltext.bind(a),a.onUndoRequestFulltext=a.onUndoRequestFulltext.bind(a),a.onFollow=a.onFollow.bind(a),a.onUnfollow=a.onUnfollow.bind(a),a.state={isRequested:a.props.publicationActions.isRequested,isUndoRequestAllowed:!a.props.publicationActions.isRequested,isFollowing:a.props.publicationActions.isFollowing},a.interval=null,a}return(0,u.default)(t,e),t.prototype.onRequestFulltext=function(){this.props.dispatch((0,f.requestFulltext)(this.props.publicationActions.requestFulltextEndpoint)),this.setState({isRequested:!0,isUndoRequestAllowed:!0}),this.startTimer()},t.prototype.onUndoRequestFulltext=function(){this.removeTimer(),this.props.dispatch((0,f.undoRequestFulltext)(this.props.publicationActions.undoRequestFulltextEndpoint)),this.setState({isRequested:!1,isUndoRequestAllowed:!0})},t.prototype.onFollow=function(){this.props.dispatch((0,f.followPublication)(this.props.publicationActions.followEndpoint)),this.setState({isFollowing:!0})},t.prototype.onUnfollow=function(){this.props.dispatch((0,f.unfollowPublication)(this.props.publicationActions.unfollowEndpoint)),this.setState({isFollowing:!1})},t.prototype.startTimer=function(){var e=this;this.interval=setInterval(function(){e.removeTimer(),e.setState({isUndoRequestAllowed:!1})},1e4)},t.prototype.removeTimer=function(){clearInterval(this.interval)},t.prototype.render=function(){var e=[];return this.props.publicationActions.isDownloadAllowed&&this.props.publicationActions.hasPublicFulltexts?e.push(d.default.createElement(m.default,{key:"download",label:"Download",href:this.props.publicationActions.downloadUrl})):this.props.publicationActions.hasFulltext||e.push(d.default.createElement(C.default,{key:"requestFulltext",isResearchType:this.props.publicationActions.isPublicationResearchType,isRequested:this.state.isRequested,isUndoRequestAllowed:this.state.isUndoRequestAllowed,onRequestFulltext:this.onRequestFulltext,onUndoRequestFulltext:this.onUndoRequestFulltext})),e.push(d.default.createElement(y.default,{key:"followPublication",isFollowing:this.state.isFollowing,onFollow:this.onFollow,onUnfollow:this.onUnfollow})),d.default.createElement(b.default,null,e)},t}(c.Component);t.default=(0,p.connectWidget)()(k)},925:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.onClick=a.onClick.bind(a),a}return(0,u.default)(t,e),t.prototype.onClick=function(){this.props.isSelected?this.props.onDeselect(this.props.publicationUid):this.props.onSelect(this.props.publicationUid)},t.prototype.getIcon=function(){return this.props.isSelected?d.default.createElement("span",{className:"ico-tick-active"}):d.default.createElement("span",{className:"toggle-hover-icons"},d.default.createElement("span",{className:"ico-tick-inactive"}),d.default.createElement("span",{className:"ico-tick-inactive-hover"}))},t.prototype.render=function(){return d.default.createElement("div",{className:"publication-card-tick",onClick:this.onClick},this.getIcon())},t}(c.Component);t.default=p},926:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.PublicationCardControls=void 0;var o=n(1),r=a(o);t.PublicationCardControls=function(e){return r.default.createElement("div",{className:"almanac-card__controls"},e.children)}},927:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(320),f=a(p),h=n(321),m=a(h),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.renderUploadFulltextLabel=function(){return this.props.publicationActions.isPublicationResearchType?"Upload file":"Upload full-text"},t.prototype.render=function(){var e=void 0;return e=this.props.publicationActions.hasPublicFulltexts?[d.default.createElement(m.default,{key:"resources",href:this.props.publicationActions.addResourcesUrl,label:"Add resources"}),d.default.createElement(m.default,{key:"read",href:this.props.publicationActions.publicationUrl,label:"Read"})]:[d.default.createElement(m.default,{key:"fulltext",href:this.props.publicationActions.uploadFulltextUrl,label:this.renderUploadFulltextLabel()})],d.default.createElement(f.default,null,e)},t}(c.Component);t.default=g},928:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(17),f=a(p),h=n(504),m=a(h),g=n(505),y=a(g),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement(m.default,null,d.default.createElement(y.default,{key:"reads",count:this.props.stats.readsCount,label:(0,f.default)("Read",this.props.stats.readsCount),url:this.props.stats.readsCountUrl}),d.default.createElement(y.default,{key:"citations",count:this.props.stats.citationsCount,label:(0,f.default)("Citation",this.props.stats.citationsCount),url:this.props.stats.citationsCountUrl}))},t}(c.Component);t.default=v},929:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(17),f=a(p),h=n(504),m=a(h),g=n(505),y=a(g),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement(m.default,null,d.default.createElement(y.default,{key:"comments",count:this.props.reviewStats.commentsCount,label:(0,f.default)("Comment",this.props.reviewStats.commentsCount),url:this.props.reviewStats.commentsCountUrl}),d.default.createElement(y.default,{key:"likes",count:this.props.reviewStats.upvotesCount,label:(0,f.default)("Like",this.props.reviewStats.upvotesCount),url:this.props.reviewStats.upvotesCountUrl}))},t}(c.Component);t.default=v},930:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.QuestionCardActions=void 0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(1799),h=n(321),m=a(h),g=n(741),y=a(g),v=n(320),b=a(v),E=t.QuestionCardActions=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.onFollow=a.onFollow.bind(a),a.onUnfollow=a.onUnfollow.bind(a),a.state={isFollowing:a.props.cardActions.isFollowing},a}return(0,u.default)(t,e),t.prototype.onFollow=function(){this.props.dispatch((0,f.followQuestion)(this.props.cardActions.followEndpoint)),this.setState({isFollowing:!0})},t.prototype.onUnfollow=function(){this.props.dispatch((0,f.unfollowQuestion)(this.props.cardActions.unfollowEndpoint)),this.setState({isFollowing:!1})},t.prototype.render=function(){var e=[];return e=this.props.isOwner?[d.default.createElement(m.default,{key:"view",label:"View",href:this.props.cardActions.viewUrl})]:[d.default.createElement(m.default,{key:"answer",label:"Answer",href:this.props.cardActions.answerUrl}),d.default.createElement(y.default,{key:"followPublication",isFollowing:this.state.isFollowing,onFollow:this.onFollow,onUnfollow:this.onUnfollow})],d.default.createElement(b.default,null,e)},t}(c.Component);t.default=(0,p.connectWidget)()(E)},931:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(17),f=a(p),h=n(504),m=a(h),g=n(505),y=a(g),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement(m.default,null,d.default.createElement(y.default,{key:"views",count:this.props.cardStats.viewCount,label:(0,f.default)("Views",this.props.cardStats.viewCount),url:this.props.cardStats.viewCountUrl}),d.default.createElement(y.default,{key:"comment",count:this.props.cardStats.commentCount,label:(0,f.default)("Comment",this.props.cardStats.commentCount),url:this.props.cardStats.commentCountUrl}))},t}(c.Component);t.default=v},953:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(19),f=a(p),h=n(249),m=a(h),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){var e=this;(0,f.default)(["uploader"],function(t){var n=e.props.onUploadError||m.default;e.uploader=new t.Uploader({appendNewFiles:!1,multipleFiles:e.props.multiple,selectFilesButton:t.one(e.refs.selectFiles),uploadURL:e.props.uploadUrl,uploadHeaders:{"Rg-Request-Token":t.rg.requestToken.get()},simLimit:e.props.multiple?3:1,enabled:!0,fileFieldName:"file"}),e.uploader.render(t.one(e.root)),e.uploader.after("fileListChange",function(){return e.uploader.uploadAll()}),"function"==typeof e.props.onUploadStart&&!function(){var t=e.props.onUploadStart;e.uploader.on("uploadstart",function(){return t()})}(),"function"==typeof e.props.onUploadComplete&&!function(){var t=e.props.onUploadComplete;e.uploader.on("uploadcomplete",function(e){var a=JSON.parse(e.data);a.errors.length?n(new Error(a.errors[0])):t(a.result)})}(),"function"==typeof e.props.onAllUploadsComplete&&!function(){var t=e.props.onAllUploadsComplete;e.uploader.on("alluploadscomplete",function(){return t()})}(),e.uploader.on("uploaderror",function(){n(new Error("An error occurred while saving your file(s), please try again later."))})})},t.prototype.render=function(){var e=this,t=d.default.cloneElement(this.props.children,{ref:"selectFiles"});return d.default.createElement("div",{className:this.props.className,ref:function(t){e.root=t}},t)},t}(c.Component);t.default=g,g.defaultProps={multiple:!1}},973:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,s.getLinesOfCode)(e.children);(0,s.removeOuterEmptyElements)(t);for(var n=(0,s.getIndentation)(t[0]),a=0;a<t.length;a++)t[a]=(0,s.trimInitialWhitespaces)(t[a],n);var o=t.join("\n");return i.default.createElement("div",{className:"highlight"},i.default.createElement("pre",null,i.default.createElement("code",null,o)))}t.__esModule=!0,t.default=o;var r=n(1),i=a(r),s=n(2097)},985:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(2138),m=a(h),g=n(5),y=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e=[];return this.props.optionsConfig.forEach(function(t,n){e.push(f.default.createElement(m.default,(0,r.default)({key:n},t)))}),f.default.createElement("ul",{className:"fulltext-dialog-options-list"},e)},t}(p.Component);y.defaultProps={optionsConfig:[]},t.default=(0,g.connectWidget)()(y)},987:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(6),h=n(379),m=a(h),g=n(985),y=a(g),v=n(78),b=a(v),E=n(988),C=a(E),k=n(15),w=a(k),_=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.stepBack=a.stepBack.bind(a),a.showSendMessage=a.showSendMessage.bind(a),a.sharePublic=a.sharePublic.bind(a),a.sharePrivate=a.sharePrivate.bind(a),a.state={dialogContent:a.getShareOptions()},a}return(0,u.default)(t,e),t.prototype.render=function(){return this.state.dialogContent},t.prototype.getShareOptions=function(){var e="xs";return d.default.createElement("div",{className:"fulltext-share-dialog js-full-dialog"},d.default.createElement("div",{className:"dialog-bd"},d.default.createElement(m.default,{widgetId:this.props.publicationRequesters}),d.default.createElement(f.Text,{size:"m",spacing:e},d.default.createElement("b",null,this.props.publicationType,": ",this.props.publicationTitle)),this.getStoredCopyHint(),d.default.createElement(y.default,{optionsConfig:this.getDialogOptionsConfig(),widgetId:this.props.fulltextDialogOptionsList})))},t.prototype.getUploadDialogWidget=function(e){var t={publicationUid:this.props.publicationUid,origin:this.props.origin,type:e,showBackButton:!0,dialogAction:this.props.uploadDialogAction,disableUrlInput:e===this.props.shareTypePrivate,isAsync:!0};return d.default.createElement(b.default,{url:"literature.FulltextUploadDialogReact.html",params:t},d.default.createElement(C.default,{stepBackCallback:this.stepBack,dialog:this.props.dialog}))},t.prototype.getDialogOptionsConfig=function(){var e=this;return[{imageClass:"publication-stack",description:d.default.createElement(f.Text,null,"Share this ",this.props.fileCategory," publicly to satisfy these and ",d.default.createElement("b",null,"any future requests"),"."),buttonText:"Share publicly",buttonAction:this.sharePublic.bind(this)},{imageClass:"envelope-unsealed",description:d.default.createElement(f.Text,null,"Send a private copy to ",d.default.createElement(m.default,{widgetId:this.props.publicationRequesters,onlyPromoRequester:!0})," and any of the other requesters you choose."),buttonText:"Send privately",buttonAction:this.sharePrivate.bind(this),buttonTheme:this.props.sameStyleShareDialogCta?"solid":"ghost"},{imageClass:"envelope-sealed",description:d.default.createElement(f.Text,null,"Don't have the ",this.props.fileCategory,"?",d.default.createElement("br",null)," Let the requesters know by ",d.default.createElement("span",{onClick:function(){return e.showSendMessage()},className:"send-message"},"sending a message")),disableButton:!0}]},t.prototype.sharePublic=function(){(0,w.default)(this.props.milestoneShareDialogOptionPublic),this.setState({dialogContent:this.getUploadDialogWidget(this.props.shareTypePublic)})},t.prototype.sharePrivate=function(){(0,w.default)(this.props.milestoneShareDialogOptionPrivate),this.setState({dialogContent:this.getUploadDialogWidget(this.props.shareTypePrivate)})},t.prototype.showSendMessage=function(){this.props.dialog.hide(),widgetLoader.loadWidgetInDialog(this.props.messageDialogUrl)},t.prototype.stepBack=function(){this.setState({dialogContent:this.getShareOptions()})},t.prototype.getStoredCopyHint=function(){var e=null;return this.props.hasPrivateFulltext&&(e=d.default.createElement(f.Text,{size:"m",className:"hint",spacing:"xxs"},d.default.createElement(f.Icon,{identifier:"check"})," ",d.default.createElement("b",null,"A stored copy")," of the ",this.props.fileCategory," is available for quickly fulfilling these requests")),e},t}(c.Component);t.default=(0,p.connectWidget)()(_)},988:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(6),h=n(7),m=n(635),g=a(m),y=n(1376),v=a(y),b=n(989),E=a(b),C=n(1375),k=a(C),w=n(1374),_=a(w),x=n(990),T=a(x),S=n(1368),M=a(S),N=n(24),D=a(N),P=n(19),I=a(P),A=n(32),R=a(A),F=n(13),O=a(F),L=n(870),U=n(78),B=a(U),j=n(12),q=a(j),W=n(46),H=a(W),z=n(41),Y=n(564),K=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.onStepBack=a.onStepBack.bind(a),a.publicationUpload=a.publicationUpload.bind(a),a.onUploadStart=a.onUploadStart.bind(a),a.onUploadComplete=a.onUploadComplete.bind(a),a.userConditionsVerify=a.userConditionsVerify.bind(a),a.privateMessageChange=a.privateMessageChange.bind(a),a.addDOI=a.addDOI.bind(a),a.yuiEvents=[],a.publisherLinkInput=null,a.requesterEditableList=null,a.state={backButtonState:"",uploadComponentVisible:!0,showAddDOIField:!1,conditionsVerified:a.props.isSendFulltextPrivately,isProcessingUpload:!1,isUploadFinished:!1,uploadType:a.props.uploadTypeSlurp,isPrivateUpload:a.props.type===a.props.privateUploadType,privateMessage:"",newAdminOnlyUploadLinkId:null,newPrivateLinkId:null,isUploadButtonBusy:!1},a}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){this.attachYuiEvents()},t.prototype.componentWillUnmount=function(){(0,H.default)(this.yuiEvents,function(e){e.detach()})},t.prototype.getHeader=function(){var e=void 0,t=void 0;return this.props.isSendFulltextPrivately?e=d.default.createElement(f.Text,{key:"header",size:"xl"},"Send ",this.props.fileCategory," privately"):this.state.isPrivateUpload?(e=d.default.createElement(f.Text,{key:"header",size:"xl"},"Store private copy ",d.default.createElement("span",{className:"rf"},d.default.createElement(f.Icon,{identifier:"lock",className:"lock",size:"m"}))),t=d.default.createElement(f.Text,{key:"subHeader",size:"m",className:"sub-header"},"This private copy will only be visible to you and the co-authors of the publication.")):e=d.default.createElement(f.Text,{key:"header",size:"xl"},"Share ",this.props.fileCategory," publicly"),[e,t]},t.prototype.getAddExistingUrlSection=function(){var e=this;if(this.props.temporaryFile||this.props.selectedLink){var t=(0,q.default)({"published-url-container":!0,"form-big":!0,"show-add-url":this.state.showAddDOIField,hidden:this.props.disableUrlInput});return d.default.createElement("div",{className:t},d.default.createElement(h.Button,{theme:"bare",color:"grey",onClick:this.addDOI,className:"add-url-button"},d.default.createElement(h.Button.Icon,{identifier:"plus-circle",className:"plus-circle"}),d.default.createElement(h.Button.Label,null,"Add any existing URL or DOI link for the ",this.props.fileCategory)),d.default.createElement("input",{id:"url-input",name:"doi-input",ref:function(t){e.publisherLinkInput=t},placeholder:"Add any existing URL or DOI link for the "+this.props.fileCategory,type:"text",className:"text add-url-input",maxLength:"255"}))}},t.prototype.render=function(){var e=this,t=void 0,n=void 0,a=void 0;this.props.isSendFulltextPrivately&&(t=this.getMessageForm(),a=d.default.createElement("p",{className:"private-message-note"},"Your message will be sent to each recipient individually."),n=d.default.createElement(T.default,{ref:function(t){e.requesterEditableList=t},widgetId:this.props.requesterEditableList}));var o=(0,q.default)({"file-upload-container":!0,hidden:!!this.props.temporaryFile}),r=(0,q.default)({"fulltext-container-wrapper":!0,rendering:this.state.isProcessingUpload}),i=void 0;this.props.showBackButton&&(i=d.default.createElement(h.Button,{size:"m",theme:"ghost",onClick:this.onStepBack,status:this.state.backButtonState},d.default.createElement(h.Button.Label,null,"Back")));var s=this.getUploadButtonState(),l=d.default.createElement("div",{className:"share-fulltext-dialog js-full-dialog"},d.default.createElement("div",{className:"dialog-hd"},this.getHeader()),d.default.createElement("div",{className:"dialog-bd"},d.default.createElement(f.Text,{size:"m",spacing:"l"},d.default.createElement("b",null,this.props.publicationType,": ",this.props.publicationTitle)),this.getSelfArchivingInfo(),this.getHintText(),d.default.createElement("div",{
className:r},d.default.createElement("div",{className:"fulltexts-container"},d.default.createElement(v.default,{widgetId:this.props.storedFulltextFiles}),d.default.createElement(D.default,{widgetId:this.props.uploaderComponentFileProgress}),d.default.createElement("div",{className:o},d.default.createElement(D.default,{widgetId:this.props.fileUploader}))),this.getConditions()),this.getAddExistingUrlSection(),n,a,t),d.default.createElement("div",{className:"dialog-ft"},d.default.createElement("div",{className:"actions-holder clearfix"},d.default.createElement("div",{className:"lf"},i),d.default.createElement("div",{className:"rf"},d.default.createElement(h.Button,{size:"m",className:"fulltext-upload-button",status:s,onClick:this.publicationUpload},d.default.createElement(h.Button.Label,null,this.props.isSendFulltextPrivately?"Send":"Upload"))))));if(this.state.isUploadFinished&&this.state.newPrivateLinkId&&this.props.hasFulltextRequests){var u={eventPrefix:this.props.eventPrefix,publicationUid:this.props.publicationUid,fulltextLinkId:this.state.newPrivateLinkId,isAsyncLoad:!0};l=d.default.createElement(B.default,{url:"literature.FulltextSatisfyRequestDialog.html",params:u},d.default.createElement(_.default,{dialog:this.props.dialog}))}else if(this.state.isUploadFinished&&this.state.newAdminOnlyUploadLinkId){var c={eventPrefix:this.props.eventPrefix,publicationUid:this.props.publicationUid,fulltextLinkId:this.state.newAdminOnlyUploadLinkId};l=d.default.createElement(B.default,{url:"literature.FulltextStoreDialog.html",params:c},d.default.createElement(k.default,{dialog:this.props.dialog}))}else if(this.state.isUploadFinished&&!this.props.closeOnUploadFinished){var p={eventPrefix:this.props.eventPrefix,publicationUid:this.props.publicationUid,uploadType:this.state.uploadType,isPrivateUpload:this.state.isPrivateUpload};l=d.default.createElement(B.default,{url:"literature.FulltextUploadFinished.html",params:p},d.default.createElement(E.default,{dialog:this.props.dialog}))}return l},t.prototype.getMessageForm=function(){return d.default.createElement("div",{className:"message-form-container"},d.default.createElement("div",{className:"control-group"},d.default.createElement("label",{htmlFor:"private-message-textarea"},"Message:"),d.default.createElement("textarea",{value:this.state.privateMessage,onChange:this.privateMessageChange,id:"private-message-textarea",name:"private-message",placeholder:"Enter a message for all the recipients"})))},t.prototype.getHintText=function(){var e=void 0;return this.props.isSendFulltextPrivately?this.props.hasPrivateFulltexts&&(e=d.default.createElement(f.Text,{size:"m",className:"hint"},"Choose to send a stored copy or select a different file:")):this.props.hasPrivateFulltexts?e=d.default.createElement(f.Text,{size:"m",className:"hint"},"Choose a version of your stored publication to upload, or add a different file."):this.props.hasSlurps&&(e=d.default.createElement(f.Text,{size:"m",className:"hint"},"Choose to import the file from the external source, or add a different file.")),e},t.prototype.getConditions=function(){var e=void 0,t="conditions-container";if(this.props.isSendFulltextPrivately)e=d.default.createElement("div",{className:"view-conditions"},d.default.createElement(M.default,null));else{(this.props.temporaryFile||this.props.selectedLink)&&(t+=" show-conditions");var n="I have reviewed and verified the file I am uploading.Â I have the right to share the full text publicly, and agree to the",a=d.default.createElement(f.Text,null,"By uploading this file you confirm that you hold the necessary copyright, license, permission or other rights necessary to publish the work, and that it does not violate the personal rights of another person. You also ask ResearchGate to extract from the file any structured data and figures (including, without limitation, data, tables, graphs, images, illustrations) and display them on your profile as separate items and/or in an enriched viewing format, including an enriched version of the file when downloaded. If you do not wish to have the file enriched on download, you may turn it off in Settings.");this.props.type===this.props.privateUploadType&&(n="I have reviewed and verified the file I am uploading. I have the right to privately store the file, and agree to the",a=d.default.createElement(f.Text,null,"By uploading this file you confirm that you hold the necessary copyright, license, permission or other rights necessary to publish the work, and that it does not violate the personal rights of another person. You also ask ResearchGate to extract from the file any structured data and figures (including, without limitation, data, tables, graphs, images, illustrations) for analysis purposes and to enrich the file when shared privately. If you do not wish to have the file enriched when shared, you may turn if off in Settings.")),e=d.default.createElement("div",{className:t},d.default.createElement("div",{className:"conditions-content"},d.default.createElement("label",{className:"checkbox"},d.default.createElement("input",{type:"checkbox",name:"condition",checked:this.state.conditionsVerified,onChange:this.userConditionsVerify}),d.default.createElement(f.Text,{className:"conditions",size:"m"},n," ",d.default.createElement(h.Tooltip,{spacing:"s",color:"black",target:d.default.createElement(f.Link,{theme:"bare",color:"blue",className:"upload-conditions-link"},"Upload Conditions")},a)))))}return e},t.prototype.getSelfArchivingInfo=function(){return this.props.replaceSelfArchivingCopy?d.default.createElement("div",{className:"self-archiving"},"The journal you published in may support self-archiving. ",d.default.createElement(f.Link,{theme:"decorated",className:"upload-conditions-link",href:"http://www.sherpa.ac.uk/romeo",target:"_blank"},"Learn more")):d.default.createElement(g.default,{widgetId:this.props.publicationRomeoClassification})},t.prototype.addDOI=function(){var e=this;this.setState({showAddDOIField:!0},function(){e.publisherLinkInput&&e.publisherLinkInput.focus()})},t.prototype.publicationUpload=function(){var e=this;this.setBusyUploadButton(),this.disableBackButton();var t=this.props.selectedLink||this.props.temporaryFile;this.publisherLinkInput.value&&(t.publisherLink=this.publisherLinkInput.value),t.isPrivateUpload=this.state.isPrivateUpload,t.publicationUid=this.props.publicationUid,t.viewId=this.props.fulltextRequestFulfillmentViewId,t.origin=this.props.origin;var n=void 0;if(this.props.isSendFulltextPrivately){n=this.props.privatelyShareFulltextUrl;var a=this.requesterEditableList.getWrappedInstance().getRequestersListData(),o=a.map(function(e){return e.accountKey});t={publicationUid:this.props.publicationUid,tmpFileId:this.props.temporaryFile&&this.props.temporaryFile.fileKey?this.props.temporaryFile.fileKey:null,assetKey:this.props.temporaryFile&&this.props.temporaryFile.assetKey?this.props.temporaryFile.assetKey:null,privateLinkId:this.props.selectedLink?this.props.selectedLink.linkId:null,fileName:t.fileName,requesterKeys:o,saveForLater:!1,message:this.state.privateMessage,viewId:this.props.fulltextRequestFulfillmentViewId}}else n=this.props.approveFulltextCrawlingRequestImport,t&&(this.setState({uploadType:this.props.uploadTypeFile}),t.fileKey||t.assetKey?n=this.props.createLinkUrl:t.linkId&&!t.isSlurp&&(n=this.props.makePubliclyAvailable));(0,O.default)(n,{method:"POST",body:t}).then(function(t){t.success?(e.setState({isUploadFinished:!0,newAdminOnlyUploadLinkId:t.result.newAdminOnlyUploadLinkId,newPrivateLinkId:t.result.newPrivateLinkId}),e.props.closeOnUploadFinished&&(e.props.dialog.hide(),e.showSuccessNotification())):(e.setNotBusyUploadButton(),e.enableBackButton(),(0,R.default)(t.errors,A.TYPE_WARNING))}).catch(function(t){e.setNotBusyUploadButton(),e.enableBackButton(),(0,R.default)(t.errors||t.message,A.TYPE_WARNING)})},t.prototype.showSuccessNotification=function(){var e=d.default.createElement(h.Alert,{color:"green",title:this.props.fileCategory+" added",description:"The "+this.props.fileCategory+" has been successfully added to your publication."},d.default.createElement(f.Icon,{identifier:"check-circle",size:"l"}));this.props.dispatch((0,Y.removePublication)(this.props.publicationUid)),this.props.dispatch((0,z.pushAlert)(function(){return e}))},t.prototype.privateMessageChange=function(e){e.target&&this.setState({privateMessage:e.target.value})},t.prototype.onUploadStart=function(){this.setState({isProcessingUpload:!0})},t.prototype.onUploadComplete=function(e){if(this.setState({isProcessingUpload:!1}),e.results.length>0){var t=e.results[0];t.success?(this.props.dispatch((0,L.removeFulltextLink)()),this.props.dispatch((0,L.setTemporaryFulltextFile)(e.results[0].result))):(0,R.default)(t.errors,A.TYPE_WARNING)}else(0,R.default)("An error occurred during upload.",A.TYPE_WARNING)},t.prototype.attachYuiEvents=function(){var e=this;(0,I.default)(["event-custom"],function(t){var n=e.props.eventPrefix;e.yuiEvents=[t.on(n+":uploadComplete",e.onUploadComplete),t.on(n+":uploadStart",e.onUploadStart)]})},t.prototype.disableBackButton=function(){this.setState({backButtonState:"disabled"})},t.prototype.enableBackButton=function(){this.setState({backButtonState:""})},t.prototype.userConditionsVerify=function(e){if(e.currentTarget){var t=!this.state.conditionsVerified;this.setState({conditionsVerified:t})}},t.prototype.onStepBack=function(){this.props.stepBackCallback()},t.prototype.setBusyUploadButton=function(){this.setState({isUploadButtonBusy:!0})},t.prototype.setNotBusyUploadButton=function(){this.setState({isUploadButtonBusy:!1})},t.prototype.getUploadButtonState=function(){return this.state.isUploadButtonBusy?"busy":this.state.conditionsVerified&&(this.props.temporaryFile||this.props.selectedLink)?"":"disabled"},t}(c.Component);t.default=(0,p.connectWidget)(function(e){var t=e.literaturePublicationFulltext,n=t.temporaryFile,a=t.selectedLink;return{temporaryFile:n,selectedLink:a}})(K)},989:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(7),h=n(6),m=n(24),g=a(m),y=n(19),v=a(y),b=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return(0,v.default)([],function(e){e.on("rg.popup:closed",function(){window.location.reload()})}),a}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement("div",{className:"fulltext-upload-finished-dialog"},d.default.createElement("div",{className:"dialog-hd"},d.default.createElement(h.Text,{size:"xl"},this.props.headerText)),d.default.createElement("div",{className:"dialog-bd"},d.default.createElement(h.Text,{size:"m",spacing:"l"},this.props.bodyText),d.default.createElement(g.default,{widgetId:this.props.fulltextUploadDialogEndOfTransaction})),d.default.createElement("div",{className:"dialog-ft"},d.default.createElement("div",{className:"actions-holder clearfix"},d.default.createElement("div",{className:"rf"},d.default.createElement(f.Button,{size:"m",className:"fulltext-upload-button",onClick:function(){return window.location.reload()}},d.default.createElement(f.Button.Label,null,"Close"))))))},t}(c.Component);t.default=(0,p.connectWidget)()(b)},990:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(6),h=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.state={requesterList:n.requesterList},a.removeRequester=a.removeRequester.bind(a),a}return(0,u.default)(t,e),t.prototype.getRequestersList=function(){var e=this;return this.state.requesterList.map(function(t,n){var a=void 0;return e.state.requesterList.length>1&&(a=d.default.createElement("a",{className:"keyword-list-token-remove",onClick:e.removeRequester,"data-accountId":t.id},"Ã")),d.default.createElement("li",{key:n,className:"requester-promo-list-item keyword-list-token approved keyword-list-token-notfollowing"},d.default.createElement("span",{className:"keyword-list-token-text ga-keyword-pill"},t.firstName," ",t.lastName),a)})},t.prototype.getRequestersListData=function(){return this.state.requesterList},t.prototype.removeRequester=function(e){var t=this;e.currentTarget&&!function(){var n=parseInt(e.currentTarget.getAttribute("data-accountId")),a=t.state.requesterList.filter(function(e){return e.id!==n});t.setState({requesterList:a})}()},t.prototype.render=function(){return d.default.createElement("div",{className:"requester-editable-list clearfix"},d.default.createElement(f.Text,{spacing:"xxs",size:"s"},"Send to:"),d.default.createElement("ul",null,this.getRequestersList()))},t}(c.Component);t.default=(0,p.connectWidget)(void 0,void 0,void 0,{withRef:!0})(h)},996:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(6),f=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement("div",{className:"general-attachment-item slurp-import-processing"},d.default.createElement("div",{className:"attachment-list-item"},d.default.createElement("div",{className:"item-thumbnail"},d.default.createElement("span",{className:"ico-file-thumbnail"},d.default.createElement(p.Icon,{identifier:"clock",size:"s",className:"clock-icon"}))),d.default.createElement("div",{className:"item-info"},d.default.createElement("div",{className:"item-title"},d.default.createElement("i",null,"A copy of the full-text is being imported")),d.default.createElement("div",{className:"item-subline"},this.props.subline),d.default.createElement("div",{className:"item-actions"},this.props.actions))))},t}(d.default.Component);t.default=f},999:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(1219),f=a(p),h=n(5),m=n(24),g=a(m),y=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){var e=(0,f.default)(this.props.actions).map(function(e,t){return d.default.createElement("div",{key:t,className:"product-action-container"},d.default.createElement(g.default,{widgetId:e}))});return d.default.createElement("div",{className:"product-actions"},e)},t}(c.Component);t.default=(0,h.connectWidget)()(y)},1002:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(15),f=a(p),h=n(5),m=n(57),g=a(m),y=n(728),v=n(2202),b=a(v),E=function(e){function t(){var n,a,o;(0,r.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=a=(0,s.default)(this,e.call.apply(e,[this].concat(l))),a.openProductMentions=function(){a.track("productMentions"),a.scrollToResourceTabBox(),a.props.dispatch((0,y.updateSelectedTabIndex)(y.TAB_INDEX_PRODUCT_MENTIONS))},o=n,(0,s.default)(a,o)}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement("div",{className:"product-header-stat"},d.default.createElement(b.default,{label:"Citation",count:this.props.productMentionsCount,onClick:this.openProductMentions}),d.default.createElement(b.default,{label:"Read",count:this.props.readsCount}),d.default.createElement(b.default,{label:"Follower",count:this.props.followersCount}))},t.prototype.scrollToResourceTabBox=function(){(0,g.default)(".product-resource-tab-box",{offset:-100,duration:600,ease:"inOutQuart"})},t.prototype.track=function(e){var t=this.props.milestones[e];(0,f.default)(t)},t}(c.Component);t.default=(0,h.connectWidget)()(E)},1007:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.showAResearchDialog=a.showAResearchDialog.bind(a),a.showClaimDialog=a.showClaimDialog.bind(a),a.state={possibleClaims:[]},a}return(0,u.default)(t,e),t.prototype.getLayoutBasic=function(){var e=d.default.createElement("a",{className:"btn",href:this.props.buttonHref},this.props.buttonText);return this.props.loadAsDialog&&(e=d.default.createElement("a",{className:"btn",onClick:this.showAResearchDialog},this.props.buttonText)),this.props.hasScores===!0?d.default.createElement("div",{className:"profile-reputation-promo-stack-wrapper"},d.default.createElement("div",{className:"profile-reputation-promo-stack"},d.default.createElement("div",{className:"indent-right"},d.default.createElement("div",{className:"ico-score-boost"})),d.default.createElement("div",{className:"promo-title"},this.props.headline),d.default.createElement("div",{className:"promo-subtext"},this.props.subHeadline),e)):d.default.createElement("div",{className:"profile-reputation-promo-stack-wrapper profile-reputation-empty-promo-stack-wrapper"},d.default.createElement("div",{className:"profile-reputation-promo-stack"},d.default.createElement("div",{className:"indent-right"},e),d.default.createElement("div",{className:"promo-title"},this.props.subHeadline)))},t.prototype.showAResearchDialog=function(){var e=this.props.buttonHref;widgetLoader.loadWidgetInDialog(e)},t.prototype.showClaimDialog=function(){widgetLoader.loadWidgetInDialog(this.props.claimDialogUrl)},t.prototype.getLayoutClaim=function(){return d.default.createElement("div",{className:"profile-reputation-promo-stack-wrapper"},d.default.createElement("div",{className:"profile-reputation-promo-stack"},d.default.createElement("div",{className:"indent-right",style:{paddingTop:13}},d.default.createElement("div",null,d.default.createElement("a",{className:"btn claim-btn",onClick:this.showClaimDialog},"I am the author")),d.default.createElement("div",null,d.default.createElement("a",{className:"btn claim-btn",href:this.props.claimDeclineUrl},"This is not me")),d.default.createElement("div",{className:"claim-link-wrapper"},d.default.createElement("a",{className:"claim-link",href:this.props.buttonHref},this.props.buttonText))),d.default.createElement("div",{className:"promo-headline1"},this.props.headline),d.default.createElement("div",{className:"promo-headline2"},this.props.authorName),d.default.createElement("div",{className:"promo-publicationtitle"},this.props.publicationTitle),d.default.createElement("div",{className:"promo-publicationauthors"},this.props.publicationAuthors),d.default.createElement("div",{className:"promo-publicationjournal"},this.props.publicationJournal)))},t.prototype.render=function(){return this.props.isClaim?this.getLayoutClaim():this.getLayoutBasic()},t}(c.Component);t.default=(0,p.connectWidget)()(f)},1009:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(24),h=a(f),m=n(12),g=a(m),y=function(e){function t(){(0,r.default)(this,t);var n=(0,s.default)(this,e.call(this));return n.showDialog=n.showDialog.bind(n),n.handleShowInfo=n.handleShowInfo.bind(n),n.handleHideInfo=n.handleHideInfo.bind(n),n.handleInfoMouseOver=n.handleInfoMouseOver.bind(n),n.handleInfoMouseOut=n.handleInfoMouseOut.bind(n),n.state={infoHover:!1,showInfo:!1},n}return(0,u.default)(t,e),t.prototype.handleShowInfo=function(){this.setState({showInfo:!0})},t.prototype.handleHideInfo=function(){this.setState({showInfo:!1})},t.prototype.handleInfoMouseOver=function(){this.setState({infoHover:!0})},t.prototype.handleInfoMouseOut=function(){this.setState({infoHover:!1})},t.prototype.showDialog=function(){widgetLoader.loadWidgetInDialog(this.props.dialogUrl,null,null,null,null,null,"top-h-publications-dialog")},t.prototype.getTooltip=function(){return this.props.isSelf?d.default.createElement("span",null,"The ",d.default.createElement("i",null,"h"),"-index an author-level metric that measures your research output and its citation impact. It is based on a set of your most cited work and the number of citations itâs received."):d.default.createElement("span",null,"The ",d.default.createElement("i",null,"h"),"-index is an author-level metric that measures a personâs research output and its citation impact. It is based on a set of their most cited work and the number of citations itâs received.")},t.prototype.getPromotedPublicationItem=function(){return this.props.publicationItem?d.default.createElement("div",{className:"h-index-section-index-inner"},d.default.createElement("p",{className:"top-publication-headline"},"Top ",d.default.createElement("i",null,"h")," cited research:"),d.default.createElement(h.default,{widgetId:this.props.publicationItem}),d.default.createElement("a",{className:"see-more",onClick:this.showDialog},"See more")):null},t.prototype.render=function(){var e={"info-icon":!0,"ico-reputation-info":!this.state.infoHover,"ico-reputation-info-active":this.state.infoHover},t={"profile-score-section":!0,"active-mode":this.state.showInfo},n={"ico-x-close-light":!0};return d.default.createElement("div",{className:(0,g.default)(t)},d.default.createElement("div",{className:"profile-score-section-info"},d.default.createElement("a",{className:"close",onClick:this.handleHideInfo},d.default.createElement("span",{className:(0,g.default)(n)})),d.default.createElement("div",{className:"profile-score-section-info-inner"},this.getTooltip()," ",d.default.createElement("a",{href:"https://explore.researchgate.net/display/support/Scores",target:"_blank",className:"learn-more"},"Learn more"))),d.default.createElement("div",{className:"section-h-index"},d.default.createElement("div",{className:"h-index"},d.default.createElement("div",{className:"h-index-section-index-inner"},d.default.createElement("div",{className:"description"},d.default.createElement("div",{className:"tooltip-background-wrapper"},d.default.createElement("div",{className:"tooltip-background"})),d.default.createElement("i",null,"h"),"-index",d.default.createElement("a",{className:(0,g.default)(e),onMouseOver:this.handleInfoMouseOver,onMouseOut:this.handleInfoMouseOut,onClick:this.handleShowInfo})),d.default.createElement("div",{className:"number"},this.props.hIndex))),d.default.createElement("div",{className:"h-index-discounting"},d.default.createElement("div",{className:"h-index-section-index-inner"},d.default.createElement("div",{className:"description"},d.default.createElement("i",null,"h"),"-index"),d.default.createElement("div",{className:"number"},this.props.hIndexDiscounting),d.default.createElement("div",{className:"subdescription"},"excluding self-citations"))),d.default.createElement("div",{className:"h-index-section-publication"},this.getPromotedPublicationItem())))},t}(d.default.Component);t.default=(0,p.connectWidget)()(y)},1010:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(12),h=a(f),m=n(6),g=n(7),y=n(13),v=a(y),b=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.handleShowInfo=a.handleShowInfo.bind(a),a.handleHideInfo=a.handleHideInfo.bind(a),a.handleInfoMouseOver=a.handleInfoMouseOver.bind(a),a.handleInfoMouseOut=a.handleInfoMouseOut.bind(a),a.handleCloseFirstTimePromo=a.handleCloseFirstTimePromo.bind(a),a.onExtendedChartHover=a.onExtendedChartHover.bind(a),a.onDirectChartHover=a.onDirectChartHover.bind(a),a.state={infoHover:!1,showInfo:!1,directChartHovered:!1,extendedChartHovered:!1,isFirstTime:n.isFirstTime},a}return(0,u.default)(t,e),t.prototype.handleShowInfo=function(){this.setState({showInfo:!0})},t.prototype.handleHideInfo=function(){this.setState({showInfo:!1})},t.prototype.handleInfoMouseOver=function(){this.setState({infoHover:!0})},t.prototype.handleInfoMouseOut=function(){this.setState({infoHover:!1})},t.prototype.handleCloseFirstTimePromo=function(){(0,v.default)("profile.ProfileScoresReach.html",{method:"POST"}),this.setState({isFirstTime:!1})},t.prototype.getFirstTimePromo=function(){return d.default.createElement("div",{className:"firsttime-promo"},d.default.createElement("div",{className:"reach-section-info"},d.default.createElement("a",{className:"rf",onClick:this.handleCloseFirstTimePromo},d.default.createElement("span",{className:"ico-x-close-light"})),d.default.createElement("div",null,d.default.createElement(m.Text,{spacing:"s",size:"l"},d.default.createElement("b",null,"Introducing RG Reach")),d.default.createElement(m.Text,{size:"l",className:"reach-tooltip-text",spacing:"s"},d.default.createElement("b",null,"RG Reach")," is a way to gauge the visibility of your work on ResearchGate. It shows you how many ",d.default.createElement("b",null,"unique researchers")," can get notified when you add new research. Reach adds together your number of direct connections and the number of people connected to your work via your co-authors and project collaborators.",d.default.createElement(m.Link,{target:"_blank",href:"https://explore.researchgate.net/display/support/Scores",theme:"decorated",className:"learn-more-score"},"Learn more")))))},t.prototype.onExtendedChartHover=function(){var e=!0;this.state.extendedChartHovered&&(e=!1),this.setState({extendedChartHovered:e})},t.prototype.onDirectChartHover=function(){var e=!0;this.state.directChartHovered&&(e=!1),this.setState({directChartHovered:e})},t.prototype.render=function(){var e={"info-icon":!0,"ico-reputation-info":!this.state.infoHover,"ico-reputation-info-active":this.state.infoHover},t={"profile-score-section":!0,"active-mode":this.state.showInfo},n={"ico-x-close-light":!0},a={"reach-breakdown":!0,"reach-direct":this.state.directChartHovered,"reach-extended":this.state.extendedChartHovered},o=d.default.createElement("a",{className:(0,h.default)(e),onMouseOver:this.handleInfoMouseOver,onMouseOut:this.handleInfoMouseOut,onClick:this.handleShowInfo}),r=void 0;this.state.isFirstTime&&(r=this.getFirstTimePromo(),o=null);var i=void 0,s=void 0;this.props.hasExtendedReach&&(s=d.default.createElement("div",{className:"chart extended-chart",onMouseEnter:this.onExtendedChartHover,onMouseLeave:this.onExtendedChartHover}),i=d.default.createElement("div",{className:"extended indent-container"},d.default.createElement("div",{className:"indent-left"},d.default.createElement("div",{className:"extended-circle"})),d.default.createElement(m.Text,{className:"reach-number"},this.props.extendedReach),d.default.createElement(m.Text,{className:"reach-number-description",size:"m"},"Indirect Reach")));var l=void 0;return l=this.props.reachPageLink?d.default.createElement(m.Link,{href:this.props.reachPageLink,theme:"bare",color:"blue",className:"find-out-how"},"How do I improve it?"):d.default.createElement(g.Tooltip,{spacing:"l",target:d.default.createElement(m.Link,{theme:"bare",color:"blue",className:"find-out-how"},"How do I improve it?")},d.default.createElement(m.Text,{size:"m",spacing:"m"},d.default.createElement("b",null,"Here's how you can improve your reach:")),d.default.createElement(m.List,{size:"m",type:"unordered"},d.default.createElement(m.List.Item,null,"Add your collaborators to projects you're working on together"),d.default.createElement(m.List.Item,null,"Make sure your co-authors have claimed the work you authored together"),d.default.createElement(m.List.Item,null,"Invite your co-authors and collaborators who aren't on ResearchGate yet")),d.default.createElement(m.Link,{target:"_blank",href:"https://explore.researchgate.net/display/support/Scores",theme:"bare",color:"blue",className:"find-out-how"},"Learn more")),d.default.createElement("div",null,r,d.default.createElement("div",{className:(0,h.default)(t)},d.default.createElement("div",{className:"profile-score-section-info reach-section-info"},d.default.createElement("a",{className:"close",onClick:this.handleHideInfo},d.default.createElement("span",{className:(0,h.default)(n)})),d.default.createElement("div",{className:"profile-score-section-info-inner"},d.default.createElement(m.Text,{size:"l",className:"reach-tooltip-top reach-tooltip-text"},d.default.createElement("b",null,"RG Reach")," is a way to gauge the visibility of your work on ResearchGate. It shows you how many ",d.default.createElement("b",null,"unique researchers")," can get notified when you add new research. Reach adds together your number of direct connections and the number of people connected to your work via your co-authors and project collaborators.",d.default.createElement(m.Link,{target:"_blank",href:"https://explore.researchgate.net/display/support/Scores",theme:"decorated",className:"learn-more-score"},"Learn more")))),d.default.createElement("div",{className:"section-reach"},d.default.createElement("div",{className:"reach-main"},d.default.createElement("div",{className:"reach-section-inner"},d.default.createElement("div",{className:"description"},d.default.createElement("div",{className:"tooltip-background-wrapper"},d.default.createElement("div",{className:"tooltip-background"})),d.default.createElement(m.Text,{spacing:"xxs",size:"xl"},"RG Reach ",o)),d.default.createElement("div",{className:"number"},this.props.reach),d.default.createElement(m.Text,{className:"researchers"},"Researchers"))),d.default.createElement("div",{className:(0,h.default)(a)},d.default.createElement("div",{className:"reach-section-inner"},d.default.createElement("div",{className:"chart-container"},d.default.createElement("div",{className:"charts"},s,d.default.createElement("div",{className:"chart direct-chart",onMouseEnter:this.onDirectChartHover,onMouseLeave:this.onDirectChartHover})),d.default.createElement(m.Text,{className:"mouse-over",size:"s"},"Mouse over to see more details")),d.default.createElement("div",{className:"legend-right"},d.default.createElement("div",{className:"breakdown"},d.default.createElement("div",{className:"direct indent-container"},d.default.createElement("div",{className:"indent-left"},d.default.createElement("div",{className:"direct-circle"})),d.default.createElement(m.Text,{className:"reach-number"},this.props.directReach),d.default.createElement(m.Text,{className:"reach-number-description",size:"m"},"Direct Reach")),i),d.default.createElement("div",{className:"direct-breakdown"},d.default.createElement(m.Text,{className:"headline",size:"xl"},"Direct Reach"),d.default.createElement(m.Text,{className:"counts",size:"m"},d.default.createElement("b",null,this.props.directReach)," researchers"),d.default.createElement(m.List,{size:"m",type:"unordered",spacing:"none",className:"list"},d.default.createElement(m.List.Item,null,"Co-authors"),d.default.createElement(m.List.Item,null,"Followers"),d.default.createElement(m.List.Item,null,"Project collaborators"),d.default.createElement(m.List.Item,null,"Project followers"))),d.default.createElement("div",{className:"extended-breakdown"},d.default.createElement(m.Text,{className:"headline",size:"xl"},"Indirect Reach"),d.default.createElement(m.Text,{className:"counts",size:"m"},d.default.createElement("b",null,this.props.extendedReach)," researchers"),d.default.createElement(m.List,{size:"m",type:"unordered",spacing:"none",className:"list"},d.default.createElement(m.List.Item,null,"Followers of ",d.default.createElement("br",null),"co-authors"),d.default.createElement(m.List.Item,null,"Followers of project collaborators")))))),d.default.createElement("div",{className:"reach-description"},d.default.createElement("div",{className:"reach-section-inner"},d.default.createElement(m.Text,{size:"m",className:"description",spacing:"m"},d.default.createElement("b",null,"RG Reach")," is a way to gauge the visibility of your work on ResearchGate."),l)))))},t}(d.default.Component);t.default=(0,p.connectWidget)()(b)},1011:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;
var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(24),h=a(f),m=n(12),g=a(m),y=n(104),v=n(748),b=a(v),E=function(e){function t(){(0,r.default)(this,t);var n=(0,s.default)(this,e.call(this));return n.handleShowInfo=n.handleShowInfo.bind(n),n.handleHideInfo=n.handleHideInfo.bind(n),n.handleInfoMouseOver=n.handleInfoMouseOver.bind(n),n.handleInfoMouseOut=n.handleInfoMouseOut.bind(n),n.state={infoHover:!1,showInfo:!1},n}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){var e=new b.default(this.refs.chart,75);e.innerDiameter=50,e.padAngle=0,e.setScaleSimplified(this.getBreakdownColorScale()),this.setState({colorScale:e.getScale()}),e.data(this.getColoredBreakdownData()),e.render()},t.prototype.getColoredBreakdownData=function(){for(var e=this.props.breakdownData,t=this.getBreakdownColorScale(),n=0,a=e,o=Array.isArray(a),r=0,a=o?a:a[Symbol.iterator]();;){var i;if(o){if(r>=a.length)break;i=a[r++]}else{if(r=a.next(),r.done)break;i=r.value}var s=i;s.count=s.percentage,s.color=t[n],n++}return e},t.prototype.getBreakdownColorScale=function(){return[y.Color.getColor("blue-100"),y.Color.getColor("blue-200"),y.Color.getColor("blue-300"),y.Color.getColor("blue-400")]},t.prototype.getTooltip=function(){return this.props.isSelf?"The RG Score takes all your research and turns it into a source of reputation. It is calculated based on the research in your profile and how other researchers interact with your content.":"The RG Score takes all a person's research and turns it into a source of reputation. It is calculated based on the research in their profile and how other researchers interact with their content."},t.prototype.handleShowInfo=function(){this.setState({showInfo:!0})},t.prototype.handleHideInfo=function(){this.setState({showInfo:!1})},t.prototype.handleInfoMouseOver=function(){this.setState({infoHover:!0})},t.prototype.handleInfoMouseOut=function(){this.setState({infoHover:!1})},t.prototype.render=function(){var e={"info-icon":!0,"ico-reputation-info":!this.state.infoHover,"ico-reputation-info-active":this.state.infoHover},t={"profile-score-section":!0,"active-mode":this.state.showInfo},n={"ico-x-close-light":!0};return d.default.createElement("div",{className:(0,g.default)(t)},d.default.createElement("div",{className:"profile-score-section-info"},d.default.createElement("a",{className:"close",onClick:this.handleHideInfo},d.default.createElement("span",{className:(0,g.default)(n)})),d.default.createElement("div",{className:"profile-score-section-info-inner"},this.getTooltip()," ",d.default.createElement("a",{href:"https://explore.researchgate.net/display/support/Scores",target:"_blank",className:"learn-more"},"Learn more"))),d.default.createElement("div",{className:"section-rg-score"},d.default.createElement("div",{className:"rg-score-main"},d.default.createElement("div",{className:"rg-score-section-inner"},d.default.createElement("div",{className:"description"},d.default.createElement("div",{className:"tooltip-background-wrapper"},d.default.createElement("div",{className:"tooltip-background"})),"RG Score",d.default.createElement("a",{className:(0,g.default)(e),onMouseOver:this.handleInfoMouseOver,onMouseOut:this.handleInfoMouseOut,onClick:this.handleShowInfo})),d.default.createElement("div",{className:"number"},this.props.RgScore))),d.default.createElement("div",{className:"rg-score-breakdown"},d.default.createElement("div",{className:"rg-score-section-inner"},d.default.createElement("div",{ref:"chart",className:"chart-container"}),d.default.createElement("div",{className:"legend-right"},d.default.createElement("h5",{className:"legend-header"},"Breakdown:"),this.getColoredBreakdownData().map(function(e){var t=e.percentage,n=e.color;return d.default.createElement("div",{key:e.label.replace(/\s+/g,"")},d.default.createElement("div",{className:"color-legend",style:{backgroundColor:n}}),d.default.createElement("span",{className:"label-legend"},d.default.createElement("span",{className:"label-legend-count label-legend-percent"},t,"% "),e.label))})))),d.default.createElement("div",{className:"rg-score-section-percentile "},d.default.createElement("div",{className:"rg-score-section-inner"},d.default.createElement(h.default,{widgetId:this.props.percentileWidget})))))},t}(d.default.Component);t.default=(0,p.connectWidget)()(E)},1048:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(1219),f=a(p),h=n(5),m=n(24),g=a(m),y=n(7),v=n(13),b=a(v),E=n(41),C=n(89),k=n(15),w=a(k),_=n(93),x=a(_),T=n(1365),S=a(T),M=n(2333),N=a(M),D=function(e){function t(){var n,a,o;(0,r.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=a=(0,s.default)(this,e.call.apply(e,[this].concat(l))),a.showRequestProjectNotification=function(e){a.startExperiment(),a.flushAlerts(),a.props.dispatch((0,E.pushAlert)(function(){return d.default.createElement(S.default,{title:"Interested in what the authors are working on?",description:"Request an overview of their current project.",label:"Yes",onConfirm:function(){return a.handleRequestProject(e)}})}))},a.showShareAlert=function(e){a.props.dispatch((0,E.pushAlert)(function(){return d.default.createElement(y.Alert,{title:"",description:"Would you like to recommend this "+e.toLowerCase()+" to someone you know?"},d.default.createElement(y.ButtonGroup,null,d.default.createElement(y.Button,{theme:"inverted",onClick:a.handleAlertClick},"Yes")))}))},a.handleAlertClick=function(){a.flushAlerts(),YRG.fire("PublicationShareButton:openShareDialog")},o=n,(0,s.default)(a,o)}return(0,u.default)(t,e),t.prototype.handleRequestProject=function(e){var t=this,n=this.props,a=n.viewId,o=n.context;this.props.dispatch((0,C.requestCurrentProject)(e,[a],o)).then(function(){return t.props.dispatch((0,C.requestedCurrentProjectFromPublicationAuthors)())}),this.flushAlerts(),this.props.dispatch((0,E.pushAlert)(function(){return d.default.createElement(x.default,{title:"Project requested",description:"We'll let the author know that you're interested in their current project."})})),(0,w.default)(this.props.buttonClickedMilestoneUrl)},t.prototype.flushAlerts=function(){this.props.dispatch((0,E.flushAlerts)())},t.prototype.componentDidMount=function(){this.showRequestProjectNotificationSubscriber=YRG.on("PublicationActionFollow:showRequestProjectNotification",this.showRequestProjectNotification),this.showShareAlertSubscriber=YRG.on("PublicationActionFollow:showShareAlert",this.showShareAlert)},t.prototype.componentWillUnmount=function(){this.showRequestProjectNotificationSubscriber&&this.showRequestProjectNotificationSubscriber.detach(),this.showShareAlertSubscriber&&this.showShareAlertSubscriber.detach()},t.prototype.startExperiment=function(){(0,b.default)(this.props.startExperimentUrl,{method:"POST",query:{viewId:this.props.viewId}})},t.prototype.render=function(){var e=(0,f.default)(this.props.actions).map(function(e,t){return d.default.createElement("div",{key:t,className:"publication-action-container"},d.default.createElement(g.default,{widgetId:e}))});return d.default.createElement("div",{className:"publication-actions"},e,d.default.createElement(N.default,{widgetId:this.props.publicationDropdown}))},t}(c.Component);t.default=(0,h.connectWidget)()(D)},1049:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=a(o),i=n(43),s=a(i),l=n(2321),u=a(l),c=n(1415),d=a(c),p=n(5),f=function(e){var t=e.hasFigures,n=e.supplementsPreviewer,a=e.figuresPreviewer,o=e.hasLegalCopy,i=0;if(t&&i++,n&&i++,0===i)return null;var s=2===i?"halfwidth":"fullwidth";return r.default.createElement("div",{className:"publication-attachments full-width-element"+(o?" has-legal-copy":"")},r.default.createElement("div",{className:"publication-attachments-content"},r.default.createElement(u.default,{widgetId:a,type:s}),r.default.createElement(d.default,{widgetId:n})))};t.default=(0,p.connectWidget)(function(e,t){return{hasFigures:!(0,s.default)(e.publicationFigure[t.publicationUid])}})(f)},1050:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(157),d=a(c),p=n(1),f=a(p),h=n(5),m=n(589),g=n(587),y=n(586),v=a(y),b=n(588),E=n(1584),C=a(E),k=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getCurrentChartData=function(){return this.props.chartData[this.props.interval]},t.prototype.getTickFormat=function(){return"m"===this.props.interval?"%b %Y":"%Y"},t.prototype.getTooltip=function(e){return'<div class="chart-tooltip-inner">\n            <div class="head">\n                <span class="description"><strong>Citations</strong> from '+d.default.time.format(this.getTickFormat())(e.date)+'</span>\n                <strong class="amount">'+e.total+'</strong>\n            </div>\n            <div class="">\n                <span class="description">Excluding self-citations</span>\n                <span class="amount">'+e.other+'</span>\n            </div>\n            <div class="">\n                <span class="description">Selfâcitations</span>\n                <span class="amount">'+e.self+"</span>\n            </div>\n        </div>"},t.prototype.xAxisTickLabelFormatter=function(){return function(e){e.each(function(t,n){var a=d.default.select(e[0][n]),o=a.text();if(o){var r=o.split(" ");r.reverse();var i=a.attr("y"),s=parseFloat(a.attr("dy"));a.text(null),r.forEach(function(e){var t=a.append("tspan").attr("x",0).attr("y",i).attr("dy",s+"em");t.text(e),s+=s+.5})}})}},t.prototype.getChartDataDivider=function(){return parseInt(this.getCurrentChartData().length/11)},t.prototype.getTickFormatter=function(){var e=this;return function(t,n){var a=e.getChartDataDivider();return a>0?n%a===0?d.default.time.format(e.getTickFormat())(t):"":d.default.time.format(e.getTickFormat())(t)}},t.prototype.prepareData=function(e,t){e.date=t.parseDate(e.date),e.total=+e.total,e.self=+e.self,e.other=+e.other,e.stacks=[{name:"other",y0:0,y1:e.other},{name:"self",y0:e.other,y1:e.other+e.self}]},t.prototype.setUpChart=function(){var e=this;if(!(0!==YRG.UA.ie&&YRG.UA.ie<9)){var t=this.chartNode,n=new g.XAxis(new m.OrdinalScale);n.setDomain(function(e){return e.date}),n.setTicks(6),n.setTickLabelFormatter(this.xAxisTickLabelFormatter()),n.setTickFormat(this.getTickFormatter());var a=new g.YAxis(new m.LinearScale);a.setDomain(function(e){return e.total}),a.setTicks(3);var o=new v.default(t);o.setDimensions(t.offsetWidth,215,{top:30,right:50,bottom:50,left:50}),a.setTickSize(-o.width),o.setXAxis(n),o.setYAxis(a),o.prepareDataFn(function(t){return e.prepareData(t,o)}),o.setData(this.getCurrentChartData());var r=new b.ChartBackground;o.addBackground(r);var i=new b.StackedBar;i.setXKey("date"),i.setYKey("total"),i.setTooltip(function(t){return e.getTooltip(t)}),i.setOnClick(function(t,a){n.setActive(t,a),e.props.onClick&&e.callOnClick(t,a)}),o.addElement(i),this.chart=o,this.xAxis=n,this.bar=i,this.renderChart()}},t.prototype.renderChart=function(){this.chart.render();var e=(0,C.default)(this.getCurrentChartData());e.reverse();for(var t=0;t<e.length;t++){var n=e[t];if(n.total>0){var a=e.length-t-1;this.prepareData(n,this.chart),this.bar.setSelected(n,a),this.xAxis.setActive(n,a),this.callOnClick(n,a);break}}},t.prototype.callOnClick=function(e,t){var n={data:e,index:t,interval:this.props.interval};this.props.onClick(n)},t.prototype.componentDidMount=function(){var e=this;this.setUpChart(),window.addEventListener("resize",function(){return e.updateChart()})},t.prototype.updateChart=function(){d.default.select(this.chartNode).selectAll("*").remove(),this.setUpChart()},t.prototype.componentDidUpdate=function(e){this.chart&&e.interval!==this.props.interval&&(this.chart.setData(this.getCurrentChartData()),this.renderChart())},t.prototype.render=function(){var e=this;return f.default.createElement("div",{ref:function(t){return e.chartNode=t},className:"chart chart-citations"})},t}(p.Component);t.default=(0,h.connectWidget)()(k)},1051:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(160),f=a(p),h=n(5),m=n(2341),g=a(m),y=n(2350),v=a(y),b=n(2344),E=a(b),C=n(2347),k=a(C),w=n(2353),_=a(w),x=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getIncompleteCount=function(){var e=0;return this.getAbstractStepCompleted()||e++,this.getFulltextStepCompleted()||e++,this.getSupplementaryResourcesStepCompleted()||e++,this.getFiguresStepCompleted()||e++,e},t.prototype.getIntroText=function(){var e=this.getIncompleteCount();return 0===e?"This publication has been updated":1===e?"Complete your publication â you only have 1 more element to add":e+" elements are still missing from your publication"},t.prototype.render=function(){var e=[],t=[],n=-1;return e.push(d.default.createElement(g.default,{isCompleted:this.getAbstractStepCompleted(),publicationUid:this.props.publicationUid,iconClass:"ico-publication-completion-tab-abstract",goal:this.props.milestones.abstract.action,key:"abstract"})),t.push(this.props.milestones.abstract.tab),e.push(d.default.createElement(k.default,{isCompleted:this.getFulltextStepCompleted(),iconClass:"ico-publication-completion-tab-fulltext",publicationUid:this.props.publicationUid,fileCategory:this.props.fileCategory,url:this.props.fulltextDialogUrl,key:"fulltext"})),!this.props.hasFulltexts&&this.props.hasFulltextSuggestions&&(n=e.length-1),t.push(this.props.milestones.fulltext.tab),e.push(d.default.createElement(v.default,{isCompleted:this.getSupplementaryResourcesStepCompleted(),iconClass:"ico-publication-completion-tab-supplementary",publicationUid:this.props.publicationUid,url:this.props.supplementaryResourceUrl,key:"supplementary"})),t.push(this.props.milestones.supplementary.tab),e.push(d.default.createElement(E.default,{isCompleted:this.getFiguresStepCompleted(),iconClass:"ico-publication-completion-tab-figure",publicationUid:this.props.publicationUid,url:this.props.figureUploadUrl,key:"figure"})),this.getFiguresStepCompleted()||this.props.hasFulltextSuggestions||(n=e.length-1),t.push(this.props.milestones.figures.tab),d.default.createElement("div",{className:"publication-completion-indicator"+(this.props.hasLegalCopy?" has-legal-copy":"")},d.default.createElement("h2",null,this.getIntroText()),d.default.createElement(_.default,{initialSelectedIndex:n,goals:t},e))},t.prototype.getAbstractStepCompleted=function(){return this.props.hasAbstract&&!!this.props.publicationDate},t.prototype.getFulltextStepCompleted=function(){return this.props.hasFulltexts},t.prototype.getSupplementaryResourcesStepCompleted=function(){return this.props.supplementaryResourceCount>0},t.prototype.getFiguresStepCompleted=function(){return this.props.publicFiguresCount>0},t}(c.Component);t.default=(0,h.connectWidget)(function(e,t){return{hasAbstract:Boolean(e.publicationData.abstract),publicationDate:e.publicationData.publicationDate,publicationType:e.publicationData.publicationType,hasFulltexts:e.publicationData.hasFulltexts||e.publicationData.hasPrivateAuthorsFulltext,hasFulltextSuggestions:e.publicationData.hasFulltextSuggestions,privateFiguresCount:e.publicationData.privateFiguresCount,publicFiguresCount:(0,f.default)(e.publicationFigure[t.publicationUid]),supplementaryResourceCount:e.publicationData.supplementaryResourceCount}})(x)},1055:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(24),h=a(f),m=n(22),g=a(m),y=n(98),v=a(y),b=n(12),E=a(b),C=n(13),k=a(C),w=n(222),_=a(w),x=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.renderMore=a.renderMore.bind(a),a.state={offset:n.offset,items:n.items,listComplete:!1,loading:!1},a}return(0,u.default)(t,e),t.prototype.getItems=function(){return(0,g.default)(this.state.items,function(e){var t="citation-detail-list-item-"+e;return d.default.createElement("div",{className:"citation-detail-list-item-publication",key:t},d.default.createElement(h.default,{widgetId:e}))})},t.prototype.renderMore=function(){var e=this,t=this.state.offset+this.props.limit;this.setState({loading:!0}),(0,k.default)("publication.PublicationDetailStatsSectionCitationsDetailsList.html",{method:"GET",query:{publicationUid:this.props.publicationUid,limit:this.props.limit,offset:t,interval:this.props.interval,date:this.props.date}}).then(function(n){if(!n.success)throw new Error("Server error.");e.setState({offset:t,loading:!1});for(var a=[],o=n.result.data.items,r=0;r<o.length;r++){var i=o[r];e.context.widgetStore.addWidgetTree(i),a.push(i.id)}e.setState({listComplete:o.length<e.props.limit,items:(0,v.default)(e.state.items).concat(a)})}).catch(function(){e.setState({listComplete:!0})})},t.prototype.getSeeMore=function(){if(this.state.listComplete)return null;if(this.state.items.length<this.props.limit)return null;if(this.props.totalCount&&this.state.items.length>=this.props.totalCount)return null;if(this.state.loading)return d.default.createElement("div",{className:"see-more rendering-small"},d.default.createElement("span",{className:"rendering-small"}));var e={"state-default":!0,"ico-expand":!0},t={"state-hover":!0,"ico-expand-hover":!0};return d.default.createElement("a",{className:"see-more",onClick:this.renderMore},"See more",d.default.createElement("span",{className:(0,E.default)(e)}),d.default.createElement("span",{className:(0,E.default)(t)}))},t.prototype.render=function(){return d.default.createElement("div",{className:"section-details-list publication-citations-container "},d.default.createElement("div",null,this.getItems()),this.getSeeMore())},t}(c.Component);x.contextTypes={widgetStore:d.default.PropTypes.instanceOf(_.default)},t.default=(0,p.connectWidget)()(x)},1059:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(12),f=a(p),h=n(5),m=n(13),g=a(m),y=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.hideToaster=a.hideToaster.bind(a),a.trackClick=a.trackClick.bind(a),a.state={noToaster:!1},a}return(0,u.default)(t,e),t.prototype.hideToaster=function(){this.setState({noToaster:!0})},t.prototype.trackClick=function(){(0,g.default)("publication.PublicationFeaturedContentPromoToaster.linkClicked.html",{method:"POST"})},t.prototype.render=function(){var e=["publication-featured-content-toaster","publication-promo-toaster"];return this.state.noToaster&&e.push("hidden"),d.default.createElement("div",{className:(0,f.default)(e)},d.default.createElement("div",{className:"close-button rf"},d.default.createElement("a",{onClick:this.hideToaster},d.default.createElement("span",{className:"ico-x-close-dark"}))),this.props.featuredContent.copy,d.default.createElement("a",{rel:"nofollow",target:"_blank",onClick:this.trackClick,href:this.props.featuredContent.linkHref,className:"publication-promo-toaster-link"},this.props.featuredContent.linkText))},t}(c.Component);t.default=(0,h.connectWidget)()(y)},1065:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(68),h=a(f),m=n(22),g=a(m),y=n(17),v=a(y),b=n(12),E=a(b),C=n(57),k=a(C),w=n(501),_=n(502),x=n(15),T=a(x),S=n(42),M=n(500),N=n(375),D=n(622),P=n(883),I=n(72),A=a(I),R=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.showCitations=a.showCitations.bind(a),a.showReads=a.showReads.bind(a),a.showComments=a.showComments.bind(a),a.showFigures=a.showFigures.bind(a),a.showProducts=a.showProducts.bind(a),a.showProjects=a.showProjects.bind(a),a}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){this.props.goToFigures&&this.loadFiguresOverlay({isDirectLink:!0,isRedirectedFromLoggedOut:this.props.isRedirectedFromLoggedOut})},t.prototype.render=function(){var e=this,t=this.props.countCitations,n=t?this.showCitations:null,a=[["Citation",t,n],["Read",this.props.countReads,this.showReads]],o=(0,h.default)([["Comment",this.props.countComments,this.showComments],["Product",this.props.countProducts,this.showProducts]],function(e){return e[1]>0}),r=a.concat(o).slice(0,5),i=(0,g.default)(r,function(t){return e.getStatItem.apply(e,t)});return d.default.createElement("div",{className:"publication-header-stat-items"},i)},t.prototype.getStatItem=function(e,t,n){var a=(0,v.default)(e,t,!1),o=t?(0,A.default)(t).format():"0",r=(0,E.default)({"publication-header-stat-item":!0,"publication-header-stat-item-inactive":!n});return d.default.createElement("div",{key:e,className:"publication-resource-link",role:"button",onClick:n},d.default.createElement("div",{className:"publication-resource-link-see-all"},"See all âº"),d.default.createElement("button",{className:r},d.default.createElement("span",{className:"publication-resource-link-text"},d.default.createElement("span",{className:"publication-resource-link-amount"},o),"Â ",d.default.createElement("span",{className:"publication-header-stat-item-label"},a))))},t.prototype.showReads=function(){(0,S.openDialog)(this.props.readsDialogUrl,{initialCssClass:"overlay-mask-dark",dialogConfig:{autoStack:!0}}),this.track("detailStats")},t.prototype.showCitations=function(){this.openResourceTab(D.TAB_CITATIONS),this.track("citations")},t.prototype.showComments=function(){this.openResourceTab(D.TAB_COMMENTS),this.track("comments")},t.prototype.showProjects=function(){this.openResourceTab(D.TAB_RELATED_PROJECTS),this.track("projects")},t.prototype.openResourceTab=function(e){this.props.dispatch((0,M.updateSelectedTab)(e)),(0,k.default)(".publication-resource-tab-box",{duration:600,ease:"inOutQuart",offset:0-this.props.stickyHeaderHeight})},t.prototype.showFigures=function(){this.loadFiguresOverlay()},t.prototype.loadFiguresOverlay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,S.openDialog)("publication.PublicationFigures.html",{params:Object.assign({publicationUid:this.props.publicationUid},e),initialCssClass:"overlay-mask-dark",dialogConfig:{autoStack:!0}}),this.track("figures"),this.track("figuresDownload")},t.prototype.showProducts=function(){this.props.dispatch((0,w.toggleSidebar)("productMentions")),this.track("products")},t.prototype.track=function(e){var t=this.props.milestones[e];(0,T.default)(t)},t}(c.Component);t.default=(0,p.connectWidget)(function(e,t){var n=void 0;if(t.publicationCommentsEnabled){if(e.converseMessages){var a=(0,P.selectMessagesByPublicationUid)(e,t);n=a.get("totalCount",0)}}else n=e.publicationFeedback.get("feedbacks").filter(function(e){return"comment"===e.get("type")}).size;return{countComments:n,countFigures:(0,N.selectPublicationFiguresCount)(e,t),stickyHeaderHeight:(0,_.selectStickyHeaderHeight)(e)}})(R)},1070:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(12),f=a(p),h=n(7),m=n(6),g=n(5),y=n(13),v=a(y),b=3e3,E=function(e){function t(){var n,a,o;(0,r.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=a=(0,s.default)(this,e.call.apply(e,[this].concat(l))),a.state={noToaster:!0},a.showToaster=function(){a.setState({noToaster:!1})},a.hideToaster=function(){a.setState({noToaster:!0});var e="publication.PublicationProjectPromoToaster.hidePromoForThisSession.html",t={};t.method="POST",(0,v.default)(e,t)},a.hideToasterNoButton=function(){a.setState({noToaster:!0})},o=n,(0,s.default)(a,o)}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){this.toasterTimeout=setTimeout(this.showToaster,b)},t.prototype.componentWillUnmount=function(){clearTimeout(this.toasterTimeout)},t.prototype.render=function(){var e=this.props,t=e.authorName,n=e.isSingleAuthor,a=e.projectUrl,o=(0,f.default)("publication-project-promo-toaster",{"publication-project-promo-toaster-hidden":this.state.noToaster});return d.default.createElement("div",{className:o},d.default.createElement("div",{className:"close-button rf"},d.default.createElement("a",{onClick:this.hideToaster},d.default.createElement("span",{className:"ico-x-close-dark"}))),d.default.createElement(m.Text,{size:"l",spacing:"l"},n?"The author":"One of the authors",", ",d.default.createElement("strong",null,t),", is working on a project right now."),d.default.createElement(m.Text,{size:"l",spacing:"m"},"Want to see what they're working on?"),d.default.createElement(h.ButtonGroup,{gutter:"xs"},d.default.createElement(h.Button,{href:a,status:"",theme:"ghost"},"Yes"),d.default.createElement(h.Button,{onClick:this.hideToasterNoButton,theme:"ghost"},"No")))},t}(c.Component);t.default=(0,g.connectWidget)()(E)},1071:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(12),f=a(p),h=n(7),m=n(6),g=n(5),y=n(462),v=a(y),b=n(13),E=a(b),C=n(32),k=a(C),w=n(15),_=a(w),x=n(100),T=n(89),S=1,M=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.state={closed:!1,hidden:!0,requested:!1,inProgress:!1},a.showToaster=a.showToaster.bind(a),a.hideToaster=a.hideToaster.bind(a),a.hideToasterForever=a.hideToasterForever.bind(a),a.waitAndHideToaster=a.waitAndHideToaster.bind(a),a.onYesClick=a.onYesClick.bind(a),a.onNoClick=a.onNoClick.bind(a),a.onCloseClick=a.onCloseClick.bind(a),a.onScroll=a.onScroll.bind(a),a.onScrollThrottled=(0,v.default)(a.onScroll,500),a.milestonePromoShownWasScored=!1,a.fullTextContainer={},a.scrollBackControlPoint=0,a.previousScrollPosition=0,a.showToasterAlways=!1,a}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScrollThrottled),this.fullTextContainer=document.querySelector(".js-show-project-request-promo"),this.calculateScrollVariables()},t.prototype.componentWillUnmount=function(){this.removeScrollListener()},t.prototype.removeScrollListener=function(){window.removeEventListener("scroll",this.onScrollThrottled)},t.prototype.onScroll=function(){this.shouldShowToaster()?this.showToaster():this.hideToaster()},t.prototype.shouldShowToaster=function(){return!!this.showToasterAlways||(this.props.experimentVersion===S?this.wasInTheEndAndIsScrollingBack():this.fullTextContainer.offsetTop<window.pageYOffset)},t.prototype.wasInTheEndAndIsScrollingBack=function(){var e=window.pageYOffset>this.scrollBackControlPoint&&window.pageYOffset<this.previousScrollPosition;return this.calculateScrollVariables(),e&&(this.showToasterAlways=!0),e},t.prototype.calculateScrollVariables=function(){this.previousScrollPosition=window.pageYOffset,this.scrollBackControlPoint=this.fullTextContainer.offsetTop+this.fullTextContainer.offsetHeight-window.innerHeight},t.prototype.showToaster=function(){this.state.hidden&&(this.milestonePromoShownWasScored||((0,_.default)(this.props.milestones.promoDisplayedToUser),this.milestonePromoShownWasScored=!0),this.setState({hidden:!1}))},t.prototype.hideToaster=function(){this.state.hidden||this.setState({hidden:!0})},t.prototype.hideToasterForever=function(){this.removeScrollListener(),this.state.closed||this.setState({closed:!0}),(0,E.default)(this.props.hideUrl,{method:"POST"})},t.prototype.waitAndHideToaster=function(){this.hideToasterForever(),this.props.dispatch((0,T.requestedCurrentProjectFromPublicationAuthors)())},t.prototype.showSuccess=function(){this.setState({inProgress:!1,requested:!0})},t.prototype.restart=function(){this.setState({requested:!1,inProgress:!1})},t.prototype.handleResponse=function(e){var t=e.requested;t?(this.showSuccess(),setTimeout(this.waitAndHideToaster,2e3)):this.handleError("Could not request project. Please try again later.")},t.prototype.handleError=function(e){(0,k.default)(e),this.restart()},t.prototype.onCloseClick=function(){(0,_.default)(this.props.milestones.promoHidden),this.hideToasterForever()},t.prototype.onYesClick=function(e){var t=this;if(e.preventDefault(),!this.state.inProgress&&!this.state.requested){this.setState({inProgress:!0});var n=this.props,a=n.targetAccountIds,o=n.viewId,r=n.context;(0,x.requestProject)(a,o,r).then(function(e){return t.handleResponse(e)}).catch(function(e){return t.handleError(e.message)})}},t.prototype.onNoClick=function(e){e.preventDefault(),(0,_.default)(this.props.milestones.noButtonClicked),this.hideToasterForever()},t.prototype.getButtons=function(){return this.state.requested||this.state.inProgress?this.state.inProgress?d.default.createElement(h.Button,{status:"busy",theme:"ghost"},"Yes"):this.state.requested?d.default.createElement(h.Button,{status:"success",theme:"ghost"},"Yes"):void 0:d.default.createElement(h.ButtonGroup,{gutter:"xs"},d.default.createElement(h.Button,{onClick:this.onYesClick,status:"",theme:"ghost"},"Yes"),d.default.createElement(h.Button,{onClick:this.onNoClick,status:"",theme:"ghost"},"No"))},t.prototype.render=function(){var e={"publication-project-request-toaster":!0,"publication-project-request-toaster-hidden":this.state.hidden},t=this.getButtons();return this.state.closed?null:d.default.createElement("div",{className:(0,f.default)(e)},d.default.createElement("div",{className:"close-button rf"},d.default.createElement("a",{onClick:this.onCloseClick},d.default.createElement("span",{className:"ico-x-close-dark"}))),d.default.createElement(m.Text,{size:"xl",tag:"h5",spacing:"xxs"},"Interested in what these authors are working on right now?"),d.default.createElement(m.Text,{size:"m",spacing:"m"},"Request an overview of their current project and weâll let them know that youâre interested."),t)},t}(c.Component);t.default=(0,g.connectWidget)()(M)},1072:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(157),d=a(c),p=n(1),f=a(p),h=n(5),m=n(589),g=n(587),y=n(586),v=a(y),b=n(588),E=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getCurrentChartData=function(){return this.props.chartData[this.props.interval]},t.prototype.getTickFormat=function(){return"m"===this.props.interval?"%b # %Y":"Week ending # %b %d"},t.prototype.xAxisTickLabelFormatter=function(){return function(e){e.each(function(t,n){var a=d.default.select(e[0][n]),o=a.text();if(o){var r=o.split("#");r.reverse();var i=a.attr("y"),s=parseFloat(a.attr("dy"));a.text(null),r.forEach(function(e){var t=a.append("tspan").attr("x",0).attr("y",i).attr("dy",s+"em");t.text(e),s+=s+.5})}})}},t.prototype.componentDidMount=function(){var e=this;this.setUpChart(),window.addEventListener("resize",function(){return e.updateChart()})},t.prototype.updateChart=function(){d.default.select(this.chartNode).selectAll("*").remove(),this.setUpChart()},t.prototype.setUpChart=function(){if(!(0!==YRG.UA.ie&&YRG.UA.ie<9)){var e=this.chartNode,t=new v.default(e);t.setDimensions(e.offsetWidth,215,{top:30,right:50,bottom:50,left:50});var n=new g.XAxis(new m.TimeScale);this.chartXAxis=n,n.setDomain(function(e){return e.date});var a=new g.YAxis(new m.LinearScale);a.setDomain(function(e){return e.value}),a.setTicks(3),a.setTickSize(-t.width),t.setXAxis(n),t.setYAxis(a),t.prepareDataFn(function(e){e.date=t.parseDate(e.date),e.value=+e.value});var o=new b.ChartBackground;t.addBackground(o);var r=new b.HoverableCircle;r.setXKey("date"),r.setYKey("value"),r.setTooltip(function(e){return'<div class="chart-tooltip-inner"><div class="text-l"><strong>'+e.value+"</strong></div><div>Reads</div></div>"});var i=new b.Line;this.chartLine=i,i.setXKey("date"),i.setYKey("value"),t.addElement(i);var s=new b.Line;
this.chartOnGoingLine=s,s.addClassName("light"),s.setXKey("date"),s.setYKey("value"),t.addElement(s);var l=new b.Area;this.chartArea=l,l.setXKey("date"),l.setYKey("value"),t.addElement(l);var u=new b.Area;this.chartOnGoingArea=u,u.addClassName("light"),u.setXKey("date"),u.setYKey("value"),t.addElement(u),t.addElement(r),this.chart=t,this.renderChart()}},t.prototype.renderChart=function(){var e=this.getCurrentChartData().slice(this.getCurrentChartData().length-2),t=this.getCurrentChartData().slice(0,this.getCurrentChartData().length-1);this.chartXAxis.tickFormat=d.default.time.format(this.getTickFormat()),this.chartXAxis.setTickLabelFormatter(this.xAxisTickLabelFormatter()),this.chart.setData(this.getCurrentChartData()),this.chartLine.setData(t),this.chartOnGoingLine.setData(e),this.chartArea.setData(t),this.chartOnGoingArea.setData(e),this.chart.render()},t.prototype.componentDidUpdate=function(e){this.chart&&e.interval!==this.props.interval&&this.renderChart()},t.prototype.render=function(){var e=this;return f.default.createElement("div",{ref:function(t){return e.chartNode=t},className:"chart chart-reads"})},t}(p.Component);t.default=(0,h.connectWidget)()(E)},1073:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(2222),h=a(f),m=n(1999),g=a(m),y=n(1350),v=a(y),b=n(1411),E=a(b),C=n(1316),k=n(1317),w=n(2334),_=a(w),x=n(13),T=a(x),S=n(98),M=a(S),N=n(22),D=a(N),P=n(222),I=a(P),A=n(95),R=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.state={showPromo:n.showPromo,loading:!1,limit:n.limit,offset:n.offset,listComplete:!n.hasMoreItems,items:n.items.filter(function(e){return null!==e})},a.renderMore=a.renderMore.bind(a),a.updatePromoSettingState=a.updatePromoSettingState.bind(a),a}return(0,u.default)(t,e),t.prototype.renderMore=function(){var e=this,t=this.state.offset+this.props.limit;this.setState({loading:!0}),(0,T.default)("publication.PublicationRecentReaders.html",{method:"GET",query:{publicationUid:this.props.publicationUid,limit:this.props.limit,offset:t}}).then(function(n){if(!n.success)throw new Error("Server error.");e.setState({offset:t,loading:!1});for(var a=[],o=n.result.data.items,r=0;r<o.length;r++){var i=o[r];e.context.widgetStore.addWidgetTree(i),a.push(i.id)}n.result.state&&e.props.dispatch((0,A.mergeState)(n.result.state)),e.setState({listComplete:o.length<e.props.limit,items:(0,M.default)(e.state.items).concat(a)})}).catch(function(){e.setState({listComplete:!0})})},t.prototype.getSeeMore=function(){return this.state.listComplete?null:d.default.createElement(_.default,{onClick:this.renderMore,loading:this.state.loading})},t.prototype.getItems=function(){return(0,D.default)(this.state.items,function(e){return d.default.createElement(E.default,{key:e,widgetId:e})})},t.prototype.updatePromoSettingState=function(){this.setState({showPromo:!1}),this.props.dispatch({type:C.USER_SETTINGS_ACTION,userSettings:{type:k.USER_SETTINGS_KEY_DOWNLOAD_USAGE,value:1}})},t.prototype.getPromo=function(){var e="Allow others to see that you've read their research - and benefit",t="by seeing who's been reading yours",n=void 0;return this.getItems()&&0!==this.getItems().length?(n={imageUrlM:this.props.promoData.imageUrlM,imageUrlL:this.props.promoData.imageUrlL,headline:"A Researcher"},this.props.promoData.country&&(n.headline="Researcher from "+this.props.promoData.country)):n={imageUrlM:this.props.defaultPromoImage,imageUrlL:this.props.defaultPromoImage2x,headline:"Find out who's reading your work"},d.default.createElement("div",{className:"recent-readers recent-readers-promo"},d.default.createElement("h3",{className:"text-normal"},"Recent readers"),d.default.createElement("ul",null,d.default.createElement("li",{className:"recent-readers-item"},d.default.createElement("div",{className:"indent-left"},d.default.createElement(h.default,{imageUrlM:n.imageUrlM,imageUrlL:n.imageUrlL})),d.default.createElement("div",{className:"content"},d.default.createElement(v.default,{fullName:n.headline}),d.default.createElement("span",{className:"promo-text"},e),d.default.createElement("br",null),d.default.createElement("span",{className:"promo-text"},t),d.default.createElement("br",null),d.default.createElement(g.default,{saveUrl:this.props.promoSaveUrl,onResponse:this.updatePromoSettingState})))))},t.prototype.render=function(){return this.state.showPromo?this.getPromo():0===this.state.items.length?null:d.default.createElement("div",{className:"recent-readers"},d.default.createElement("h3",{className:"text-normal"},"Recent readers"),d.default.createElement("ul",null,this.getItems()),this.getSeeMore())},t}(c.Component);R.protoTypes={items:d.default.PropTypes.arrayOf(d.default.PropTypes.string),showPromo:d.default.PropTypes.bool.isRequired,promoSaveUrl:d.default.PropTypes.string.isRequired,defaultPromoImage:d.default.PropTypes.string.isRequired,defaultPromoImage2x:d.default.PropTypes.string.isRequired},R.contextTypes={widgetStore:d.default.PropTypes.instanceOf(I.default)},t.default=(0,p.connectWidget)(function(e){var t={},n=e.accountsUserSettings.userSettings[k.USER_SETTINGS_KEY_DOWNLOAD_USAGE];return 1===n&&(t.showPromo=!1),t})(R)},1078:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(84),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=(0,r.default)(["publication.PublicationFigures.uploadImage.html?publicationUid=",""],["publication.PublicationFigures.uploadImage.html?publicationUid=",""]),f=n(1),h=a(f),m=n(83),g=a(m),y=n(5),v=n(953),b=a(v),E=n(374),C=n(32),k=a(C),w=function(e){function t(n){(0,s.default)(this,t);var a=(0,u.default)(this,e.call(this,n));return a.onUploadComplete=a.onUploadComplete.bind(a),a.onAllUploadsComplete=a.onAllUploadsComplete.bind(a),a.onError=a.onError.bind(a),a}return(0,d.default)(t,e),t.prototype.render=function(){var e=(0,g.default)(p,this.props.publicationUid);return h.default.createElement(b.default,{multiple:!0,className:this.props.className,uploadUrl:e,onUploadComplete:this.onUploadComplete,onUploadError:this.onError,onAllUploadsComplete:this.onAllUploadsComplete},this.props.children)},t.prototype.onUploadComplete=function(e){this.props.dispatch((0,E.addFigureStub)(e.tmpFileId))},t.prototype.onAllUploadsComplete=function(){this.props.openOverlay&&widgetLoader.loadWidgetInDialog("publication.PublicationFigures.html",{publicationUid:this.props.publicationUid},null,null,null,null,"overlay-mask-dark")},t.prototype.onError=function(e){(0,k.default)(""+e)},t}(f.Component);t.default=(0,y.connectWidget)()(w)},1125:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){(0,s.default)(["rg-base"],function(n){n.on(e,t)})}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.default)(["rg-base"],function(n){n.fire(e,t)})}t.__esModule=!0,t.listenYuiEvent=o,t.fireYuiEvent=r;var i=n(19),s=a(i)},1219:function(e,t){function n(e){for(var t=-1,n=null==e?0:e.length,a=0,o=[];++t<n;){var r=e[t];r&&(o[a++]=r)}return o}e.exports=n},1238:function(e,t,n){!function(t,a){e.exports=a(n(49),n(1),n(3278),n(21))}(this,function(e,t,n,a){return function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),i=a(r),s=n(5),l=a(s),u=n(3),c=a(u),d=n(136),p=a(d),f=n(146),h=a(f),m=n(124),g=a(m),y=n(4),v=n(2),b=a(v),E=n(125),C=a(E),k="react-datepicker-ignore-onclickoutside",w=(0,C.default)(l.default),_=c.default.createClass({displayName:"DatePicker",propTypes:{autoComplete:c.default.PropTypes.string,autoFocus:c.default.PropTypes.bool,className:c.default.PropTypes.string,customInput:c.default.PropTypes.element,dateFormat:c.default.PropTypes.oneOfType([c.default.PropTypes.string,c.default.PropTypes.array]),dateFormatCalendar:c.default.PropTypes.string,disabled:c.default.PropTypes.bool,dropdownMode:c.default.PropTypes.oneOf(["scroll","select"]).isRequired,endDate:c.default.PropTypes.object,excludeDates:c.default.PropTypes.array,filterDate:c.default.PropTypes.func,fixedHeight:c.default.PropTypes.bool,highlightDates:c.default.PropTypes.array,id:c.default.PropTypes.string,includeDates:c.default.PropTypes.array,inline:c.default.PropTypes.bool,isClearable:c.default.PropTypes.bool,locale:c.default.PropTypes.string,maxDate:c.default.PropTypes.object,minDate:c.default.PropTypes.object,monthsShown:c.default.PropTypes.number,name:c.default.PropTypes.string,onBlur:c.default.PropTypes.func,onChange:c.default.PropTypes.func.isRequired,onFocus:c.default.PropTypes.func,onMonthChange:c.default.PropTypes.func,openToDate:c.default.PropTypes.object,peekNextMonth:c.default.PropTypes.bool,placeholderText:c.default.PropTypes.string,popoverAttachment:c.default.PropTypes.string,popoverTargetAttachment:c.default.PropTypes.string,popoverTargetOffset:c.default.PropTypes.string,readOnly:c.default.PropTypes.bool,renderCalendarTo:c.default.PropTypes.any,required:c.default.PropTypes.bool,scrollableYearDropdown:c.default.PropTypes.bool,selected:c.default.PropTypes.object,selectsEnd:c.default.PropTypes.bool,selectsStart:c.default.PropTypes.bool,showMonthDropdown:c.default.PropTypes.bool,showWeekNumbers:c.default.PropTypes.bool,showYearDropdown:c.default.PropTypes.bool,forceShowMonthNavigation:c.default.PropTypes.bool,startDate:c.default.PropTypes.object,tabIndex:c.default.PropTypes.number,tetherConstraints:c.default.PropTypes.array,title:c.default.PropTypes.string,todayButton:c.default.PropTypes.string,utcOffset:c.default.PropTypes.number},getDefaultProps:function(){return{dateFormatCalendar:"MMMM YYYY",onChange:function(){},disabled:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onMonthChange:function(){},popoverAttachment:"top left",popoverTargetAttachment:"bottom left",popoverTargetOffset:"10px 0",tetherConstraints:[{to:"window",attachment:"together"}],utcOffset:b.default.utc().utcOffset(),monthsShown:1}},getInitialState:function(){return{open:!1,preventFocus:!1}},setFocus:function(){this.refs.input.focus()},setOpen:function(e){this.setState({open:e})},handleFocus:function(e){this.state.preventFocus||(this.props.onFocus(e),this.setOpen(!0))},cancelFocusInput:function(){clearTimeout(this.inputFocusTimeout),this.inputFocusTimeout=null},deferFocusInput:function(){var e=this;this.cancelFocusInput(),this.inputFocusTimeout=(0,p.default)(function(){return e.setFocus()})},handleDropdownFocus:function(){this.cancelFocusInput()},handleBlur:function(e){this.state.open?this.deferFocusInput():this.props.onBlur(e)},handleCalendarClickOutside:function(e){this.setOpen(!1)},handleSelect:function(e,t){var n=this;this.setState({preventFocus:!0},function(){return setTimeout(function(){return n.setState({preventFocus:!1})},50)}),this.setSelected(e,t),this.setOpen(!1)},setSelected:function(e,t){var n=e;(0,y.isSameDay)(this.props.selected,n)||(this.props.selected&&null!=n&&(n=(0,b.default)(n).set({hour:this.props.selected.hour(),minute:this.props.selected.minute(),second:this.props.selected.second()})),this.props.onChange(n,t))},onInputClick:function(){this.props.disabled||this.setOpen(!0)},onInputKeyDown:function(e){var t=this.props.selected?(0,b.default)(this.props.selected):(0,b.default)();"Enter"===e.key||"Escape"===e.key?(e.preventDefault(),this.setOpen(!1)):"Tab"===e.key?this.setOpen(!1):"ArrowLeft"===e.key?(e.preventDefault(),this.setSelected(t.subtract(1,"days"))):"ArrowRight"===e.key?(e.preventDefault(),this.setSelected(t.add(1,"days"))):"ArrowUp"===e.key?(e.preventDefault(),this.setSelected(t.subtract(1,"weeks"))):"ArrowDown"===e.key?(e.preventDefault(),this.setSelected(t.add(1,"weeks"))):"PageUp"===e.key?(e.preventDefault(),this.setSelected(t.subtract(1,"months"))):"PageDown"===e.key?(e.preventDefault(),this.setSelected(t.add(1,"months"))):"Home"===e.key?(e.preventDefault(),this.setSelected(t.subtract(1,"years"))):"End"===e.key&&(e.preventDefault(),this.setSelected(t.add(1,"years")))},onClearClick:function(e){e.preventDefault(),this.props.onChange(null,e)},renderCalendar:function(){return this.props.inline||this.state.open&&!this.props.disabled?c.default.createElement(w,{ref:"calendar",locale:this.props.locale,dateFormat:this.props.dateFormatCalendar,dropdownMode:this.props.dropdownMode,selected:this.props.selected,onSelect:this.handleSelect,openToDate:this.props.openToDate,minDate:this.props.minDate,maxDate:this.props.maxDate,selectsStart:this.props.selectsStart,selectsEnd:this.props.selectsEnd,startDate:this.props.startDate,endDate:this.props.endDate,excludeDates:this.props.excludeDates,filterDate:this.props.filterDate,onClickOutside:this.handleCalendarClickOutside,highlightDates:this.props.highlightDates,includeDates:this.props.includeDates,peekNextMonth:this.props.peekNextMonth,showMonthDropdown:this.props.showMonthDropdown,showWeekNumbers:this.props.showWeekNumbers,showYearDropdown:this.props.showYearDropdown,forceShowMonthNavigation:this.props.forceShowMonthNavigation,scrollableYearDropdown:this.props.scrollableYearDropdown,todayButton:this.props.todayButton,utcOffset:this.props.utcOffset,outsideClickIgnoreClass:k,fixedHeight:this.props.fixedHeight,monthsShown:this.props.monthsShown,onDropdownFocus:this.handleDropdownFocus,onMonthChange:this.props.onMonthChange}):null},renderDateInput:function(){var e=(0,g.default)(this.props.className,o({},k,this.state.open));return c.default.createElement(i.default,{ref:"input",id:this.props.id,name:this.props.name,autoFocus:this.props.autoFocus,date:this.props.selected,locale:this.props.locale,minDate:this.props.minDate,maxDate:this.props.maxDate,excludeDates:this.props.excludeDates,includeDates:this.props.includeDates,filterDate:this.props.filterDate,dateFormat:this.props.dateFormat,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.onInputClick,onKeyDown:this.onInputKeyDown,onChangeDate:this.setSelected,placeholder:this.props.placeholderText,disabled:this.props.disabled,autoComplete:this.props.autoComplete,className:e,title:this.props.title,readOnly:this.props.readOnly,required:this.props.required,tabIndex:this.props.tabIndex,customInput:this.props.customInput})},renderClearButton:function(){return this.props.isClearable&&null!=this.props.selected?c.default.createElement("a",{className:"react-datepicker__close-icon",href:"#",onClick:this.onClearClick}):null},render:function(){var e=this.renderCalendar();return this.props.inline?e:c.default.createElement(h.default,{classPrefix:"react-datepicker__tether",attachment:this.props.popoverAttachment,targetAttachment:this.props.popoverTargetAttachment,targetOffset:this.props.popoverTargetOffset,renderElementTo:this.props.renderCalendarTo,constraints:this.props.tetherConstraints},c.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),e)}});e.exports=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(2),s=a(i),l=n(3),u=a(l),c=n(4),d=u.default.createClass({displayName:"DateInput",propTypes:{customInput:u.default.PropTypes.element,date:u.default.PropTypes.object,dateFormat:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.array]),disabled:u.default.PropTypes.bool,excludeDates:u.default.PropTypes.array,filterDate:u.default.PropTypes.func,includeDates:u.default.PropTypes.array,locale:u.default.PropTypes.string,maxDate:u.default.PropTypes.object,minDate:u.default.PropTypes.object,onBlur:u.default.PropTypes.func,onChange:u.default.PropTypes.func,onChangeDate:u.default.PropTypes.func},getDefaultProps:function(){return{dateFormat:"L"}},getInitialState:function(){return{value:this.safeDateFormat(this.props)}},componentWillReceiveProps:function(e){(0,c.isSameDay)(e.date,this.props.date)&&e.locale===this.props.locale&&e.dateFormat===this.props.dateFormat||this.setState({value:this.safeDateFormat(e)})},handleChange:function(e){this.props.onChange&&this.props.onChange(e),e.defaultPrevented||this.handleChangeDate(e.target.value)},handleChangeDate:function(e){if(this.props.onChangeDate){var t=(0,s.default)(e,this.props.dateFormat,this.props.locale||s.default.locale(),!0);t.isValid()&&!(0,c.isDayDisabled)(t,this.props)?this.props.onChangeDate(t):""===e&&this.props.onChangeDate(null)}this.setState({value:e})},safeDateFormat:function(e){return e.date&&e.date.clone().locale(e.locale||s.default.locale()).format(Array.isArray(e.dateFormat)?e.dateFormat[0]:e.dateFormat)||""},handleBlur:function(e){this.setState({value:this.safeDateFormat(this.props)}),this.props.onBlur&&this.props.onBlur(e)},focus:function(){this.refs.input.focus()},render:function(){var e=this.props,t=e.customInput,n=(e.date,e.locale,e.minDate,e.maxDate,e.excludeDates,e.includeDates,e.filterDate,e.dateFormat,e.onChangeDate,o(e,["customInput","date","locale","minDate","maxDate","excludeDates","includeDates","filterDate","dateFormat","onChangeDate"]));return t?u.default.cloneElement(t,r({},n,{ref:"input",value:this.state.value,onBlur:this.handleBlur,onChange:this.handleChange})):u.default.createElement("input",r({ref:"input",type:"text"},n,{value:this.state.value,onBlur:this.handleBlur,onChange:this.handleChange}))}});e.exports=d},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&t?e.isSame(t,"day"):!e&&!t}function r(e,t,n){var a=t.clone().startOf("day").subtract(1,"seconds"),o=n.clone().startOf("day").add(1,"seconds");return e.clone().startOf("day").isBetween(a,o)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,a=t.maxDate,r=t.excludeDates,i=t.includeDates,s=t.filterDate;return n&&e.isBefore(n,"day")||a&&e.isAfter(a,"day")||r&&r.some(function(t){return o(e,t)})||i&&!i.some(function(t){return o(e,t)})||s&&!s(e.clone())||!1}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.minDate,o=n.includeDates,r=e.clone().subtract(1,t);return a&&r.isBefore(a,t)||o&&o.every(function(e){return r.isBefore(e,t)})||!1}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.maxDate,o=n.includeDates,r=e.clone().add(1,t);return a&&r.isAfter(a,t)||o&&o.every(function(e){return r.isAfter(e,t)})||!1}function u(e){var t=e.minDate,n=e.includeDates;return n&&t?p.default.min(n.filter(function(e){return t.isSameOrBefore(e,"day")})):n?p.default.min(n):t}function c(e){var t=e.maxDate,n=e.includeDates;return n&&t?p.default.max(n.filter(function(e){return t.isSameOrAfter(e,"day")})):n?p.default.max(n):t}Object.defineProperty(t,"__esModule",{value:!0}),t.isSameDay=o,t.isDayInRange=r,t.isDayDisabled=i,t.allDaysDisabledBefore=s,t.allDaysDisabledAfter=l,t.getEffectiveMinDate=u,t.getEffectiveMaxDate=c;var d=n(2),p=a(d)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(2),r=a(o),i=n(6),s=a(i),l=n(122),u=a(l),c=n(126),d=a(c),p=n(132),f=a(p),h=n(3),m=a(h),g=n(4),y=["react-datepicker__year-select","react-datepicker__month-select"],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.className||"").split(/\s+/);return!!(0,s.default)(y,function(e){return t.indexOf(e)>=0})},b=m.default.createClass({displayName:"Calendar",propTypes:{dateFormat:m.default.PropTypes.oneOfType([m.default.PropTypes.string,m.default.PropTypes.array]).isRequired,dropdownMode:m.default.PropTypes.oneOf(["scroll","select"]).isRequired,endDate:m.default.PropTypes.object,excludeDates:m.default.PropTypes.array,filterDate:m.default.PropTypes.func,fixedHeight:m.default.PropTypes.bool,highlightDates:m.default.PropTypes.array,includeDates:m.default.PropTypes.array,locale:m.default.PropTypes.string,maxDate:m.default.PropTypes.object,minDate:m.default.PropTypes.object,monthsShown:m.default.PropTypes.number,onClickOutside:m.default.PropTypes.func.isRequired,onMonthChange:m.default.PropTypes.func,forceShowMonthNavigation:m.default.PropTypes.bool,onDropdownFocus:m.default.PropTypes.func,onSelect:m.default.PropTypes.func.isRequired,openToDate:m.default.PropTypes.object,peekNextMonth:m.default.PropTypes.bool,scrollableYearDropdown:m.default.PropTypes.bool,selected:m.default.PropTypes.object,selectsEnd:m.default.PropTypes.bool,selectsStart:m.default.PropTypes.bool,showMonthDropdown:m.default.PropTypes.bool,showWeekNumbers:m.default.PropTypes.bool,showYearDropdown:m.default.PropTypes.bool,startDate:m.default.PropTypes.object,todayButton:m.default.PropTypes.string,utcOffset:m.default.PropTypes.number},defaultProps:{onDropdownFocus:function(){}},getDefaultProps:function(){return{utcOffset:r.default.utc().utcOffset(),monthsShown:1,forceShowMonthNavigation:!1}},getInitialState:function(){return{date:this.localizeMoment(this.getDateInView()),selectingDate:null}},componentWillReceiveProps:function(e){e.selected&&!(0,g.isSameDay)(e.selected,this.props.selected)?this.setState({date:this.localizeMoment(e.selected)}):e.openToDate&&!(0,g.isSameDay)(e.openToDate,this.props.openToDate)&&this.setState({date:this.localizeMoment(e.openToDate)})},handleClickOutside:function(e){this.props.onClickOutside(e)},handleDropdownFocus:function(e){v(e.target)&&this.props.onDropdownFocus()},getDateInView:function(){var e=this.props,t=e.selected,n=e.openToDate,a=e.utcOffset,o=(0,g.getEffectiveMinDate)(this.props),i=(0,g.getEffectiveMaxDate)(this.props),s=r.default.utc().utcOffset(a);return t?t:o&&i&&n&&n.isBetween(o,i)?n:o&&n&&n.isAfter(o)?n:o&&o.isAfter(s)?o:i&&n&&n.isBefore(i)?n:i&&i.isBefore(s)?i:n?n:s},localizeMoment:function(e){return e.clone().locale(this.props.locale||r.default.locale())},increaseMonth:function(){var e=this;this.setState({date:this.state.date.clone().add(1,"month")},function(){return e.handleMonthChange(e.state.date)})},decreaseMonth:function(){var e=this;this.setState({date:this.state.date.clone().subtract(1,"month")},function(){return e.handleMonthChange(e.state.date)})},handleDayClick:function(e,t){this.props.onSelect(e,t)},handleDayMouseEnter:function(e){this.setState({selectingDate:e})},handleMonthMouseLeave:function(){this.setState({selectingDate:null})},handleMonthChange:function(e){this.props.onMonthChange&&this.props.onMonthChange(e)},changeYear:function(e){this.setState({date:this.state.date.clone().set("year",e)})},changeMonth:function(e){var t=this;this.setState({date:this.state.date.clone().set("month",e)},function(){return t.handleMonthChange(t.state.date)})},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.date,t=e.clone().startOf("week"),n=[];return this.props.showWeekNumbers&&n.push(m.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},"#")),n.concat([0,1,2,3,4,5,6].map(function(e){var n=t.clone().add(e,"days");return m.default.createElement("div",{key:e,className:"react-datepicker__day-name"},n.localeData().weekdaysMin(n))}))},renderPreviousMonthButton:function(){if(this.props.forceShowMonthNavigation||!(0,g.allDaysDisabledBefore)(this.state.date,"month",this.props))return m.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--previous",onClick:this.decreaseMonth})},renderNextMonthButton:function(){if(this.props.forceShowMonthNavigation||!(0,g.allDaysDisabledAfter)(this.state.date,"month",this.props))return m.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--next",onClick:this.increaseMonth})},renderCurrentMonth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.date,t=["react-datepicker__current-month"];return this.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),this.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),m.default.createElement("div",{className:t.join(" ")},e.format(this.props.dateFormat))},renderYearDropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.props.showYearDropdown&&!e)return m.default.createElement(u.default,{dropdownMode:this.props.dropdownMode,onChange:this.changeYear,minDate:this.props.minDate,maxDate:this.props.maxDate,year:this.state.date.year(),scrollableYearDropdown:this.props.scrollableYearDropdown})},renderMonthDropdown:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.props.showMonthDropdown)return m.default.createElement(d.default,{dropdownMode:this.props.dropdownMode,locale:this.props.locale,onChange:this.changeMonth,month:this.state.date.month()})},renderTodayButton:function(){var e=this;if(this.props.todayButton)return m.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(t){return e.props.onSelect(r.default.utc().utcOffset(e.props.utcOffset).startOf("date"),t)}},this.props.todayButton)},renderMonths:function(){for(var e=[],t=0;t<this.props.monthsShown;++t){var n=this.state.date.clone().add(t,"M"),a="month-"+t;e.push(m.default.createElement("div",{key:a,className:"react-datepicker__month-container"},m.default.createElement("div",{className:"react-datepicker__header"},this.renderCurrentMonth(n),m.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--"+this.props.dropdownMode,onFocus:this.handleDropdownFocus},this.renderMonthDropdown(0!==t),this.renderYearDropdown(0!==t)),m.default.createElement("div",{className:"react-datepicker__day-names"},this.header(n))),m.default.createElement(f.default,{day:n,onDayClick:this.handleDayClick,onDayMouseEnter:this.handleDayMouseEnter,onMouseLeave:this.handleMonthMouseLeave,minDate:this.props.minDate,maxDate:this.props.maxDate,excludeDates:this.props.excludeDates,highlightDates:this.props.highlightDates,selectingDate:this.state.selectingDate,includeDates:this.props.includeDates,fixedHeight:this.props.fixedHeight,filterDate:this.props.filterDate,selected:this.props.selected,selectsStart:this.props.selectsStart,selectsEnd:this.props.selectsEnd,showWeekNumbers:this.props.showWeekNumbers,startDate:this.props.startDate,endDate:this.props.endDate,peekNextMonth:this.props.peekNextMonth,utcOffset:this.props.utcOffset})))}return e},render:function(){return m.default.createElement("div",{className:"react-datepicker"},m.default.createElement("div",{className:"react-datepicker__triangle"}),this.renderPreviousMonthButton(),this.renderNextMonthButton(),this.renderMonths(),this.renderTodayButton())}});e.exports=b},function(e,t,n){var a=n(7),o=n(117),r=a(o);e.exports=r},function(e,t,n){function a(e){return function(t,n,a){var s=Object(t);if(!r(t)){var l=o(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[l?t[u]:u]:void 0}}var o=n(8),r=n(88),i=n(68);e.exports=a},function(e,t,n){function a(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?r(e[0],e[1]):o(e):l(e)}var o=n(9),r=n(97),i=n(113),s=n(74),l=n(114);e.exports=a},function(e,t,n){function a(e){var t=r(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}var o=n(10),r=n(94),i=n(96);e.exports=a},function(e,t,n){function a(e,t,n,a){var l=n.length,u=l,c=!a;if(null==e)return!u;for(e=Object(e);l--;){var d=n[l];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<u;){d=n[l];var p=d[0],f=e[p],h=d[1];if(c&&d[2]){if(void 0===f&&!(p in e))return!1}else{var m=new o;if(a)var g=a(f,h,p,e,t,m);if(!(void 0===g?r(h,f,a,i|s,m):g))return!1}}return!0}var o=n(11),r=n(55),i=1,s=2;e.exports=a},function(e,t,n){function a(e){var t=this.__data__=new o(e);this.size=t.size}var o=n(12),r=n(20),i=n(21),s=n(22),l=n(23),u=n(24);a.prototype.clear=r,a.prototype.delete=i,a.prototype.get=s,a.prototype.has=l,a.prototype.set=u,e.exports=a},function(e,t,n){function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}var o=n(13),r=n(14),i=n(17),s=n(18),l=n(19);a.prototype.clear=o,a.prototype.delete=r,a.prototype.get=i,a.prototype.has=s,a.prototype.set=l,e.exports=a},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function a(e){var t=this.__data__,n=o(t,e);if(n<0)return!1;var a=t.length-1;return n==a?t.pop():i.call(t,n,1),--this.size,!0}var o=n(15),r=Array.prototype,i=r.splice;e.exports=a},function(e,t,n){function a(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}var o=n(16);e.exports=a},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function a(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}var o=n(15);e.exports=a},function(e,t,n){function a(e){return o(this.__data__,e)>-1}var o=n(15);e.exports=a},function(e,t,n){function a(e,t){var n=this.__data__,a=o(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}var o=n(15);e.exports=a},function(e,t,n){function a(){this.__data__=new o,this.size=0}var o=n(12);e.exports=a},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function a(e,t){var n=this.__data__;if(n instanceof o){var a=n.__data__;if(!r||a.length<s-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}var o=n(12),r=n(25),i=n(40),s=200;e.exports=a},function(e,t,n){var a=n(26),o=n(31),r=a(o,"Map");e.exports=r},function(e,t,n){function a(e,t){var n=r(e,t);return o(n)?n:void 0}var o=n(27),r=n(39);e.exports=a},function(e,t,n){function a(e){if(!i(e)||r(e))return!1;var t=o(e)?h:u;return t.test(s(e))}var o=n(28),r=n(36),i=n(35),s=n(38),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,p=c.toString,f=d.hasOwnProperty,h=RegExp("^"+p.call(f).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=a},function(e,t,n){function a(e){if(!r(e))return!1;var t=o(e);return t==s||t==l||t==i||t==u}var o=n(29),r=n(35),i="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";e.exports=a},function(e,t,n){function a(e){return null==e?void 0===e?l:s:(e=Object(e),u&&u in e?r(e):i(e))}var o=n(30),r=n(33),i=n(34),s="[object Null]",l="[object Undefined]",u=o?o.toStringTag:void 0;e.exports=a},function(e,t,n){var a=n(31),o=a.Symbol;e.exports=o},function(e,t,n){var a=n(32),o="object"==typeof self&&self&&self.Object===Object&&self,r=a||o||Function("return this")();e.exports=r},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){function a(e){var t=i.call(e,l),n=e[l];try{e[l]=void 0;var a=!0}catch(e){}var o=s.call(e);return a&&(t?e[l]=n:delete e[l]),o}var o=n(30),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,l=o?o.toStringTag:void 0;e.exports=a},function(e,t){function n(e){return o.call(e)}var a=Object.prototype,o=a.toString;e.exports=n},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function a(e){return!!r&&r in e}var o=n(37),r=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=a},function(e,t,n){var a=n(31),o=a["__core-js_shared__"];e.exports=o},function(e,t){function n(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var a=Function.prototype,o=a.toString;
e.exports=n},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}var o=n(41),r=n(49),i=n(52),s=n(53),l=n(54);a.prototype.clear=o,a.prototype.delete=r,a.prototype.get=i,a.prototype.has=s,a.prototype.set=l,e.exports=a},function(e,t,n){function a(){this.size=0,this.__data__={hash:new o,map:new(i||r),string:new o}}var o=n(42),r=n(12),i=n(25);e.exports=a},function(e,t,n){function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}var o=n(43),r=n(45),i=n(46),s=n(47),l=n(48);a.prototype.clear=o,a.prototype.delete=r,a.prototype.get=i,a.prototype.has=s,a.prototype.set=l,e.exports=a},function(e,t,n){function a(){this.__data__=o?o(null):{},this.size=0}var o=n(44);e.exports=a},function(e,t,n){var a=n(26),o=a(Object,"create");e.exports=o},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function a(e){var t=this.__data__;if(o){var n=t[e];return n===r?void 0:n}return s.call(t,e)?t[e]:void 0}var o=n(44),r="__lodash_hash_undefined__",i=Object.prototype,s=i.hasOwnProperty;e.exports=a},function(e,t,n){function a(e){var t=this.__data__;return o?void 0!==t[e]:i.call(t,e)}var o=n(44),r=Object.prototype,i=r.hasOwnProperty;e.exports=a},function(e,t,n){function a(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?r:t,this}var o=n(44),r="__lodash_hash_undefined__";e.exports=a},function(e,t,n){function a(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}var o=n(50);e.exports=a},function(e,t,n){function a(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}var o=n(51);e.exports=a},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function a(e){return o(this,e).get(e)}var o=n(50);e.exports=a},function(e,t,n){function a(e){return o(this,e).has(e)}var o=n(50);e.exports=a},function(e,t,n){function a(e,t){var n=o(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}var o=n(50);e.exports=a},function(e,t,n){function a(e,t,n,s,l){return e===t||(null==e||null==t||!r(e)&&!i(t)?e!==e&&t!==t:o(e,t,a,n,s,l))}var o=n(56),r=n(35),i=n(73);e.exports=a},function(e,t,n){function a(e,t,n,a,g,v){var b=u(e),E=u(t),C=h,k=h;b||(C=l(e),C=C==f?m:C),E||(k=l(t),k=k==f?m:k);var w=C==m,_=k==m,x=C==k;if(x&&c(e)){if(!c(t))return!1;b=!0,w=!1}if(x&&!w)return v||(v=new o),b||d(e)?r(e,t,n,a,g,v):i(e,t,C,n,a,g,v);if(!(g&p)){var T=w&&y.call(e,"__wrapped__"),S=_&&y.call(t,"__wrapped__");if(T||S){var M=T?e.value():e,N=S?t.value():t;return v||(v=new o),n(M,N,a,g,v)}}return!!x&&(v||(v=new o),s(e,t,n,a,g,v))}var o=n(11),r=n(57),i=n(63),s=n(67),l=n(89),u=n(74),c=n(75),d=n(79),p=2,f="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;e.exports=a},function(e,t,n){function a(e,t,n,a,u,c){var d=u&l,p=e.length,f=t.length;if(p!=f&&!(d&&f>p))return!1;var h=c.get(e);if(h&&c.get(t))return h==t;var m=-1,g=!0,y=u&s?new o:void 0;for(c.set(e,t),c.set(t,e);++m<p;){var v=e[m],b=t[m];if(a)var E=d?a(b,v,m,t,e,c):a(v,b,m,e,t,c);if(void 0!==E){if(E)continue;g=!1;break}if(y){if(!r(t,function(e,t){if(!i(y,t)&&(v===e||n(v,e,a,u,c)))return y.push(t)})){g=!1;break}}else if(v!==b&&!n(v,b,a,u,c)){g=!1;break}}return c.delete(e),c.delete(t),g}var o=n(58),r=n(61),i=n(62),s=1,l=2;e.exports=a},function(e,t,n){function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}var o=n(40),r=n(59),i=n(60);a.prototype.add=a.prototype.push=r,a.prototype.has=i,e.exports=a},function(e,t){function n(e){return this.__data__.set(e,a),this}var a="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function a(e,t,n,a,o,w,x){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!a(new r(e),new r(t)));case p:case f:case g:return i(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case m:var T=l;case v:var S=w&d;if(T||(T=u),e.size!=t.size&&!S)return!1;var M=x.get(e);if(M)return M==t;w|=c,x.set(e,t);var N=s(T(e),T(t),a,o,w,x);return x.delete(e),N;case E:if(_)return _.call(e)==_.call(t)}return!1}var o=n(30),r=n(64),i=n(16),s=n(57),l=n(65),u=n(66),c=1,d=2,p="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",v="[object Set]",b="[object String]",E="[object Symbol]",C="[object ArrayBuffer]",k="[object DataView]",w=o?o.prototype:void 0,_=w?w.valueOf:void 0;e.exports=a},function(e,t,n){var a=n(31),o=a.Uint8Array;e.exports=o},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,a){n[++t]=[a,e]}),n}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){function a(e,t,n,a,i,l){var u=i&r,c=o(e),d=c.length,p=o(t),f=p.length;if(d!=f&&!u)return!1;for(var h=d;h--;){var m=c[h];if(!(u?m in t:s.call(t,m)))return!1}var g=l.get(e);if(g&&l.get(t))return g==t;var y=!0;l.set(e,t),l.set(t,e);for(var v=u;++h<d;){m=c[h];var b=e[m],E=t[m];if(a)var C=u?a(E,b,m,t,e,l):a(b,E,m,e,t,l);if(!(void 0===C?b===E||n(b,E,a,i,l):C)){y=!1;break}v||(v="constructor"==m)}if(y&&!v){var k=e.constructor,w=t.constructor;k!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w)&&(y=!1)}return l.delete(e),l.delete(t),y}var o=n(68),r=2,i=Object.prototype,s=i.hasOwnProperty;e.exports=a},function(e,t,n){function a(e){return i(e)?o(e):r(e)}var o=n(69),r=n(84),i=n(88);e.exports=a},function(e,t,n){function a(e,t){var n=i(e),a=!n&&r(e),c=!n&&!a&&s(e),p=!n&&!a&&!c&&u(e),f=n||a||c||p,h=f?o(e.length,String):[],m=h.length;for(var g in e)!t&&!d.call(e,g)||f&&("length"==g||c&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,m))||h.push(g);return h}var o=n(70),r=n(71),i=n(74),s=n(75),l=n(78),u=n(79),c=Object.prototype,d=c.hasOwnProperty;e.exports=a},function(e,t){function n(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}e.exports=n},function(e,t,n){var a=n(72),o=n(73),r=Object.prototype,i=r.hasOwnProperty,s=r.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){function a(e){return r(e)&&o(e)==i}var o=n(29),r=n(73),i="[object Arguments]";e.exports=a},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var a=n(31),o=n(77),r="object"==typeof t&&t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===r,l=s?a.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||o;e.exports=c}).call(t,n(76)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(e,t){return t=null==t?a:t,!!t&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var a=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){var a=n(80),o=n(82),r=n(83),i=r&&r.isTypedArray,s=i?o(i):a;e.exports=s},function(e,t,n){function a(e){return i(e)&&r(e.length)&&!!P[o(e)]}var o=n(29),r=n(81),i=n(73),s="[object Arguments]",l="[object Array]",u="[object Boolean]",c="[object Date]",d="[object Error]",p="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",v="[object String]",b="[object WeakMap]",E="[object ArrayBuffer]",C="[object DataView]",k="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",T="[object Int32Array]",S="[object Uint8Array]",M="[object Uint8ClampedArray]",N="[object Uint16Array]",D="[object Uint32Array]",P={};P[k]=P[w]=P[_]=P[x]=P[T]=P[S]=P[M]=P[N]=P[D]=!0,P[s]=P[l]=P[E]=P[u]=P[C]=P[c]=P[d]=P[p]=P[f]=P[h]=P[m]=P[g]=P[y]=P[v]=P[b]=!1,e.exports=a},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}var a=9007199254740991;e.exports=n},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){(function(e){var a=n(32),o="object"==typeof t&&t&&!t.nodeType&&t,r=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=r&&r.exports===o,s=i&&a.process,l=function(){try{return s&&s.binding("util")}catch(e){}}();e.exports=l}).call(t,n(76)(e))},function(e,t,n){function a(e){if(!o(e))return r(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var o=n(85),r=n(86),i=Object.prototype,s=i.hasOwnProperty;e.exports=a},function(e,t){function n(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||a;return e===n}var a=Object.prototype;e.exports=n},function(e,t,n){var a=n(87),o=a(Object.keys,Object);e.exports=o},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function a(e){return null!=e&&r(e.length)&&!o(e)}var o=n(28),r=n(81);e.exports=a},function(e,t,n){var a=n(90),o=n(25),r=n(91),i=n(92),s=n(93),l=n(29),u=n(38),c="[object Map]",d="[object Object]",p="[object Promise]",f="[object Set]",h="[object WeakMap]",m="[object DataView]",g=u(a),y=u(o),v=u(r),b=u(i),E=u(s),C=l;(a&&C(new a(new ArrayBuffer(1)))!=m||o&&C(new o)!=c||r&&C(r.resolve())!=p||i&&C(new i)!=f||s&&C(new s)!=h)&&(C=function(e){var t=l(e),n=t==d?e.constructor:void 0,a=n?u(n):"";if(a)switch(a){case g:return m;case y:return c;case v:return p;case b:return f;case E:return h}return t}),e.exports=C},function(e,t,n){var a=n(26),o=n(31),r=a(o,"DataView");e.exports=r},function(e,t,n){var a=n(26),o=n(31),r=a(o,"Promise");e.exports=r},function(e,t,n){var a=n(26),o=n(31),r=a(o,"Set");e.exports=r},function(e,t,n){var a=n(26),o=n(31),r=a(o,"WeakMap");e.exports=r},function(e,t,n){function a(e){for(var t=r(e),n=t.length;n--;){var a=t[n],i=e[a];t[n]=[a,i,o(i)]}return t}var o=n(95),r=n(68);e.exports=a},function(e,t,n){function a(e){return e===e&&!o(e)}var o=n(35);e.exports=a},function(e,t){function n(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}e.exports=n},function(e,t,n){function a(e,t){return s(e)&&l(t)?u(c(e),t):function(n){var a=r(n,e);return void 0===a&&a===t?i(n,e):o(t,a,void 0,d|p)}}var o=n(55),r=n(98),i=n(110),s=n(108),l=n(95),u=n(96),c=n(109),d=1,p=2;e.exports=a},function(e,t,n){function a(e,t,n){var a=null==e?void 0:o(e,t);return void 0===a?n:a}var o=n(99);e.exports=a},function(e,t,n){function a(e,t){t=r(t,e)?[t]:o(t);for(var n=0,a=t.length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}var o=n(100),r=n(108),i=n(109);e.exports=a},function(e,t,n){function a(e){return o(e)?e:r(e)}var o=n(74),r=n(101);e.exports=a},function(e,t,n){var a=n(102),o=n(104),r=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,l=a(function(e){e=o(e);var t=[];return r.test(e)&&t.push(""),e.replace(i,function(e,n,a,o){t.push(a?o.replace(s,"$1"):n||e)}),t});e.exports=l},function(e,t,n){function a(e){var t=o(e,function(e){return n.size===r&&n.clear(),e}),n=t.cache;return t}var o=n(103),r=500;e.exports=a},function(e,t,n){function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var a=arguments,o=t?t.apply(this,a):a[0],r=n.cache;if(r.has(o))return r.get(o);var i=e.apply(this,a);return n.cache=r.set(o,i)||r,i};return n.cache=new(a.Cache||o),n}var o=n(40),r="Expected a function";a.Cache=o,e.exports=a},function(e,t,n){function a(e){return null==e?"":o(e)}var o=n(105);e.exports=a},function(e,t,n){function a(e){if("string"==typeof e)return e;if(i(e))return r(e,a)+"";if(s(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var o=n(30),r=n(106),i=n(74),s=n(107),l=1/0,u=o?o.prototype:void 0,c=u?u.toString:void 0;e.exports=a},function(e,t){function n(e,t){for(var n=-1,a=null==e?0:e.length,o=Array(a);++n<a;)o[n]=t(e[n],n,e);return o}e.exports=n},function(e,t,n){function a(e){return"symbol"==typeof e||r(e)&&o(e)==i}var o=n(29),r=n(73),i="[object Symbol]";e.exports=a},function(e,t,n){function a(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||s.test(e)||!i.test(e)||null!=t&&e in Object(t)}var o=n(74),r=n(107),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=a},function(e,t,n){function a(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}var o=n(107),r=1/0;e.exports=a},function(e,t,n){function a(e,t){return null!=e&&r(e,t,o)}var o=n(111),r=n(112);e.exports=a},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function a(e,t,n){t=l(t,e)?[t]:o(t);for(var a=-1,d=t.length,p=!1;++a<d;){var f=c(t[a]);if(!(p=null!=e&&n(e,f)))break;e=e[f]}return p||++a!=d?p:(d=null==e?0:e.length,!!d&&u(d)&&s(f,d)&&(i(e)||r(e)))}var o=n(100),r=n(71),i=n(74),s=n(78),l=n(108),u=n(81),c=n(109);e.exports=a},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function a(e){return i(e)?o(s(e)):r(e)}var o=n(115),r=n(116),i=n(108),s=n(109);e.exports=a},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function a(e){return function(t){return o(t,e)}}var o=n(99);e.exports=a},function(e,t,n){function a(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=null==n?0:i(n);return l<0&&(l=s(a+l,0)),o(e,r(t,3),l)}var o=n(118),r=n(8),i=n(119),s=Math.max;e.exports=a},function(e,t){function n(e,t,n,a){for(var o=e.length,r=n+(a?1:-1);a?r--:++r<o;)if(t(e[r],r,e))return r;return-1}e.exports=n},function(e,t,n){function a(e){var t=o(e),n=t%1;return t===t?n?t-n:t:0}var o=n(120);e.exports=a},function(e,t,n){function a(e){if(!e)return 0===e?e:0;if(e=o(e),e===r||e===-r){var t=e<0?-1:1;return t*i}return e===e?e:0}var o=n(121),r=1/0,i=1.7976931348623157e308;e.exports=a},function(e,t,n){function a(e){if("number"==typeof e)return e;if(r(e))return i;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=u.test(e);return n||c.test(e)?d(e.slice(2),n?2:8):l.test(e)?i:+e}var o=n(35),r=n(107),i=NaN,s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(3),r=a(o),i=n(123),s=a(i),l=n(125),u=a(l),c=(0,u.default)(s.default),d=r.default.createClass({displayName:"YearDropdown",propTypes:{dropdownMode:r.default.PropTypes.oneOf(["scroll","select"]).isRequired,maxDate:r.default.PropTypes.object,minDate:r.default.PropTypes.object,onChange:r.default.PropTypes.func.isRequired,scrollableYearDropdown:r.default.PropTypes.bool,year:r.default.PropTypes.number.isRequired},getInitialState:function(){return{dropdownVisible:!1}},renderSelectOptions:function(){for(var e=this.props.minDate?this.props.minDate.year():1900,t=this.props.maxDate?this.props.maxDate.year():2100,n=[],a=e;a<=t;a++)n.push(r.default.createElement("option",{key:a,value:a},a));return n},onSelectChange:function(e){this.onChange(e.target.value)},renderSelectMode:function(){return r.default.createElement("select",{value:this.props.year,className:"react-datepicker__year-select",onChange:this.onSelectChange},this.renderSelectOptions())},renderReadView:function(e){return r.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:this.toggleDropdown},r.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),r.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},this.props.year))},renderDropdown:function(){return r.default.createElement(c,{key:"dropdown",ref:"options",year:this.props.year,onChange:this.onChange,onCancel:this.toggleDropdown,scrollableYearDropdown:this.props.scrollableYearDropdown})},renderScrollMode:function(){var e=this.state.dropdownVisible,t=[this.renderReadView(!e)];return e&&t.unshift(this.renderDropdown()),t},onChange:function(e){this.toggleDropdown(),e!==this.props.year&&this.props.onChange(e)},toggleDropdown:function(){this.setState({dropdownVisible:!this.state.dropdownVisible})},render:function(){var e=void 0;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return r.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--"+this.props.dropdownMode},e)}});e.exports=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=[],a=0;a<t;a++)n.push(e-a);return n}var r=n(3),i=a(r),s=n(124),l=a(s),u=i.default.createClass({displayName:"YearDropdownOptions",propTypes:{onCancel:i.default.PropTypes.func.isRequired,onChange:i.default.PropTypes.func.isRequired,scrollableYearDropdown:i.default.PropTypes.bool,year:i.default.PropTypes.number.isRequired},getInitialState:function(){return{yearsList:this.props.scrollableYearDropdown?o(this.props.year,50):o(this.props.year,5)}},renderOptions:function(){var e=this,t=this.props.year,n=this.state.yearsList.map(function(n){return i.default.createElement("div",{className:"react-datepicker__year-option",key:n,ref:n,onClick:e.onChange.bind(e,n)},t===n?i.default.createElement("span",{className:"react-datepicker__year-option--selected"},"â"):"",n)});return n.unshift(i.default.createElement("div",{className:"react-datepicker__year-option",ref:"upcoming",key:"upcoming",onClick:this.incrementYears},i.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),n.push(i.default.createElement("div",{className:"react-datepicker__year-option",ref:"previous",key:"previous",onClick:this.decrementYears},i.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),n},onChange:function(e){this.props.onChange(e)},handleClickOutside:function(){this.props.onCancel()},shiftYears:function(e){var t=this.state.yearsList.map(function(t){return t+e});this.setState({yearsList:t})},incrementYears:function(){return this.shiftYears(1)},decrementYears:function(){return this.shiftYears(-1)},render:function(){var e=(0,l.default)({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return i.default.createElement("div",{className:e},this.renderOptions())}});e.exports=u},function(e,t,n){var a,o;/*!
		  Copyright (c) 2016 Jed Watson.
		  Licensed under the MIT License (MIT), see
		  http://jedwatson.github.io/classnames
		*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a))e.push(n.apply(null,a));else if("object"===o)for(var i in a)r.call(a,i)&&a[i]&&e.push(i)}}return e.join(" ")}var r={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(a=[],o=function(){return n}.apply(t,a),!(void 0!==o&&(e.exports=o)))}()},function(e,t){e.exports=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(3),r=a(o),i=n(127),s=a(i),l=n(125),u=a(l),c=n(2),d=a(c),p=n(128),f=a(p),h=(0,u.default)(s.default),m=r.default.createClass({displayName:"MonthDropdown",propTypes:{dropdownMode:r.default.PropTypes.oneOf(["scroll","select"]).isRequired,locale:r.default.PropTypes.string,month:r.default.PropTypes.number.isRequired,onChange:r.default.PropTypes.func.isRequired},getInitialState:function(){return{dropdownVisible:!1}},renderSelectOptions:function(e){return e.map(function(e,t){return r.default.createElement("option",{key:t,value:t},e)})},renderSelectMode:function(e){var t=this;return r.default.createElement("select",{value:this.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(e.target.value)}},this.renderSelectOptions(e))},renderReadView:function(e,t){return r.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:this.toggleDropdown},r.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},t[this.props.month]),r.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}))},renderDropdown:function(e){return r.default.createElement(h,{key:"dropdown",ref:"options",month:this.props.month,monthNames:e,onChange:this.onChange,onCancel:this.toggleDropdown})},renderScrollMode:function(e){var t=this.state.dropdownVisible,n=[this.renderReadView(!t,e)];return t&&n.unshift(this.renderDropdown(e)),n},onChange:function(e){this.toggleDropdown(),e!==this.props.month&&this.props.onChange(e)},toggleDropdown:function(){this.setState({dropdownVisible:!this.state.dropdownVisible})},render:function(){var e=d.default.localeData(this.props.locale),t=(0,f.default)(0,12).map(function(t){return e.months((0,d.default)({M:t}))}),n=void 0;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode(t);break;case"select":n=this.renderSelectMode(t)}return r.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--"+this.props.dropdownMode},n)}});e.exports=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(3),r=a(o),i=r.default.createClass({displayName:"MonthDropdownOptions",propTypes:{onCancel:r.default.PropTypes.func.isRequired,onChange:r.default.PropTypes.func.isRequired,month:r.default.PropTypes.number.isRequired,monthNames:r.default.PropTypes.arrayOf(r.default.PropTypes.string.isRequired).isRequired},renderOptions:function(){var e=this,t=this.props.month,n=this.props.monthNames.map(function(n,a){return r.default.createElement("div",{className:"react-datepicker__month-option",key:n,ref:n,onClick:e.onChange.bind(e,a)},t===a?r.default.createElement("span",{className:"react-datepicker__month-option--selected"},"â"):"",n)});return n},onChange:function(e){this.props.onChange(e)},handleClickOutside:function(){this.props.onCancel()},render:function(){return r.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}});e.exports=i},function(e,t,n){var a=n(129),o=a();e.exports=o},function(e,t,n){function a(e){return function(t,n,a){return a&&"number"!=typeof a&&r(t,n,a)&&(n=a=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),a=void 0===a?t<n?1:-1:i(a),o(t,n,a,e)}}var o=n(130),r=n(131),i=n(120);e.exports=a},function(e,t){function n(e,t,n,r){for(var i=-1,s=o(a((t-e)/(n||1)),0),l=Array(s);s--;)l[r?s:++i]=e,e+=n;return l}var a=Math.ceil,o=Math.max;e.exports=n},function(e,t,n){function a(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?r(n)&&i(t,n.length):"string"==a&&t in n)&&o(n[t],e)}var o=n(16),r=n(88),i=n(78),s=n(35);e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(3),r=a(o),i=n(124),s=a(i),l=n(133),u=a(l),c=6,d=r.default.createClass({displayName:"Month",propTypes:{day:r.default.PropTypes.object.isRequired,endDate:r.default.PropTypes.object,excludeDates:r.default.PropTypes.array,filterDate:r.default.PropTypes.func,fixedHeight:r.default.PropTypes.bool,highlightDates:r.default.PropTypes.array,includeDates:r.default.PropTypes.array,maxDate:r.default.PropTypes.object,minDate:r.default.PropTypes.object,onDayClick:r.default.PropTypes.func,onDayMouseEnter:r.default.PropTypes.func,onMouseLeave:r.default.PropTypes.func,peekNextMonth:r.default.PropTypes.bool,selected:r.default.PropTypes.object,selectingDate:r.default.PropTypes.object,selectsEnd:r.default.PropTypes.bool,selectsStart:r.default.PropTypes.bool,showWeekNumbers:r.default.PropTypes.bool,startDate:r.default.PropTypes.object,utcOffset:r.default.PropTypes.number},handleDayClick:function(e,t){this.props.onDayClick&&this.props.onDayClick(e,t)},handleDayMouseEnter:function(e){this.props.onDayMouseEnter&&this.props.onDayMouseEnter(e)},handleMouseLeave:function(){this.props.onMouseLeave&&this.props.onMouseLeave()},isWeekInMonth:function(e){var t=this.props.day,n=e.clone().add(6,"days");return e.isSame(t,"month")||n.isSame(t,"month")},renderWeeks:function(){for(var e=[],t=this.props.fixedHeight,n=this.props.day.clone().startOf("month").startOf("week"),a=0,o=!1;e.push(r.default.createElement(u.default,{key:a,day:n,month:this.props.day.month(),onDayClick:this.handleDayClick,onDayMouseEnter:this.handleDayMouseEnter,minDate:this.props.minDate,maxDate:this.props.maxDate,excludeDates:this.props.excludeDates,includeDates:this.props.includeDates,highlightDates:this.props.highlightDates,selectingDate:this.props.selectingDate,filterDate:this.props.filterDate,selected:this.props.selected,selectsStart:this.props.selectsStart,selectsEnd:this.props.selectsEnd,showWeekNumber:this.props.showWeekNumbers,startDate:this.props.startDate,endDate:this.props.endDate,utcOffset:this.props.utcOffset})),!o;){a++,n=n.clone().add(1,"weeks");var i=t&&a>=c,s=!t&&!this.isWeekInMonth(n);if(i||s){if(!this.props.peekNextMonth)break;o=!0}}return e},getClassNames:function(){var e=this.props,t=e.selectingDate,n=e.selectsStart,a=e.selectsEnd;return(0,s.default)("react-datepicker__month",{"react-datepicker__month--selecting-range":t&&(n||a)})},render:function(){return r.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,role:"listbox"},this.renderWeeks())}});e.exports=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(3),r=a(o),i=n(134),s=a(i),l=n(135),u=a(l),c=r.default.createClass({displayName:"Week",propTypes:{day:r.default.PropTypes.object.isRequired,endDate:r.default.PropTypes.object,excludeDates:r.default.PropTypes.array,filterDate:r.default.PropTypes.func,highlightDates:r.default.PropTypes.array,includeDates:r.default.PropTypes.array,maxDate:r.default.PropTypes.object,minDate:r.default.PropTypes.object,month:r.default.PropTypes.number,onDayClick:r.default.PropTypes.func,onDayMouseEnter:r.default.PropTypes.func,selected:r.default.PropTypes.object,selectingDate:r.default.PropTypes.object,selectsEnd:r.default.PropTypes.bool,selectsStart:r.default.PropTypes.bool,showWeekNumber:r.default.PropTypes.bool,startDate:r.default.PropTypes.object,utcOffset:r.default.PropTypes.number},handleDayClick:function(e,t){this.props.onDayClick&&this.props.onDayClick(e,t)},handleDayMouseEnter:function(e){this.props.onDayMouseEnter&&this.props.onDayMouseEnter(e)},renderDays:function(){var e=this,t=this.props.day.clone().startOf("week"),n=[];return this.props.showWeekNumber&&n.push(r.default.createElement(u.default,{key:"W",weekNumber:parseInt(t.format("w"),10)})),n.concat([0,1,2,3,4,5,6].map(function(n){var a=t.clone().add(n,"days");return r.default.createElement(s.default,{key:n,day:a,month:e.props.month,onClick:e.handleDayClick.bind(e,a),onMouseEnter:e.handleDayMouseEnter.bind(e,a),minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,highlightDates:e.props.highlightDates,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,startDate:e.props.startDate,endDate:e.props.endDate,utcOffset:e.props.utcOffset})}))},render:function(){return r.default.createElement("div",{className:"react-datepicker__week"},this.renderDays())}});e.exports=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(2),r=a(o),i=n(3),s=a(i),l=n(124),u=a(l),c=n(4),d=s.default.createClass({displayName:"Day",propTypes:{day:s.default.PropTypes.object.isRequired,endDate:s.default.PropTypes.object,highlightDates:s.default.PropTypes.array,month:s.default.PropTypes.number,onClick:s.default.PropTypes.func,onMouseEnter:s.default.PropTypes.func,selected:s.default.PropTypes.object,selectingDate:s.default.PropTypes.object,selectsEnd:s.default.PropTypes.bool,selectsStart:s.default.PropTypes.bool,startDate:s.default.PropTypes.object,utcOffset:s.default.PropTypes.number},getDefaultProps:function(){return{utcOffset:r.default.utc().utcOffset()}},handleClick:function(e){!this.isDisabled()&&this.props.onClick&&this.props.onClick(e)},handleMouseEnter:function(e){!this.isDisabled()&&this.props.onMouseEnter&&this.props.onMouseEnter(e)},isSameDay:function(e){return(0,c.isSameDay)(this.props.day,e)},isDisabled:function(){return(0,c.isDayDisabled)(this.props.day,this.props)},isHighlighted:function(){var e=this.props,t=e.day,n=e.highlightDates;return!!n&&n.some(function(e){return(0,c.isSameDay)(t,e)})},isInRange:function(){var e=this.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&(0,c.isDayInRange)(t,n,a)},isInSelectingRange:function(){var e=this.props,t=e.day,n=e.selectsStart,a=e.selectsEnd,o=e.selectingDate,r=e.startDate,i=e.endDate;return!(!n&&!a||!o||this.isDisabled())&&(n&&i&&o.isSameOrBefore(i)?(0,c.isDayInRange)(t,o,i):!!(a&&r&&o.isSameOrAfter(r))&&(0,c.isDayInRange)(t,r,o))},isSelectingRangeStart:function(){if(!this.isInSelectingRange())return!1;var e=this.props,t=e.day,n=e.selectingDate,a=e.startDate,o=e.selectsStart;return o?(0,c.isSameDay)(t,n):(0,c.isSameDay)(t,a)},isSelectingRangeEnd:function(){if(!this.isInSelectingRange())return!1;var e=this.props,t=e.day,n=e.selectingDate,a=e.endDate,o=e.selectsEnd;return o?(0,c.isSameDay)(t,n):(0,c.isSameDay)(t,a)},isRangeStart:function(){var e=this.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&(0,c.isSameDay)(n,t)},isRangeEnd:function(){var e=this.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&(0,c.isSameDay)(a,t)},isWeekend:function(){var e=this.props.day.day();return 0===e||6===e},isOutsideMonth:function(){return void 0!==this.props.month&&this.props.month!==this.props.day.month()},getClassNames:function(){return(0,u.default)("react-datepicker__day",{"react-datepicker__day--disabled":this.isDisabled(),"react-datepicker__day--selected":this.isSameDay(this.props.selected),"react-datepicker__day--highlighted":this.isHighlighted(),"react-datepicker__day--range-start":this.isRangeStart(),"react-datepicker__day--range-end":this.isRangeEnd(),"react-datepicker__day--in-range":this.isInRange(),"react-datepicker__day--in-selecting-range":this.isInSelectingRange(),"react-datepicker__day--selecting-range-start":this.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":this.isSelectingRangeEnd(),"react-datepicker__day--today":this.isSameDay(r.default.utc().utcOffset(this.props.utcOffset)),"react-datepicker__day--weekend":this.isWeekend(),"react-datepicker__day--outside-month":this.isOutsideMonth()})},render:function(){return s.default.createElement("div",{className:this.getClassNames(),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,"aria-label":"day-"+this.props.day.date(),role:"option"},this.props.day.date())}});e.exports=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(3),r=a(o),i=r.default.createClass({displayName:"WeekNumber",propTypes:{weekNumber:r.default.PropTypes.number.isRequired},render:function(){return r.default.createElement("div",{className:"react-datepicker__week-number","aria-label":"week-"+this.props.weekNumber},this.props.weekNumber)}});e.exports=i},function(e,t,n){var a=n(137),o=n(138),r=o(function(e,t){return a(e,1,t)});e.exports=r},function(e,t){function n(e,t,n){if("function"!=typeof e)throw new TypeError(a);return setTimeout(function(){e.apply(void 0,n)},t)}var a="Expected a function";e.exports=n},function(e,t,n){function a(e,t){return i(r(e,t,o),e+"")}var o=n(113),r=n(139),i=n(141);e.exports=a},function(e,t,n){function a(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,s=r(a.length-t,0),l=Array(s);++i<s;)l[i]=a[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=a[i];return u[t]=n(l),o(e,this,u)}}var o=n(140),r=Math.max;e.exports=a},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){var a=n(142),o=n(145),r=o(a);e.exports=r},function(e,t,n){var a=n(143),o=n(144),r=n(113),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:a(t),writable:!0})}:r;e.exports=i},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){var a=n(26),o=function(){try{var e=a(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){function n(e){var t=0,n=0;return function(){var i=r(),s=o-(i-n);if(n=i,s>0){if(++t>=a)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var a=800,o=16,r=Date.now;e.exports=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e,t,n){var a=e.children,o=s.Children.count(a);return o<=0?new Error(n+" expects at least one child to use as the target element."):o>2?new Error("Only a max of two children allowed in "+n+"."):void 0}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(3),l=a(s),u=n(147),c=a(u),d=n(148),p=a(d),f=["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],h=l.default.createClass({displayName:"TetherComponent",propTypes:{attachment:s.PropTypes.oneOf(f).isRequired,children:r,className:s.PropTypes.string,classPrefix:s.PropTypes.string,classes:s.PropTypes.object,constraints:s.PropTypes.array,enabled:s.PropTypes.bool,id:s.PropTypes.string,offset:s.PropTypes.string,optimizations:s.PropTypes.object,renderElementTag:s.PropTypes.string,renderElementTo:s.PropTypes.any,style:s.PropTypes.object,targetAttachment:s.PropTypes.oneOf(f),targetModifier:s.PropTypes.string,targetOffset:s.PropTypes.string},getDefaultProps:function(){return{renderElementTag:"div",renderElementTo:null}},componentDidMount:function(){this._targetNode=c.default.findDOMNode(this),this._update()},componentDidUpdate:function(){this._update()},componentWillUnmount:function(){this._destroy()},disable:function(){this._tether.disable()},enable:function(){this._tether.enable()},position:function(){this._tether.position()},_destroy:function(){this._elementParentNode&&(c.default.unmountComponentAtNode(this._elementParentNode),this._elementParentNode.parentNode.removeChild(this._elementParentNode)),this._tether&&this._tether.destroy(),this._elementParentNode=null,this._tether=null},_update:function(){var e=this,t=this.props,n=t.children,a=t.renderElementTag,o=t.renderElementTo,r=n[1];if(!r)return void(this._tether&&this._destroy());if(!this._elementParentNode){this._elementParentNode=document.createElement(a);var i=o||document.body;i.appendChild(this._elementParentNode)}c.default.unstable_renderSubtreeIntoContainer(this,r,this._elementParentNode,function(){e._updateTether()})},_updateTether:function(){var e=this.props,t=(e.renderElementTag,e.renderElementTo,o(e,["renderElementTag","renderElementTo"])),n=i({target:this._targetNode,element:this._elementParentNode},t);this._tether?this._tether.setOptions(n):this._tether=new p.default(n),this._tether.position()},render:function(){var e=this.props.children,t=null;return s.Children.forEach(e,function(e,n){if(0===n)return t=e,!1}),t}});e.exports=h},function(e,t){e.exports=a},function(e,t,n){var a,o;/*! tether 1.3.7 */
!function(r,i){a=i,o="function"==typeof a?a.call(t,n,t,e):a,!(void 0!==o&&(e.exports=o))}(this,function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=e.getBoundingClientRect(),n={};for(var a in t)n[a]=t[a];if(e.ownerDocument!==document){var r=e.ownerDocument.defaultView.frameElement;if(r){var i=o(r);n.top+=i.top,n.bottom+=i.top,n.left+=i.left,n.right+=i.left}}return n}function r(e){var t=getComputedStyle(e)||{},n=t.position,a=[];if("fixed"===n)return[e];for(var o=e;(o=o.parentNode)&&o&&1===o.nodeType;){var r=void 0;try{r=getComputedStyle(o)}catch(e){}if("undefined"==typeof r||null===r)return a.push(o),a;var i=r,s=i.overflow,l=i.overflowX,u=i.overflowY;/(auto|scroll)/.test(s+u+l)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(r.position)>=0)&&a.push(o)}return a.push(e.ownerDocument.body),e.ownerDocument!==document&&a.push(e.ownerDocument.defaultView),a}function i(){x&&document.body.removeChild(x),x=null}function s(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var n=t.documentElement,a=o(e),r=M();return a.top-=r.top,a.left-=r.left,"undefined"==typeof a.width&&(a.width=document.body.scrollWidth-a.left-a.right),"undefined"==typeof a.height&&(a.height=document.body.scrollHeight-a.top-a.bottom),a.top=a.top-n.clientTop,a.left=a.left-n.clientLeft,a.right=t.body.clientWidth-a.width-a.left,a.bottom=t.body.clientHeight-a.height-a.top,a}function l(e){return e.offsetParent||document.documentElement}function u(){if(N)return N;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");c(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var a=e.offsetWidth;n===a&&(a=t.clientWidth),document.body.removeChild(t);var o=n-a;return N={width:o,height:o}}function c(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function d(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var n=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),a=h(e).replace(n," ");m(e,a)}}function p(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{d(e,t);var n=h(e)+(" "+t);m(e,n)}}function f(e,t){if("undefined"!=typeof e.classList)return e.classList.contains(t);var n=h(e);return new RegExp("(^| )"+t+"( |$)","gi").test(n)}function h(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function m(e,t){e.setAttribute("class",t)}function g(e,t,n){n.forEach(function(n){t.indexOf(n)===-1&&f(e,n)&&d(e,n)}),t.forEach(function(t){f(e,t)||p(e,t)})}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+n>=t&&t>=e-n}function b(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function E(){for(var e={top:0,left:0},t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return n.forEach(function(t){var n=t.top,a=t.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof a&&(a=parseFloat(a,10)),e.top+=n,e.left+=a}),e}function C(e,t){return"string"==typeof e.left&&e.left.indexOf("%")!==-1&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&e.top.indexOf("%")!==-1&&(e.top=parseFloat(e.top,10)/100*t.height),e}function k(e,t){return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),"undefined"!=typeof t.nodeType&&!function(){var e=t,n=s(t),a=n,o=getComputedStyle(t);if(t=[a.left,a.top,n.width+a.left,n.height+a.top],e.ownerDocument!==document){var r=e.ownerDocument.defaultView;t[0]+=r.pageXOffset,t[1]+=r.pageYOffset,t[2]+=r.pageXOffset,t[3]+=r.pageYOffset}Q.forEach(function(e,n){e=e[0].toUpperCase()+e.substr(1),"Top"===e||"Left"===e?t[n]+=parseFloat(o["border"+e+"Width"]):t[n]-=parseFloat(o["border"+e+"Width"])})}(),t}var w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=void 0;"undefined"==typeof _&&(_={modules:[]});var x=null,T=function(){var e=0;return function(){return++e}}(),S={},M=function(){var e=x;e||(e=document.createElement("div"),e.setAttribute("data-tether-id",T()),c(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),x=e);var t=e.getAttribute("data-tether-id");return"undefined"==typeof S[t]&&(S[t]=o(e),P(function(){delete S[t]})),S[t]},N=null,D=[],P=function(e){D.push(e)},I=function(){for(var e=void 0;e=D.pop();)e()},A=function(){function e(){a(this,e)}return w(e,[{key:"on",value:function(e,t,n){var a=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:a})}},{key:"once",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function(e,t){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[e])if("undefined"==typeof t)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):++n}},{key:"trigger",value:function(e){if("undefined"!=typeof this.bindings&&this.bindings[e]){for(var t=0,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];for(;t<this.bindings[e].length;){var r=this.bindings[e][t],i=r.handler,s=r.ctx,l=r.once,u=s;"undefined"==typeof u&&(u=this),i.apply(u,a),l?this.bindings[e].splice(t,1):++t}}}}]),e}();_.Utils={getActualBoundingClientRect:o,getScrollParents:r,getBounds:s,getOffsetParent:l,extend:c,addClass:p,removeClass:d,hasClass:f,updateClasses:g,defer:P,flush:I,uniqueId:T,Evented:A,getScrollBarSize:u,removeUtilElements:i};var R=function(){function e(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),F=function(e,t,n){for(var a=!0;a;){var o=e,r=t,i=n;a=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=r,n=i,a=!0,s=u=void 0}};if("undefined"==typeof _)throw new Error("You must include the utils.js file before tether.js");var O=_.Utils,r=O.getScrollParents,s=O.getBounds,l=O.getOffsetParent,c=O.extend,p=O.addClass,d=O.removeClass,g=O.updateClasses,P=O.defer,I=O.flush,u=O.getScrollBarSize,i=O.removeUtilElements,L=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n){var a=t[n];if(void 0!==e.style[a])return a}}(),U=[],B=function(){U.forEach(function(e){e.position(!1)}),I()};!function(){var e=null,t=null,n=null,a=function a(){return"undefined"!=typeof t&&t>16?(t=Math.min(t-16,250),void(n=setTimeout(a,250))):void("undefined"!=typeof e&&b()-e<10||(null!=n&&(clearTimeout(n),n=null),e=b(),B(),t=b()-e))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,a)})}();var j={center:"center",left:"right",right:"left"},q={middle:"middle",top:"bottom",bottom:"top"},W={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},H=function(e,t){var n=e.left,a=e.top;return"auto"===n&&(n=j[t.left]),"auto"===a&&(a=q[t.top]),{left:n,top:a}},z=function(e){var t=e.left,n=e.top;return"undefined"!=typeof W[e.left]&&(t=W[e.left]),"undefined"!=typeof W[e.top]&&(n=W[e.top]),{left:t,top:n}},Y=function(e){var t=e.split(" "),n=R(t,2),a=n[0],o=n[1];return{top:a,left:o}},K=Y,V=function(e){function t(e){var n=this;a(this,t),F(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.position=this.position.bind(this),U.push(this),this.history=[],this.setOptions(e,!1),_.modules.forEach(function(e){"undefined"!=typeof e.initialize&&e.initialize.call(n)}),this.position()}return y(t,e),w(t,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return"undefined"!=typeof t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],a={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=c(a,e);var o=this.options,i=o.element,s=o.target,l=o.targetModifier;if(this.element=i,this.target=s,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if("undefined"==typeof t[e])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),p(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&p(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=K(this.options.targetAttachment),this.attachment=K(this.options.attachment),this.offset=Y(this.options.offset),this.targetOffset=Y(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=r(this.target),this.options.enabled!==!1&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return s(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=s(this.target),t={height:e.height,width:e.width,top:e.top,left:e.left};return t.height=Math.min(t.height,e.height-(pageYOffset-e.top)),t.height=Math.min(t.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),t.height=Math.min(innerHeight,t.height),t.height-=2,t.width=Math.min(t.width,e.width-(pageXOffset-e.left)),t.width=Math.min(t.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),t.width=Math.min(innerWidth,t.width),t.width-=2,t.top<pageYOffset&&(t.top=pageYOffset),t.left<pageXOffset&&(t.left=pageXOffset),t}if("scroll-handle"===this.targetModifier){var e=void 0,n=this.target;n===document.body?(n=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=s(n);var a=getComputedStyle(n),o=n.scrollWidth>n.clientWidth||[a.overflow,a.overflowX].indexOf("scroll")>=0||this.target!==document.body,r=0;o&&(r=15);var i=e.height-parseFloat(a.borderTopWidth)-parseFloat(a.borderBottomWidth)-r,t={width:15,height:.975*i*(i/n.scrollHeight),left:e.left+e.width-parseFloat(a.borderLeftWidth)-15},l=0;i<408&&this.target===document.body&&(l=-11e-5*Math.pow(i,2)-.00727*i+22.58),this.target!==document.body&&(t.height=Math.max(t.height,24));var u=this.target.scrollTop/(n.scrollHeight-i);return t.top=u*(i-t.height-l)+e.top+parseFloat(a.borderTopWidth),this.target===document.body&&(t.height=Math.max(t.height,24)),t}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&p(this.target,this.getClass("enabled")),p(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var e=this;this.disable(),U.forEach(function(t,n){t===e&&U.splice(n,1)}),0===U.length&&i()}},{key:"updateAttachClasses",value:function(e,t){var n=this;e=e||this.attachment,t=t||this.targetAttachment;var a=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var o=this._addAttachClasses;e.top&&o.push(this.getClass("element-attached")+"-"+e.top),e.left&&o.push(this.getClass("element-attached")+"-"+e.left),t.top&&o.push(this.getClass("target-attached")+"-"+t.top),t.left&&o.push(this.getClass("target-attached")+"-"+t.left);var r=[];a.forEach(function(e){r.push(n.getClass("element-attached")+"-"+e),r.push(n.getClass("target-attached")+"-"+e)}),P(function(){"undefined"!=typeof n._addAttachClasses&&(g(n.element,n._addAttachClasses,r),n.options.addTargetClasses!==!1&&g(n.target,n._addAttachClasses,r),delete n._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=H(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var a=this.cache("element-bounds",function(){return s(e.element)}),o=a.width,r=a.height;if(0===o&&0===r&&"undefined"!=typeof this.lastSize){var i=this.lastSize;o=i.width,r=i.height}else this.lastSize={width:o,height:r};var c=this.cache("target-bounds",function(){return e.getTargetBounds()}),d=c,p=C(z(this.attachment),{width:o,height:r}),f=C(z(n),d),h=C(this.offset,{width:o,height:r}),m=C(this.targetOffset,d);p=E(p,h),f=E(f,m);for(var g=c.left+f.left-p.left,y=c.top+f.top-p.top,v=0;v<_.modules.length;++v){var b=_.modules[v],k=b.position.call(this,{left:g,top:y,targetAttachment:n,targetPos:c,elementPos:a,offset:p,targetOffset:f,manualOffset:h,manualTargetOffset:m,scrollbarSize:S,attachment:this.attachment});if(k===!1)return!1;"undefined"!=typeof k&&"object"==typeof k&&(y=k.top,g=k.left)}var w={page:{top:y,left:g},viewport:{top:y-pageYOffset,bottom:pageYOffset-y-r+innerHeight,left:g-pageXOffset,right:pageXOffset-g-o+innerWidth}},x=this.target.ownerDocument,T=x.defaultView,S=void 0;return T.innerHeight>x.documentElement.clientHeight&&(S=this.cache("scrollbar-size",u),w.viewport.bottom-=S.height),T.innerWidth>x.documentElement.clientWidth&&(S=this.cache("scrollbar-size",u),w.viewport.right-=S.width),["","static"].indexOf(x.body.style.position)!==-1&&["","static"].indexOf(x.body.parentElement.style.position)!==-1||(w.page.bottom=x.body.scrollHeight-y-r,w.page.right=x.body.scrollWidth-g-o),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var t=e.cache("target-offsetparent",function(){return l(e.target)}),n=e.cache("target-offsetparent-bounds",function(){return s(t)}),a=getComputedStyle(t),o=n,r={};if(["Top","Left","Bottom","Right"].forEach(function(e){r[e.toLowerCase()]=parseFloat(a["border"+e+"Width"])}),n.right=x.body.scrollWidth-n.left-o.width+r.right,n.bottom=x.body.scrollHeight-n.top-o.height+r.bottom,w.page.top>=n.top+r.top&&w.page.bottom>=n.bottom&&w.page.left>=n.left+r.left&&w.page.right>=n.right){var i=t.scrollTop,u=t.scrollLeft;w.offset={top:w.page.top-n.top+i-r.top,left:w.page.left-n.left+u-r.left}}}(),this.move(w),this.history.unshift(w),this.history.length>3&&this.history.pop(),t&&I(),!0}}},{key:"move",value:function(e){var t=this;if("undefined"!=typeof this.element.parentNode){var n={};for(var a in e){n[a]={};for(var o in e[a]){for(var r=!1,i=0;i<this.history.length;++i){var s=this.history[i];if("undefined"!=typeof s[a]&&!v(s[a][o],e[a][o])){r=!0;break}}r||(n[a][o]=!0)}}var u={top:"",left:"",right:"",bottom:""},d=function(e,n){var a="undefined"!=typeof t.options.optimizations,o=a?t.options.optimizations.gpu:null;if(o!==!1){var r=void 0,i=void 0;if(e.top?(u.top=0,r=n.top):(u.bottom=0,r=-n.bottom),e.left?(u.left=0,i=n.left):(u.right=0,i=-n.right),window.matchMedia){var s=window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches;s||(i=Math.round(i),r=Math.round(r))}u[L]="translateX("+i+"px) translateY("+r+"px)","msTransform"!==L&&(u[L]+=" translateZ(0)")}else e.top?u.top=n.top+"px":u.bottom=n.bottom+"px",e.left?u.left=n.left+"px":u.right=n.right+"px"},p=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",d(n.page,e.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",d(n.viewport,e.viewport)):"undefined"!=typeof n.offset&&n.offset.top&&n.offset.left?!function(){u.position="absolute";var a=t.cache("target-offsetparent",function(){return l(t.target)});l(t.element)!==a&&P(function(){t.element.parentNode.removeChild(t.element),a.appendChild(t.element)}),d(n.offset,e.offset),p=!0}():(u.position="absolute",d({top:!0,left:!0},e.page)),!p){for(var f=!0,h=this.element.parentNode;h&&1===h.nodeType&&"BODY"!==h.tagName;){if("static"!==getComputedStyle(h).position){f=!1;break}h=h.parentNode}f||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var m={},g=!1;for(var o in u){var y=u[o],b=this.element.style[o];b!==y&&(g=!0,m[o]=y)}g&&P(function(){c(t.element.style,m),t.trigger("repositioned")})}}}]),t}(A);V.modules=[],_.position=B;var G=c(V,_),R=function(){function e(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=_.Utils,s=O.getBounds,c=O.extend,g=O.updateClasses,P=O.defer,Q=["left","top","right","bottom"];_.modules.push({position:function(e){var t=this,n=e.top,a=e.left,o=e.targetAttachment;if(!this.options.constraints)return!0;var r=this.cache("element-bounds",function(){return s(t.element)}),i=r.height,l=r.width;if(0===l&&0===i&&"undefined"!=typeof this.lastSize){var u=this.lastSize;l=u.width,i=u.height}var d=this.cache("target-bounds",function(){return t.getTargetBounds()}),p=d.height,f=d.width,h=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,n=e.pinnedClass;t&&h.push(t),n&&h.push(n)}),h.forEach(function(e){["left","top","right","bottom"].forEach(function(t){h.push(e+"-"+t)})});var m=[],y=c({},o),v=c({},this.attachment);return this.options.constraints.forEach(function(e){var r=e.to,s=e.attachment,u=e.pin;"undefined"==typeof s&&(s="");var c=void 0,d=void 0;if(s.indexOf(" ")>=0){var h=s.split(" "),g=R(h,2);d=g[0],c=g[1]}else c=d=s;var b=k(t,r);"target"!==d&&"both"!==d||(n<b[1]&&"top"===y.top&&(n+=p,y.top="bottom"),n+i>b[3]&&"bottom"===y.top&&(n-=p,y.top="top")),"together"===d&&("top"===y.top&&("bottom"===v.top&&n<b[1]?(n+=p,y.top="bottom",n+=i,v.top="top"):"top"===v.top&&n+i>b[3]&&n-(i-p)>=b[1]&&(n-=i-p,y.top="bottom",v.top="bottom")),"bottom"===y.top&&("top"===v.top&&n+i>b[3]?(n-=p,y.top="top",n-=i,v.top="bottom"):"bottom"===v.top&&n<b[1]&&n+(2*i-p)<=b[3]&&(n+=i-p,y.top="top",v.top="top")),"middle"===y.top&&(n+i>b[3]&&"top"===v.top?(n-=i,v.top="bottom"):n<b[1]&&"bottom"===v.top&&(n+=i,v.top="top"))),"target"!==c&&"both"!==c||(a<b[0]&&"left"===y.left&&(a+=f,y.left="right"),a+l>b[2]&&"right"===y.left&&(a-=f,y.left="left")),"together"===c&&(a<b[0]&&"left"===y.left?"right"===v.left?(a+=f,y.left="right",a+=l,v.left="left"):"left"===v.left&&(a+=f,y.left="right",a-=l,v.left="right"):a+l>b[2]&&"right"===y.left?"left"===v.left?(a-=f,y.left="left",a-=l,v.left="right"):"right"===v.left&&(a-=f,y.left="left",a+=l,v.left="left"):"center"===y.left&&(a+l>b[2]&&"left"===v.left?(a-=l,v.left="right"):a<b[0]&&"right"===v.left&&(a+=l,v.left="left"))),"element"!==d&&"both"!==d||(n<b[1]&&"bottom"===v.top&&(n+=i,v.top="top"),n+i>b[3]&&"top"===v.top&&(n-=i,v.top="bottom")),"element"!==c&&"both"!==c||(a<b[0]&&("right"===v.left?(a+=l,v.left="left"):"center"===v.left&&(a+=l/2,v.left="left")),a+l>b[2]&&("left"===v.left?(a-=l,v.left="right"):"center"===v.left&&(a-=l/2,v.left="right"))),"string"==typeof u?u=u.split(",").map(function(e){return e.trim()}):u===!0&&(u=["top","left","right","bottom"]),u=u||[];var E=[],C=[];n<b[1]&&(u.indexOf("top")>=0?(n=b[1],E.push("top")):C.push("top")),n+i>b[3]&&(u.indexOf("bottom")>=0?(n=b[3]-i,E.push("bottom")):C.push("bottom")),a<b[0]&&(u.indexOf("left")>=0?(a=b[0],E.push("left")):C.push("left")),a+l>b[2]&&(u.indexOf("right")>=0?(a=b[2]-l,E.push("right")):C.push("right")),E.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),m.push(e),E.forEach(function(t){m.push(e+"-"+t)})}(),C.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),m.push(e),C.forEach(function(t){m.push(e+"-"+t)})}(),(E.indexOf("left")>=0||E.indexOf("right")>=0)&&(v.left=y.left=!1),(E.indexOf("top")>=0||E.indexOf("bottom")>=0)&&(v.top=y.top=!1),y.top===o.top&&y.left===o.left&&v.top===t.attachment.top&&v.left===t.attachment.left||(t.updateAttachClasses(v,y),t.trigger("update",{attachment:v,targetAttachment:y}))}),P(function(){t.options.addTargetClasses!==!1&&g(t.target,m,h),g(t.element,m,h)}),{top:n,left:a}}});var O=_.Utils,s=O.getBounds,g=O.updateClasses,P=O.defer;_.modules.push({position:function(e){var t=this,n=e.top,a=e.left,o=this.cache("element-bounds",function(){return s(t.element)}),r=o.height,i=o.width,l=this.getTargetBounds(),u=n+r,c=a+i,d=[];n<=l.bottom&&u>=l.top&&["left","right"].forEach(function(e){var t=l[e];t!==a&&t!==c||d.push(e)}),a<=l.right&&c>=l.left&&["top","bottom"].forEach(function(e){var t=l[e];t!==n&&t!==u||d.push(e)});var p=[],f=[],h=["left","top","right","bottom"];return p.push(this.getClass("abutted")),h.forEach(function(e){p.push(t.getClass("abutted")+"-"+e)}),d.length&&f.push(this.getClass("abutted")),d.forEach(function(e){f.push(t.getClass("abutted")+"-"+e)}),P(function(){t.options.addTargetClasses!==!1&&g(t.target,f,p),g(t.element,f,p)}),!0}});var R=function(){function e(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return _.modules.push({position:function(e){var t=e.top,n=e.left;if(this.options.shift){var a=this.options.shift;"function"==typeof this.options.shift&&(a=this.options.shift.call(this,{top:t,left:n}));var o=void 0,r=void 0;if("string"==typeof a){a=a.split(" "),a[1]=a[1]||a[0];var i=a,s=R(i,2);o=s[0],r=s[1],o=parseFloat(o,10),r=parseFloat(r,10)}else o=a.top,r=a.left;return t+=o,n+=r,{top:t,left:n}}}}),G})}])})},1338:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.addPublicationAssetComment=t.addPublicationComment=t.removePublicationComment=t.getPublicationReplies=t.getPublicationComments=void 0;var o=n(26),r=a(o),i=n(1),s=a(i),l=n(957),u=a(l),c=n(93),d=a(c),p=n(56),f=n(41),h=n(95),m=n(154),g=n(867),y=n(19),v=a(y),b=(t.getPublicationComments=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.parentIds,a=t.limit,o=t.offset;return function(t){var r=new p.RGKey(e,p.RGType.TYPE_PUBLICATION).getFullKey();return t((0,m.setMessagesLoading)(String(e),!0)),(0,g.loadMessages)(r,{parentIds:n,limit:a,offset:o}).catch(function(e){var n=e.message;t((0,f.pushAlert)(function(){return s.default.createElement(u.default,{title:n})}))}).then(function(e){t((0,h.mergeState)(e))}).then(function(){t((0,m.setMessagesLoading)(String(e),!1))})}},t.getPublicationReplies=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,a=t.offset;return function(t){t((0,m.setRepliesLoading)(e,!0)),(0,g.loadReplies)(e,{offset:a,limit:n}).then(function(e){t((0,h.mergeState)(e))}).then(function(){t((0,m.setRepliesLoading)(e,!1))})}},t.removePublicationComment=function(e,t){return function(n){return n((0,m.removeMessage)(e,t)).then(function(){n((0,f.pushAlert)(function(){return s.default.createElement(d.default,{title:"Comment deleted"})}))}).catch(function(e){var t=e.message;n((0,f.pushAlert)(function(){return s.default.createElement(u.default,{title:"Comment could not be deleted",description:t})}))})}},function(e,t,n){return function(a){return a((0,m.addMessage)(t,n)).then(function(){(0,v.default)(["rg-base"],function(t){t.fire("publicationCommentCreated",{publicationUid:e})}),a((0,f.pushAlert)(function(){return s.default.createElement(d.default,{title:"Comment added",description:"Your comment is now visible to the authors and others."})}))}).catch(function(e){var t=e.message;a((0,f.pushAlert)(function(){return s.default.createElement(u.default,{title:"Comment could not be created",description:t})}))})}}),E=function(e,t){var n=e.publicationUid,a=(0,r.default)(e,["publicationUid"]),o=new p.RGKey(n,p.RGType.TYPE_PUBLICATION).getFullKey(),i=Object.assign({rootId:o,parentId:o},a);return b(n,i,t)};t.addPublicationComment=E;var C=function(e,t){var n=e.publicationUid,a=e.assetKey,o=(0,r.default)(e,["publicationUid","assetKey"]),i=new p.RGKey(n,p.RGType.TYPE_PUBLICATION).getFullKey(),s=Object.assign({rootId:i,parentId:a},o);return b(n,s,t)};t.addPublicationAssetComment=C},1350:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(18),h=a(f),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getName=function(){return this.props.fullName},t.prototype.getLinkedName=function(){return d.default.createElement("a",{href:this.props.accountUrl},this.getName())},t.prototype.render=function(){return d.default.createElement("span",{className:"display-name"},this.props.accountUrl?this.getLinkedName():this.getName())},t}(c.Component);m.protoTypes={fullName:d.default.PropTypes.string.isRequired,accountUrl:d.default.PropTypes.string},t.default=(0,p.connectWidget)(function(e,t){if(t.accountId){var n=(0,h.default)(e.accountsGlobalAccounts,t.accountId,{});return{account:n,accountUrl:n.accountURL,fullName:n.fullName}}})(m)},1352:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.AlmanacPublicationList=void 0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(5),m=n(11),g=a(m),y=n(309),v=a(y),b=n(573),E=a(b),C=new g.default({name:"almanac-preview-list"}),k=3,w=t.AlmanacPublicationList=function(e){function t(n){(0,s.default)(this,t);var a=(0,u.default)(this,e.call(this,n));return a.openShowMoreDialog=a.openShowMoreDialog.bind(a),a}return(0,d.default)(t,e),t.prototype.openShowMoreDialog=function(){widgetLoader.loadWidgetInDialog(this.props.showMoreUrl)},t.prototype.renderListItems=function(){return this.props.cardPreviews.map(function(e,t){return f.default.createElement(E.default,(0,r.default)({},e.data,{key:"listItem"+t,index:t,showControls:!1}))})},t.prototype.renderShowMoreButton=function(){if(this.props.hasShowMore){var e=this.props.totalItems-k;return f.default.createElement("div",C("show-more"),f.default.createElement("a",{key:"openDialog",onClick:this.openShowMoreDialog},"Show ",e," more items without dates"))}},t.prototype.render=function(){return f.default.createElement("div",C(),f.default.createElement("div",null,this.renderListItems()),this.renderShowMoreButton())},t}(p.Component);t.default=(0,h.connectWidget)(function(e,t){var n=(0,v.default)(e.almanacCardPreviews,t.cardPreviewKeys);return{cardPreviews:Object.values(n)}})(w)},1353:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=a(o),i=n(376),s=a(i),l=n(320),u=a(l),c=n(321),d=a(c),p=n(916),f=a(p),h=n(14),m=n(6),g=function(e){var t=[];e.card.questionTitle&&e.card.questionUrl&&t.push(r.default.createElement(m.Link,{key:e.card.questionUrl,theme:"bare",href:e.card.questionUrl},e.card.questionTitle));var n=e.card.commentBody;return n=n.replace(/&lt;/g,String.fromCharCode(60)),n=n.replace(/&gt;/g,String.fromCharCode(62)),n=n.replace(/&amp;/g,String.fromCharCode(38)),r.default.createElement(s.default,null,r.default.createElement(s.default.Header,{type:"Answer",title:n.trim(),url:e.card.commentUrl,showAsQuote:!0}),r.default.createElement(s.default.Meta,{title:"In response to"},t),r.default.createElement(s.default.Footer,null,r.default.createElement(h.MediaObject,{gutter:"none"},r.default.createElement(h.MediaObject.Item,{width:"full"},r.default.createElement(u.default,null,r.default.createElement(d.default,{href:e.card.cardActionUrl,theme:"bare",label:e.isOwner?"View More":"Read"}))),r.default.createElement(h.MediaObject.Item,null,r.default.createElement(f.default,{upvoteCount:e.card.upvoteCount,upvoteCountUrl:e.card.upvoteCountUrl})))))};t.default=g},1354:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(1),s=a(i),l=n(11),u=a(l),c=n(6),d=n(7),p=n(49),f=a(p),h=new u.default("central-card"),m=function(e){var t=e.card.description;return t.length>420&&(t=t.substring(0,420)+"..."),s.default.createElement("div",h(),s.default.createElement("div",h("header"),s.default.createElement(c.Text,(0,r.default)({size:"m",spacing:"auto"},h("icon")),s.default.createElement(c.Icon,{identifier:"folder",size:"l",className:"icon"})),s.default.createElement("div",h("content"),s.default.createElement("span",h("type"),"Project")," Â· ",f.default.utc(e.card.startDate).format("MMM YYYY"),s.default.createElement("div",h("position"),s.default.createElement(c.Link,{href:e.card.projectUrl,theme:"bare"},e.card.title)),s.default.createElement(c.Text,(0,r.default)({size:"m",spacing:"auto"},h("description")),t),s.default.createElement(d.Button,{href:e.card.viewProjectUrl,theme:"ghost",size:"s"},"View project"))));
};t.default=m},1355:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=a(o),i=n(376),s=a(i),l=n(320),u=a(l),c=n(321),d=a(c),p=n(14),f=n(6),h=function(e){var t=[r.default.createElement(f.Link,{key:e.card.publicationTitle,theme:"bare",href:e.card.publicationUrl},e.card.publicationTitle)];return r.default.createElement(s.default,null,r.default.createElement(s.default.Header,{type:"Comment",title:e.card.messageText,url:e.card.messageUrl,showAsQuote:!0}),r.default.createElement(s.default.Meta,{title:"About"},t),r.default.createElement(s.default.Footer,null,r.default.createElement(p.MediaObject,{gutter:"none"},r.default.createElement(p.MediaObject.Item,{width:"full"},r.default.createElement(u.default,null,r.default.createElement(d.default,{href:e.card.cardActionUrl,label:e.card.isOwner?"View More":"Read"}))))))};t.default=h},1356:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=a(o),i=n(49),s=a(i),l=n(376),u=a(l),c=n(320),d=a(c),p=n(321),f=a(p),h=n(929),m=a(h),g=n(14),y=function(e){var t=[];return e.card.reviewLabel&&t.push(e.card.reviewLabel),t.push("Created "+s.default.utc(e.card.reviewDate).format("ll")),r.default.createElement(u.default,null,r.default.createElement(u.default.Header,{type:"Review of "+e.card.publicationDisplayType.toLowerCase(),title:e.card.publicationTitle,url:e.card.reviewUrl}),r.default.createElement(u.default.Meta,null,t),r.default.createElement(u.default.Footer,null,r.default.createElement(g.MediaObject,{gutter:"none"},r.default.createElement(g.MediaObject.Item,{width:"full"},r.default.createElement(d.default,null,r.default.createElement(f.default,{href:e.card.cardActionUrl,label:"Read review"}))),r.default.createElement(g.MediaObject.Item,null,r.default.createElement(m.default,{reviewStats:e.card.publicationReviewStats})))))};t.default=y},1357:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(49),f=a(p),h=n(376),m=a(h),g=n(930),y=a(g),v=n(931),b=a(v),E=n(14),C=n(6),k=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getMetadata=function(){var e=[];return this.props.card.topicTitle&&e.push(d.default.createElement(C.Link,{key:this.props.card.topicUrl,theme:"bare",href:this.props.card.topicUrl},this.props.card.topicTitle)),e.push(f.default.utc(this.props.card.questionDate).format("ll")),e},t.prototype.render=function(){return d.default.createElement(m.default,null,d.default.createElement(m.default.Header,{type:"Question",title:this.props.card.questionTitle,url:this.props.card.questionUrl}),d.default.createElement(m.default.Meta,{title:"Asked in"},this.getMetadata()),d.default.createElement(m.default.Footer,null,d.default.createElement(E.MediaObject,{gutter:"none"},d.default.createElement(E.MediaObject.Item,{width:"full"},d.default.createElement(y.default,{isOwner:this.props.isOwner,cardActions:this.props.card.questionActions})),d.default.createElement(E.MediaObject.Item,null,d.default.createElement(b.default,{cardStats:this.props.card.questionStats})))))},t}(c.Component);t.default=k},1358:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=a(o),i=n(49),s=a(i),l=function(e){var t=[],n=void 0,a=void 0;if(e.card.position&&(n=r.default.createElement("div",{className:"position"},e.card.position)),e.card.institutionName!==!1&&(e.card.institutionUrl?t.push(r.default.createElement("a",{href:e.card.institutionUrl,key:"institution"},e.card.institutionName)):t.push(e.card.institutionName)),e.card.departmentName!==!1){var o=e.card,i=o.departmentName,l=o.departmentUrl;t.length>0&&(l||i)&&t.push(r.default.createElement("span",{key:"dot"}," Â· ")),l?t.push(r.default.createElement("a",{href:l,key:"department"},i)):i&&t.push(i)}return t&&(a=r.default.createElement("div",{className:"metadata"},t.map(function(e){return e}))),r.default.createElement("div",{className:"vita-card"},r.default.createElement("div",{className:"vita-header"},r.default.createElement("div",{className:"ico-almanac-position"}),r.default.createElement("div",{className:"vita-content"},r.default.createElement("span",{className:"type"},"New Position")," Â·","Started ",s.default.utc(e.card.startDate).format("MMM YYYY"),n,a)))};t.default=l},1365:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=a(o),i=n(7),s=function(e){var t=e.title,n=e.description,a=e.label,o=e.onConfirm;return r.default.createElement(i.Alert,{title:t,description:n},r.default.createElement(i.Button,{onClick:o,theme:"inverted"},a))};t.default=s},1366:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(21),f=a(p),h=n(845),m=a(h),g=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.state={value:a.props.text?a.props.text:"",submitDisabled:!0},a.handleBlur=a.handleBlur.bind(a),a.handleFocus=a.handleFocus.bind(a),a.handleChange=a.handleChange.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.handleCancel=a.handleCancel.bind(a),a}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){if(this.props.focusAfterMount){var e=f.default.findDOMNode(this.refs.commentInput),t=e.value.length;e.focus(),e.setSelectionRange&&e.setSelectionRange(t,t)}},t.prototype.handleBlur=function(){this.props.onBlur&&this.props.onBlur()},t.prototype.handleFocus=function(){this.props.onFocus&&this.props.onFocus()},t.prototype.handleChange=function(e){var t=this.props.limit?e.target.value.substr(0,this.props.limit):e.target.value;this.setState({value:t,submitDisabled:!this.isSubmittingValid(t)}),this.props.onChange&&this.props.onChange(t)},t.prototype.isSubmittingValid=function(e){return e.trim().length>4&&e!==this.props.text},t.prototype.handleSubmit=function(){this.isSubmittingValid(this.state.value)&&(this.reset(),this.props.onSave(this.state.value.trim()))},t.prototype.handleCancel=function(){this.reset(),this.props.onCancel&&this.props.onCancel()},t.prototype.reset=function(){this.setState({value:""}),f.default.findDOMNode(this.refs.commentInput).blur()},t.prototype.render=function(){var e=this.state.value,t=this.props.forceDisableSubmit||this.state.submitDisabled;return d.default.createElement("div",{className:"comment-composer"},d.default.createElement(m.default,{useCacheForDOMMeasurements:!0,ref:"commentInput",className:"comment-textarea",placeholder:"Add a comment",value:e,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange}),d.default.createElement("div",{className:"comment-buttons"},d.default.createElement("button",{className:"btn btn-default btn-large",disabled:t,onClick:this.handleSubmit},this.props.saveText),d.default.createElement("a",{className:"gray-link",onClick:this.handleCancel},"Cancel")),this.props.children)},t.prototype.focus=function(){this.refs.commentInput.focus()},t}(c.Component);t.default=g,g.defaultProps={limit:0,saveText:"Add comment"}},1367:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(21),f=a(p),h=n(845),m=a(h),g=n(12),y=a(g),v=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.state={value:a.props.text?a.props.text:"",submitDisabled:!0},a.handleBlur=a.handleBlur.bind(a),a.handleFocus=a.handleFocus.bind(a),a.handleChange=a.handleChange.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.handleCancel=a.handleCancel.bind(a),a}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){if(this.props.focusAfterMount){var e=f.default.findDOMNode(this.refs.replyInput),t=e.value.length;e.focus(),e.setSelectionRange&&e.setSelectionRange(t,t)}},t.prototype.handleBlur=function(){this.props.onBlur&&this.props.onBlur()},t.prototype.handleFocus=function(){this.props.onFocus&&this.props.onFocus()},t.prototype.handleChange=function(e){var t=this.props.limit?e.target.value.substr(0,this.props.limit):e.target.value;this.setState({value:t,submitDisabled:!this.isSubmittingValid(t)})},t.prototype.isSubmittingValid=function(e){return e.trim().length>4&&e!==this.props.text},t.prototype.handleSubmit=function(){this.isSubmittingValid(this.state.value)&&(this.reset(),this.props.onSave(this.state.value.trim()))},t.prototype.handleCancel=function(){this.reset(),this.props.onCancel&&this.props.onCancel()},t.prototype.reset=function(){this.setState({value:""}),f.default.findDOMNode(this.refs.replyInput).blur()},t.prototype.render=function(){var e=this.state.value,t=this.state.submitDisabled,n={"blue-link":!0,"btn-disabled":t};return d.default.createElement("div",{className:"comment-reply-composer"},d.default.createElement(m.default,{useCacheForDOMMeasurements:!0,ref:"replyInput",className:"comment-reply-textarea",placeholder:"Add a reply ...",value:e,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange}),d.default.createElement("div",{className:"comment-reply-buttons"},d.default.createElement("a",{className:(0,y.default)(n),disabled:t,onClick:this.handleSubmit},this.props.saveText),d.default.createElement("a",{className:"gray-link",onClick:this.handleCancel},"Cancel")))},t}(c.Component);t.default=v,v.defaultProps={limit:0,saveText:"Add reply"}},1371:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.MessageItemQuote=void 0;var o=n(1),r=a(o),i=n(6),s=n(11),l=a(s),u=new l.default({name:"message-item-quote"}),c=t.MessageItemQuote=function(e){var t=e.text;return r.default.createElement("div",u(),r.default.createElement(i.Text,{size:"m",spacing:"none"},t))};t.default=c},1374:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(6),h=n(379),m=a(h),g=n(990),y=a(g),v=n(7),b=n(13),E=a(b),C=n(32),k=a(C),w=n(24),_=a(w),x=n(42),T=n(15),S=a(T),M=n(19),N=a(M),D=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.requesterEditableList=null,a.state={privateMessage:"",sendButtonStatus:""},a.privateMessageChange=a.privateMessageChange.bind(a),a.sendFulltext=a.sendFulltext.bind(a),a.decline=a.decline.bind(a),a}return(0,u.default)(t,e),t.prototype.render=function(){var e=this;return d.default.createElement("div",{className:"fulltext-satisfy-request-dialog js-full-dialog"},d.default.createElement("div",{className:"fulltext-upload-dialog js-full-dialog"},d.default.createElement("div",{className:"dialog-hd"},d.default.createElement(f.Text,{size:"xl",spacing:"m"},"Copy stored - You can now send it to requesters")),d.default.createElement("div",{className:"dialog-bd"},d.default.createElement(m.default,{widgetId:this.props.publicationRequesterList}),d.default.createElement(f.Text,null,"Would you like to send the stored copy to them in a private message?"),d.default.createElement(y.default,{ref:function(t){e.requesterEditableList=t},widgetId:this.props.requesterEditableList}),d.default.createElement(f.Text,{size:"s",spacing:"xxs"},"Attachment:"),d.default.createElement(f.Text,{size:"s",spacing:"s"},this.props.fulltextLink.originalFilename),d.default.createElement("div",{className:"message-form-container"},d.default.createElement("div",{className:"control-group"},d.default.createElement("label",{htmlFor:"private-message-textarea"},"Message:"),d.default.createElement("textarea",{value:this.state.privateMessage,onChange:this.privateMessageChange,id:"private-message-textarea",name:"private-message",placeholder:"Enter a message for all the recipients"})))),d.default.createElement("div",{className:"dialog-ft"},d.default.createElement("div",{className:"actions-holder clearfix"},d.default.createElement("div",{className:"rf"},d.default.createElement(v.Button,{size:"m",onClick:this.sendFulltext,status:this.state.sendButtonStatus},d.default.createElement(v.Button.Label,null,"Send"))),d.default.createElement("div",{className:"rf"},d.default.createElement(v.Button,{theme:"ghost",size:"m",className:"refuse-button",onClick:this.decline},d.default.createElement(v.Button.Label,null,"No thanks")))))))},t.prototype.sendFulltext=function(){var e=this;this.setBusySendButton(),(0,S.default)(this.props.milestoneClickedYes);var t=this.requesterEditableList.getWrappedInstance().getRequestersListData(),n=t.map(function(e){return e.accountKey}),a={publicationUid:this.props.publicationUid,privateLinkId:this.props.fulltextLink.id,requesterKeys:n,saveForLater:!1,message:this.state.privateMessage,viewId:this.props.fulltextRequestFulfillmentViewId};(0,E.default)(this.props.privatelyShareFulltextUrl,{method:"POST",body:a}).then(function(t){t.success?(e.closeDialog(),e.openUploadFinishedDialog()):(e.enableSendButton(),(0,k.default)(t.errors,C.TYPE_WARNING))}).catch(function(t){e.enableSendButton(),(0,k.default)(t.message,C.TYPE_WARNING)})},t.prototype.decline=function(){(0,S.default)(this.props.milestoneClickedNo),window.location.reload()},t.prototype.closeDialog=function(){(0,N.default)(["event-custom"],function(e){e.fire("DefaultHeaderRequestsCounter:refreshCounter")}),window.location.reload()},t.prototype.enableSendButton=function(){this.setState({sendButtonStatus:""})},t.prototype.setBusySendButton=function(){this.setState({sendButtonStatus:"busy"})},t.prototype.privateMessageChange=function(e){e.target&&this.setState({privateMessage:e.target.value})},t.prototype.openUploadFinishedDialog=function(){(0,x.renderInDialog)(d.default.createElement(_.default,{widgetId:this.props.fulltextUploadFinishedDialog}))},t}(c.Component);t.default=(0,p.connectWidget)()(D)},1375:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(6),h=n(7),m=n(635),g=a(m),y=n(744),v=a(y),b=n(989),E=a(b),C=n(32),k=a(C),w=n(13),_=a(w),x=n(42),T=n(19),S=a(T),M=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.state={storeButtonState:"disabled",conditionsVerified:!1,uploadButtonState:""},a.storeFulltext=a.storeFulltext.bind(a),a.closeDialog=a.closeDialog.bind(a),a.userConditionsVerify=a.userConditionsVerify.bind(a),a}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement("div",{className:"fulltext-store-dialog js-full-dialog"},d.default.createElement("div",{className:"dialog-hd"},d.default.createElement(f.Text,{spacing:"s",size:"xl"},"Full-text sent - do you want to store it privately?")),d.default.createElement("div",{className:"dialog-bd"},d.default.createElement(f.Text,{size:"m",spacing:"xs"},d.default.createElement("b",null,this.props.publicationType,": ",this.props.publicationTitle)),d.default.createElement(g.default,{widgetId:this.props.publicationRomeoClassification}),d.default.createElement(f.Text,{className:"hint",spacing:"xxs"},d.default.createElement("b",null,"Store this file")," so itâs available to quickly satisfy future full-text requests."),d.default.createElement("div",{className:"fulltexts-container"},d.default.createElement(v.default,{title:this.props.linkData.linkName,mimeType:this.props.linkData.linkMimeType})),d.default.createElement("div",{className:"conditions-container"},d.default.createElement("div",{className:"conditions-content"},d.default.createElement("label",{className:"checkbox"},d.default.createElement("input",{type:"checkbox",name:"condition",checked:this.state.conditionsVerified,onChange:this.userConditionsVerify}),d.default.createElement(f.Text,{className:"conditions",size:"m"},"I reviewed and verified the above files Iâm uploading. I confirm I am the author and agree to the ",d.default.createElement(h.Tooltip,{spacing:"s",color:"black",target:d.default.createElement(f.Link,{theme:"bare",color:"blue",className:"upload-conditions-link"},"upload conditions")},"By uploading this file (i) you are confirming that you have reviewed this file and that it contains no material protected by intellectual property laws or personal rights unless you own or control such rights or have received all necessary consents, and (ii) you ask ResearchGate to extract structured data from it, and (iii) you ask ResearchGate to extract figures (including, without limitation, data, tables, graphs, images, illustrations) from the publication. If figures can be extracted, they will be added to your profile as additional separate items. If structured data can be extracted, it will be displayed in an enriched viewing format. Data will be stored as part of your profile and can be controlled in the same way as the uploaded file.")))))),d.default.createElement("div",{className:"dialog-ft"},d.default.createElement("div",{className:"actions-holder clearfix"},d.default.createElement("div",{className:"rf"},d.default.createElement(h.Button,{size:"m",className:"fulltext-upload-button",status:this.state.storeButtonState,onClick:this.storeFulltext},d.default.createElement(h.Button.Label,null,"Store this file"))))))},t.prototype.storeFulltext=function(){var e=this;this.setBusyStoreButton(),this.setBusyUploadButton();var t={publicationUid:this.props.publicationUid,linkId:this.props.linkData.linkId};(0,_.default)(this.props.makeLinkPrivateFulltextUrl,{method:"POST",body:t}).then(function(t){t.success?(e.closeDialog(),e.openUploadFinishedDialog()):(e.enableStoreButton(),e.enableUploadButton(),(0,k.default)(t.errors,C.TYPE_WARNING))}).catch(function(t){e.enableStoreButton(),e.enableUploadButton(),(0,k.default)(t.message,C.TYPE_WARNING)})},t.prototype.userConditionsVerify=function(e){if(e.currentTarget){var t=!this.state.conditionsVerified;this.setState({conditionsVerified:t}),t?this.enableStoreButton():this.disableStoreButton()}},t.prototype.enableStoreButton=function(){this.setState({storeButtonState:""})},t.prototype.disableStoreButton=function(){this.setState({storeButtonState:"disabled"})},t.prototype.setBusyStoreButton=function(){this.setState({storeButtonState:"busy"})},t.prototype.setBusyUploadButton=function(){this.setState({uploadButtonState:"busy"})},t.prototype.enableUploadButton=function(){this.setState({uploadButtonState:""})},t.prototype.openUploadFinishedDialog=function(){(0,x.renderInDialog)(d.default.createElement(E.default,{widgetId:this.props.fulltextUploadFinishedDialog,dialog:this.props.dialog}))},t.prototype.closeDialog=function(){(0,S.default)(["event-custom"],function(e){e.fire("DefaultHeaderRequestsCounter:refreshCounter")}),this.props.dialog.hide()},t}(c.Component);t.default=(0,p.connectWidget)()(M)},1376:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(744),h=a(f),m=n(46),g=a(m),y=n(6),v=n(996),b=a(v),E=n(870),C=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.state={privateFulltextLinks:a.props.privateFulltextLinks,slurpsUnprocessedLinks:a.props.slurpsUnprocessedLinks},a.selectLink=a.selectLink.bind(a),a.selectSlurpLink=a.selectSlurpLink.bind(a),a.selectTemporaryFulltext=a.selectTemporaryFulltext.bind(a),a.removeTemporaryFulltext=a.removeTemporaryFulltext.bind(a),a}return(0,u.default)(t,e),t.prototype.componentWillUnmount=function(){this.props.dispatch((0,E.removeTemporaryFulltextFile)()),this.props.dispatch((0,E.removeFulltextLink)())},t.prototype.getSlurpedItem=function(e,t){if(e.processingDetails.date){var n=void 0;return e.processingDetails.accountName&&(n=d.default.createElement(y.Text,{size:"s",className:"made-available"}," Â· Import triggered by ",d.default.createElement(y.Link,{href:e.processingDetails.accountUrl,target:"_blank",theme:"bare",className:"link-creator-url"},d.default.createElement(y.Text,{size:"s",className:"link-creator"},e.processingDetails.accountName)))),d.default.createElement(b.default,{key:t,subline:d.default.createElement(y.Text,{size:"s"},e.processingDetails.date,n)})}return d.default.createElement("label",{className:"radio",key:t},d.default.createElement("input",{type:"radio",name:"fulltext",className:"radio-input",onChange:this.selectSlurpLink,checked:this.props.selectedLink&&e.linkId===this.props.selectedLink.linkId,value:e.linkId}),d.default.createElement("div",{className:"attachment-list-item"},d.default.createElement(y.Text,{size:"m",className:"slurp-found"},"We found a link to a full-text of your publication online."),d.default.createElement(y.Text,{size:"m",className:"slurp-found"},"Please review it at:"),d.default.createElement(y.Link,{href:e.url,target:"_blank",theme:"bare",color:"blue"},e.urlDisplayed)))},t.prototype.getFulltextItem=function(e,t){var n=void 0;e.accountName&&(n=d.default.createElement(y.Text,{size:"s",className:"made-available"},"Â· Made available by",d.default.createElement(y.Link,{href:e.accountUrl,target:"_blank",theme:"bare",className:"link-creator-url"},d.default.createElement(y.Text,{size:"s",className:"link-creator"},e.accountName))));var a=d.default.createElement(y.Text,{size:"s"},e.linkDate," ",n),o=void 0;e.downloadUrl&&(o=d.default.createElement("div",null,d.default.createElement(y.Link,{href:e.downloadUrl,theme:"bare",className:"action download"},"Download"))),e.isTemporary&&(o=d.default.createElement("div",null,d.default.createElement(y.Link,{theme:"bare",className:"action remove",value:e.fileKey||e.assetKey,onClick:this.removeTemporaryFulltext},"Remove")));var r=e.isTemporary?d.default.createElement("input",{type:"radio",name:"fulltextTmp",className:"radio-input",onChange:this.selectTemporaryFulltext,checked:null===this.props.selectedLink,value:"tmp"+e.fileKey}):d.default.createElement("input",{type:"radio",name:"fulltext",className:"radio-input",onChange:this.selectLink,checked:this.props.selectedLink&&e.linkId===this.props.selectedLink.linkId,value:e.linkId});return this.state.privateFulltextLinks<1&&this.state.slurpsUnprocessedLinks<1&&e.isTemporary&&(r=null),d.default.createElement("label",{className:"radio fulltext-file",key:t},r,d.default.createElement(h.default,{title:e.linkNameDisplayed,subline:a,mimeType:e.linkMimeType,actions:o}))},t.prototype.selectLink=function(e){if(e.currentTarget){var t=this.state.privateFulltextLinks.find(function(t){return t.linkId===e.currentTarget.value});this.props.dispatch((0,E.selectFulltextLink)(t))}},t.prototype.selectSlurpLink=function(e){if(e.currentTarget){var t=this.state.slurpsUnprocessedLinks.find(function(t){return t.linkId===e.currentTarget.value});this.props.dispatch((0,E.selectFulltextLink)(t))}},t.prototype.selectTemporaryFulltext=function(e){e.currentTarget&&this.props.dispatch((0,E.removeFulltextLink)())},t.prototype.removeTemporaryFulltext=function(e){e.currentTarget.value&&(this.state.privateFulltextLinks&&this.setState({fulltexts:this.state.privateFulltextLinks.filter(function(t){var n=t.fileKey||t.assetKey;return n!==e.currentTarget.value})}),this.props.dispatch((0,E.removeTemporaryFulltextFile)()))},t.prototype.render=function(){var e=this,t=[];return(0,g.default)(this.state.privateFulltextLinks,function(n){t.push(e.getFulltextItem(n,n.linkId))}),(0,g.default)(this.state.slurpsUnprocessedLinks,function(n){t.push(e.getSlurpedItem(n,n.linkId))}),(0,g.default)(this.props.slurpsProcessingLinks,function(n){t.push(e.getSlurpedItem(n,n.linkId))}),this.props.temporaryFile&&t.push(this.getFulltextItem({linkNameDisplayed:this.props.temporaryFile.fileName,linkMimeType:this.props.temporaryFile.mimeType,fileKey:this.props.temporaryFile.fileKey,assetKey:this.props.temporaryFile.assetKey,isTemporary:!0},this.props.temporaryFile.fileKey||this.props.temporaryFile.assetKey)),d.default.createElement("div",{className:"stored-fulltext-files"},t)},t}(c.Component);t.default=(0,p.connectWidget)(function(e){var t=e.literaturePublicationFulltext,n=t.temporaryFile,a=t.selectedLink;return{temporaryFile:n,selectedLink:a}})(C)},1407:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(5),m=n(13),g=a(m),y=n(42),v=n(32),b=a(v),E=n(12),C=a(E),k=n(19),w=a(k),_=function(e){function t(n){(0,s.default)(this,t);var a=(0,u.default)(this,e.call(this,n));return a.handleClaim=a.handleClaim.bind(a),a.isLoading=!1,a.state={isLinkDisabled:n.showClaimPending},a}return(0,d.default)(t,e),t.prototype.handleClaim=function(){var e=this;this.isLoading||(this.isLoading=!0,(0,g.default)(this.props.canClaimUrl,{}).then(function(t){var n=t.result.claimableAuthorUid;return t.result.canClaim&&!n?void e.claimAuthorship():(e.isLoading=!1,void(0,y.openDialog)(e.props.dialogUrl,{params:{authorUid:n}}))}).catch(function(){e.isLoading=!1,(0,b.default)("Error while claiming authorship")}))},t.prototype.claimAuthorship=function(){var e=this;this.setState({isLinkDisabled:!0}),(0,g.default)(this.props.claimUrl,{method:"POST"}).then(function(){window.location.reload()}).catch(function(){e.setState({isLinkDisabled:!1}),e.isLoading=!1,(0,b.default)("Error while claiming authorship")})},t.prototype.componentWillUnmount=function(){this.subscriber&&this.subscriber.detach()},t.prototype.componentDidMount=function(){var e=this;(0,w.default)(["rg-custom-event"],function(t){e.subscriber=t.on("PublicationAuthorClaimView:willShowEndOfTransaction",function(){t.rg.notify("Your authorship claim has been submitted. We'll process your request and let you know as soon as your authorship is confirmed.","success"),e.setState({isLinkDisabled:!0})})})},t.prototype.render=function(){var e={"link-nostyle":this.state.isLinkDisabled},t={};return this.state.isLinkDisabled||(t.onClick=this.handleClaim),f.default.createElement("div",(0,r.default)({className:(0,C.default)(this.props.buttonClassName,e)},t),this.props.showClaimPending||this.state.isLinkDisabled?"Claim pending":"Claim authorship")},t}(p.Component);t.default=(0,h.connectWidget)()(_)},1409:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(42),h=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.handleClick=a.handleClick.bind(a),a}return(0,u.default)(t,e),t.prototype.handleClick=function(){this.props.showPublicationDownloadDataUsagePermissionDialog&&setTimeout(function(){(0,f.openDialog)("literature.PublicationDownloadDataUsagePermissionDialog.html")},2e3)},t.prototype.render=function(){return d.default.createElement("a",{className:this.props.buttonClassName,href:this.props.downloadUrl,onClick:this.handleClick},"Download")},t}(c.Component);t.default=(0,p.connectWidget)()(h)},1410:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.openDialog=a.openDialog.bind(a),a}return(0,u.default)(t,e),t.prototype.openDialog=function(){widgetLoader.loadWidgetInDialog(this.props.dialogUrl)},t.prototype.render=function(){return d.default.createElement("div",{className:this.props.buttonClassName,onClick:this.openDialog},"Generate a DOI")},t}(c.Component);t.default=(0,p.connectWidget)()(f)},1411:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(58),h=a(f),m=n(595),g=a(m),y=n(1350),v=a(y),b=n(761),E=a(b),C=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement("li",{className:"recent-readers-item"},d.default.createElement("div",{className:"indent-left"},d.default.createElement(h.default,{accountId:this.props.accountId,linked:!1})),d.default.createElement("div",{className:"indent-right"},d.default.createElement(E.default,{widgetId:this.props.actions})),d.default.createElement("div",{className:"content"},d.default.createElement(v.default,{fullName:this.props.fullName,accountUrl:this.props.accountUrl}),d.default.createElement("div",{className:"truncate-single-line"},d.default.createElement(g.default,{accountId:this.props.accountId}))))},t}(c.Component);t.default=(0,p.connectWidget)()(C)},1412:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(16),h=a(f),m=n(43),g=a(m),y=n(7),v=n(6),b=n(364),E=n(28),C=n(363),k=n(40),w=a(k),_=n(189),x=(a(_),n(1029)),T=a(x),S=n(1390),M=a(S),N=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getItems=function(){var e=this,t=this.props,n=t.projectIds,a=t.context,o={goals:{follow:""}};return n.map(function(t){var n={view:e.getUrl(t,"details"),details:e.getUrl(t,"details"),shareUpdate:e.getUrl(t,"details"),followers:e.getUrl(t,"followers"),secondaryCTA:e.getUrl(t,"details"),collaborators:e.getUrl(t,"collaborators")};return d.default.createElement("div",{key:t,className:"publication-related-projects-list__item"},d.default.createElement(T.default,{projectId:t,context:a,tracking:o,urls:n}))})},t.prototype.getUrl=function(e,t){var n=this.props.tracking.milestones.projectDetails,a=this.props.viewId;return(0,b.trackingDataUrl)(this.props.urls[e][t],n,{viewIds:a,context:this.props.context})},t.prototype.render=function(){var e=this.props,t=e.projectIds,n=e.projectCreateButtonWidgetId;return n?d.default.createElement("div",null,d.default.createElement(v.Text,{spacing:"m",className:"publication-detail-sidebar-empty"},"This research has no related projects."),d.default.createElement(M.default,{widgetId:n},d.default.createElement(y.Button,null,"Add new project"))):(0,g.default)(t)?d.default.createElement("div",{className:"publication-detail-sidebar-empty"},"This research has no related projects."):d.default.createElement("div",{className:"publication-related-projects-list"},d.default.createElement(v.Text,{size:"xl",spacing:"xs",className:"publication-related-projects-header"},"Related projects"),this.getItems())},t}(c.Component),D=function(e,t){for(var n=(0,C.selectTracking)(e,t),a={},o=t.projectIds,r=Array.isArray(o),i=0,o=r?o:o[Symbol.iterator]();;){var s;if(r){if(i>=o.length)break;s=o[i++]}else{if(i=o.next(),i.done)break;s=i.value}var l=s,u=(0,E.selectProject)(e,{projectId:l});a[l]=u.urls}return{urls:a,tracking:n}};t.default=(0,h.default)((0,p.connectWidget)(D),(0,w.default)(["tracking"]))(N)},1413:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(24),h=a(f),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){var e=this.props.publicationItemList,t=null;return this.props.exploreKeyword&&(t=d.default.createElement("div",{className:"pub-related-list-explore"},d.default.createElement("a",{href:this.props.exploreKeyword.url},"Explore the latest publications, questions and projects in ",d.default.createElement("span",null,this.props.exploreKeyword.name)))),d.default.createElement("div",{className:"pub-related-list"},d.default.createElement(h.default,{key:e,widgetId:e}),t)},t}(c.Component);t.default=(0,p.connectWidget)()(m)},1414:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(42),h=function(e){function t(){var n,a,o;(0,r.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=a=(0,s.default)(this,e.call.apply(e,[this].concat(l))),a.state={isLinkDisabled:!1
},a.handleClick=function(){(0,f.openDialog)(a.props.dialogUrl,{dialogConfig:{autoStack:!0}})},o=n,(0,s.default)(a,o)}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){var e=this;this.subscriber=YRG.on("publication:feedbackRequested",function(t){t.publicationUid===e.props.publicationUid&&e.setState({isLinkDisabled:!0})})},t.prototype.componentWillUnmount=function(){this.subscriber&&this.subscriber.detach()},t.prototype.render=function(){var e={className:this.props.buttonClassName};return this.state.isLinkDisabled?e.className+=" link-nostyle":e.onClick=this.handleClick,d.default.createElement("div",e,this.state.isLinkDisabled?"Feedback requested":"Request feedback")},t}(c.Component);h.defaultProps={buttonClassName:""},t.default=(0,p.connectWidget)()(h)},1415:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(17),f=a(p),h=n(1416),m=a(h),g=n(5),y=n(622),v=n(500),b=n(57),E=a(b),C=n(502),k=n(6),w=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.openMore=a.openMore.bind(a),a}return(0,u.default)(t,e),t.prototype.getMoreButton=function(){var e=this.props.remainingCount;if(!e)return null;var t=(0,f.default)("resource",e),n="+"+e+" more "+t;return d.default.createElement("button",{className:"btn-more-supplements",onClick:this.openMore},n)},t.prototype.openMore=function(){this.props.dispatch((0,v.updateSelectedTab)(y.TAB_SUPPLEMENTED_PUBLICATIONS)),(0,E.default)(".publication-resource-tab-box",{duration:600,ease:"inOutQuart",offset:0-this.props.stickyHeaderHeight})},t.prototype.render=function(){if(!this.props.items||!this.props.items.length)return null;var e=this.props.items.map(function(e,t){return d.default.createElement(m.default,{widgetId:e,key:e+"_"+t})});return d.default.createElement("section",{className:"publication-supplements-previewer"},d.default.createElement(k.Text,{className:"publication-section-title",size:"xl",spacing:"xs"},"Linked Data"),d.default.createElement("ul",null,e),this.getMoreButton())},t}(c.Component),_=function(e){return{stickyHeaderHeight:(0,C.selectStickyHeaderHeight)(e)}};w.defaultProps={items:[]},t.default=(0,g.connectWidget)(_)(w)},1416:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=l.default.utc(e.publicationDate).format("MMM YYYY"),n=e.downloadUrl?i.default.createElement("a",{className:"supplement-download-link",href:e.downloadUrl},"Download"):"";return i.default.createElement("li",{className:"publication-supplements-previewer-item"},i.default.createElement("div",{className:"ico-supplement-thumbnail"}),i.default.createElement("div",{className:"supplement-info"},i.default.createElement("a",{href:e.url,className:"supplement-title"},e.title),i.default.createElement("div",{className:"supplement-type"},e.type),i.default.createElement("time",{className:"supplement-date",dateTime:e.publicationDate},t),n))}t.__esModule=!0;var r=n(1),i=a(r),s=n(49),l=a(s),u=n(5);t.default=(0,u.connectWidget)()(o)},1425:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(6),f=n(7),h=n(14),m=function(e){function t(){var n,a,o;(0,r.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=a=(0,s.default)(this,e.call.apply(e,[this].concat(l))),a.handleViewClick=function(){YRG.fire("publicationFigures:openDialog",a.props.figure.position)},o=n,(0,s.default)(a,o)}return(0,u.default)(t,e),t.prototype.getHeadline=function(){return this.props.figure.titleShort||this.props.figure.figureKey},t.prototype.getActions=function(){return d.default.createElement(f.ButtonGroup,{gutter:"xs"},d.default.createElement(f.Button,{type:"button",size:"s",theme:"bare",color:"grey",onClick:this.handleViewClick},"View"),this.props.onRemoveClick&&d.default.createElement(f.Button,{type:"button",size:"s",theme:"bare",color:"grey",onClick:this.props.onRemoveClick},"Remove"))},t.prototype.render=function(){return d.default.createElement(h.MediaObject,{gutter:"s",className:"publication-comment-figure"},d.default.createElement(h.MediaObject.Item,null,d.default.createElement("img",{src:this.props.figure.imageUrl,alt:this.props.figure.figureKey,onClick:this.handleViewClick,className:"publication-comment-figure__image"})),d.default.createElement(h.MediaObject.Item,{width:"full"},d.default.createElement(p.Text,{spacing:"xs"},this.getHeadline()),this.getActions()))},t}(c.Component);t.default=m},1426:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(21),f=n(6),h=n(37),m=n(16),g=a(m),y=n(40),v=a(y),b=n(33),E=n(5),C=n(103),k=a(C),w=n(17),_=a(w),x=n(57),T=a(x),S=n(259),M=a(S),N=n(32),D=a(N),P=n(41),I=n(93),A=a(I),R=n(154),F=n(1338),O=n(29),L=n(883),U=n(108),B=n(7),j=n(749),q=a(j),W=n(2339),H=a(W),z=n(2336),Y=a(z),K=n(2337),V=a(K),G=n(751),Q=a(G),X=n(595),$=a(X),J=n(19),Z=a(J),ee=n(13),te=a(ee),ne=10,ae=2,oe=function(e){function t(){var n,a,o;(0,r.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=a=(0,s.default)(this,e.call.apply(e,[this].concat(l))),a.uploadId="project-composer-"+(0,k.default)(),a.loadMore=function(){if(a.props.isLoggedIn){var e=a.props.messageIds;a.props.getComments({offset:e.length,limit:e.length>0?ne:ae})}},a.onSubmit=function(e){var t=e.externalType,n=e.editorData,o=a.props,r=o.publicationUid,i=o.assetKey,s=o.highlight,l={publicationUid:r,assetKey:i,externalType:t,body:n.text,struct:n.struct,highlightText:s?s.text:null,highlightPath:s?s.path:null};a.props.addComment(l),a.composer.getWrappedInstance().clear()},a.scrollAndFocusInput=function(){(0,T.default)((0,p.findDOMNode)(a.composer)),a.composer.getWrappedInstance().focus()},o=n,(0,s.default)(a,o)}return(0,u.default)(t,e),t.prototype.componentWillUnmount=function(){this.legacyHighlightSectionAdapter&&this.legacyHighlightSectionAdapter.detach(),this.legacyHighlightDeleteAdapter&&this.legacyHighlightDeleteAdapter.detach()},t.prototype.componentDidMount=function(){var e=this;if(0===this.props.messageIds.length&&this.loadMore(),this.props.scrollAndFocusInput&&this.scrollAndFocusInput(),!this.props.assetKey){var t=new M.default(window.location.href,!0);t.query.assetKey&&this.props.setComposeMessage(t.query.assetKey)}(0,Z.default)(["rg-base"],function(t){e.legacyHighlightSectionAdapter=t.on("legacyHighlightSectionAdapter:requestHighlightComment",function(n){return"comment"===n.type?(e.props.setHighlight({rootId:n.rootId,parentId:n.parentId,highlight:{path:n.path,text:n.text}}),void e.scrollAndFocusInput()):void(0,te.default)("/converse/api/highlight",{method:"POST",body:{publicationId:n.rootId,assetId:n.parentId,highlightPath:n.path,highlightText:n.text}}).then(function(n){e.props.pushAlert(d.default.createElement(A.default,{title:"",description:"Highlight added.\n Your feedback will be visible to all researchers."})),t.fire("PdfJsReaderView:setLinkIdToTempHighlight",{linkId:n.result.linkId})}).catch(function(e){return(0,D.default)("Highlight could not be created: "+e.message)})},e),e.legacyHighlightDeleteAdapter=t.on("legacyHighlightDeleteAdapter:deleteHighlight",function(t){(0,te.default)("/converse/api/highlight/delete",{method:"POST",body:{publicationId:t.rootId,assetId:t.parentId,linkId:t.linkId}}).then(function(){e.props.pushAlert(d.default.createElement(A.default,{title:"",description:"Highlight deleted."}))}).catch(function(e){return(0,D.default)("Highlight could not be deleted: "+e.message)})})})},t.prototype.getHeader=function(){var e=this.props.currentAccountId;return d.default.createElement(Q.default,{accountId:e,description:d.default.createElement($.default,{accountId:e,unknownInstitutionPlaceholder:""})})},t.prototype.getComposer=function(){var e=this;return d.default.createElement("div",{className:"message-item-body-edit"},d.default.createElement(Y.default,{publicationUid:this.props.publicationUid,onSelectFigure:this.scrollAndFocusInput}),d.default.createElement(V.default,null),d.default.createElement(q.default,{id:this.uploadId,ref:function(t){e.composer=t},useUploader:!1,richText:!0,onSubmit:this.onSubmit,showRichTextOptions:!0,placeholder:"Add a comment",submitButtonLabel:"Add comment",blockModifier:"create",context:this.props.context}))},t.prototype.getMessageComposer=function(){return d.default.createElement("div",{className:"publication-create-comment-editor"},d.default.createElement(f.Text,{size:"xl",className:"intro-header"},"Discuss this work with the authors and experts by commenting here"),this.getHeader(),this.getComposer())},t.prototype.getListItems=function(){var e=this,t=this.props,n=t.messageIds,a=t.totalCount,o=t.isLoading,r=n.length,i=a-r<ne?a-r:ne,s=null;return r<a&&(s=d.default.createElement("div",{className:"show-more-replies"},d.default.createElement(B.Button,{color:"grey",theme:"bare",status:o?"busy":"",onClick:this.loadMore},"Show ",i>1?i+" ":"","previous ",(0,_.default)("comment",i)))),d.default.createElement("div",null,s,n.map(function(t){return d.default.createElement(H.default,{key:t,publicationUid:e.props.publicationUid,messageId:t,context:e.props.context,showEditAction:!0,showLikesDialog:e.props.showLikesDialog,showVersionHistoryAction:!1,richText:!0})}))},t.prototype.render=function(){return d.default.createElement("div",{className:"publication-comments-list",id:this.props.nodeId},this.getListItems(),this.getMessageComposer())},t}(c.Component),re=(0,b.createSelector)([O.getCurrentAccountId,O.isAccountLoggedIn,U.selectComposerMessageParentId,L.selectMessagesByPublicationUid,U.selectComposerMessageHighlight],function(e,t,n,a,o){return{currentAccountId:e,isLoggedIn:t,assetKey:n,messageIds:a.get("messageIds",new h.List).reverse(),totalCount:a.get("totalCount",0),isLoading:a.get("isLoading",!1),highlight:o}}),ie=function(e,t){return{addComment:function(n){var a=n.assetKey?F.addPublicationAssetComment:F.addPublicationComment;e(a(n,t.context))},getComments:function(n){e((0,F.getPublicationComments)(t.publicationUid,n))},setComposeMessage:function(n){e((0,R.setComposeMessage)(t.publicationUid,n))},setHighlight:function(t){var n=t.rootId,a=t.parentId,o=t.highlight;e((0,R.setComposeMessage)(n,a,o))},pushAlert:function(t){e((0,P.pushAlert)(function(){return t}))}}};t.default=(0,g.default)((0,E.connectWidget)(re,ie),(0,v.default)(["messageIds"]))(oe)},1584:function(e,t,n){function a(e){return o(e,r|i)}var o=n(664),r=1,i=4;e.exports=a},1798:function(e,t,n){"use strict";function a(e){return function(t){(0,s.postFollowPublication)(e).then(function(){t({type:l})})}}function o(e){return function(t){(0,s.deleteFollowPublication)(e).then(function(){t({type:u})})}}function r(e){return function(t){(0,s.postRequestFulltext)(e).then(function(){t({type:c})})}}function i(e){return function(t){(0,s.postRequestFulltext)(e).then(function(){t({type:d})})}}t.__esModule=!0,t.UNDO_REQUEST_PUBLICATION=t.REQUEST_PUBLICATION=t.UNFOLLOW_PUBLICATION=t.FOLLOW_PUBLICATION=void 0,t.followPublication=a,t.unfollowPublication=o,t.requestFulltext=r,t.undoRequestFulltext=i;var s=n(1801),l=t.FOLLOW_PUBLICATION="FOLLOW_PUBLICATION",u=t.UNFOLLOW_PUBLICATION="UNFOLLOW_PUBLICATION",c=t.REQUEST_PUBLICATION="REQUEST_PUBLICATION",d=t.UNDO_REQUEST_PUBLICATION="UNDO_REQUEST_PUBLICATION"},1799:function(e,t,n){"use strict";function a(e){return function(t){(0,r.startFollowQuestion)(e).then(function(){t({type:i})})}}function o(e){return function(t){(0,r.stopFollowQuestion)(e).then(function(){t({type:s})})}}t.__esModule=!0,t.UNFOLLOW_QUESTION=t.FOLLOW_QUESTION=void 0,t.followQuestion=a,t.unfollowQuestion=o;var r=n(1802),i=t.FOLLOW_QUESTION="FOLLOW_QUESTION",s=t.UNFOLLOW_QUESTION="UNFOLLOW_QUESTION"},1801:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,l.default)(e,{method:"POST",query:{}}).then(function(e){if(!e.result)throw new Error(e.message);return e.result})}function r(e){return(0,l.default)(e,{method:"POST",query:{}}).then(function(e){if(!e.result)throw new Error(e.message);return e.result})}function i(e){return(0,l.default)(e,{method:"DELETE",query:{}}).then(function(e){if(!e.result)throw new Error(e.message);return e.result})}t.__esModule=!0,t.postFollowPublication=o,t.postRequestFulltext=r,t.deleteFollowPublication=i;var s=n(13),l=a(s)},1802:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,s.default)(e,{method:"POST",query:{}}).then(function(e){if(!e.result)throw new Error(e.message);return e.result})}function r(e){return(0,s.default)(e,{method:"POST",query:{}}).then(function(e){if(!e.result)throw new Error(e.message);return e.result})}t.__esModule=!0,t.startFollowQuestion=o,t.stopFollowQuestion=r;var i=n(13),s=a(i)},1831:function(e,t,n){"use strict";t.__esModule=!0,t.canReportMessage=t.canDeleteMessage=t.canEditMessage=void 0;var a=n(35),o=function(e){return e.get("externalType")===a.ExternalTypes.EXTERNAL_TYPE_POST};t.canEditMessage=function(e,t,n){return!(n>0)&&(o(t)&&e.accountId===t.get("accountId"))},t.canDeleteMessage=function(e,t,n){return!(n>0)&&e.accountId===t.get("accountId")},t.canReportMessage=function(e,t){return e.accountId!==t.get("accountId")}},1999:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(13),f=a(p),h=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.handleClick=a.handleClick.bind(a),a}return(0,u.default)(t,e),t.prototype.handleClick=function(){(0,f.default)(this.props.saveUrl,{method:"POST",query:{}}).then(this.props.onResponse)},t.prototype.render=function(){return d.default.createElement("a",{className:"btn btn-plain",onClick:this.handleClick},"Allow")},t}(d.default.Component);t.default=h},2036:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(324),f=a(p),h=n(1366),m=a(h),g=n(15),y=a(g),v=n(12),b=a(v),E=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.handleBlur=a.handleBlur.bind(a),a.handleFocus=a.handleFocus.bind(a),a.state={showNote:!1,showFulltextRequest:!1},a}return(0,u.default)(t,e),t.prototype.handleBlur=function(){this.setState({showNote:!1})},t.prototype.handleFocus=function(){(0,y.default)(this.props.focusMilestoneParams),this.setState({showNote:!0})},t.prototype.render=function(){var e=this.props.showIntroHeader?d.default.createElement("div",{className:"intro-header"},"Discuss this work with the authors and experts by commenting here"):null,t=(0,b.default)({"comment-container":!0,"comment-container-style-wide":"wide"===this.props.style,"comment-container-style-narrow":"narrow"===this.props.style});return d.default.createElement("div",{className:t,id:this.props.nodeId},e,d.default.createElement(f.default,{author:this.props.currentAccount,disableAuthorBadge:!0}),d.default.createElement(m.default,{focusAfterMount:this.props.focusAfterMount,onSave:this.props.postComment,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.props.onChange,forceDisableSubmit:this.props.forceDisableSubmit,ref:"composer",children:this.props.children}),this.getVisibilityNote())},t.prototype.getVisibilityNote=function(){var e=null;if(!this.state.showNote){if(!this.props.keepVisibilityNoteInDOM)return null;e={visibility:"hidden"}}return d.default.createElement("span",{className:"comment-visiblity-note",style:e},"Note: Your comment will be publicly visible")},t.prototype.focus=function(){this.refs.composer.focus()},t}(c.Component);t.default=E,E.defaultProps={style:"wide"}},2037:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(324),f=a(p),h=n(1367),m=a(h),g=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.handleSave=a.handleSave.bind(a),a.handleCancel=a.handleCancel.bind(a),a}return(0,u.default)(t,e),t.prototype.handleSave=function(e){var t=this.props.commentId;this.props.postReply(t,e),this.props.onSave&&this.props.onSave(e)},t.prototype.handleCancel=function(){this.props.onCancel&&this.props.onCancel()},t.prototype.render=function(){return d.default.createElement("div",{className:"comment-reply-container"},d.default.createElement(f.default,{author:this.props.currentAccount,disableAuthorBadge:!0}),d.default.createElement(m.default,{focusAfterMount:this.props.focusAfterMount,onSave:this.handleSave,onCancel:this.handleCancel}))},t}(c.Component);t.default=g},2038:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(1366),f=a(p),h=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.handleCancel=a.handleCancel.bind(a),a.handleEdit=a.handleEdit.bind(a),a}return(0,u.default)(t,e),t.prototype.handleCancel=function(){this.props.onCancel&&this.props.onCancel()},t.prototype.handleEdit=function(e){var t=this.props.feedback.commentId;this.props.patchFeedback(t,e),this.props.onSave&&this.props.onSave()},t.prototype.render=function(){var e=this.props.feedback;return d.default.createElement(f.default,{onSave:this.handleEdit,onCancel:this.handleCancel,saveText:"Save",text:e.comment,focusAfterMount:!0})},t}(c.Component);t.default=h},2039:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(324),f=a(p),h=n(2041),m=a(h),g=n(2361),y=n(12),v=a(y),b=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.state={highlighted:!1},a}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){var e=this.props.feedback.commentId;(0,g.scrollToFeedback)("feedback/"+e,this,{duration:600,ease:"inOutQuart",align:"middle"},this.setState.bind(this,{highlighted:!0}))},t.prototype.render=function(){var e=this.props,t=e.feedback,n=e.showContext,a=e.context,o=(0,v.default)({comment:!0,"comment-highlight":this.state.highlighted});return d.default.createElement("div",{className:o},d.default.createElement(f.default,{author:t.author}),n?a:null,d.default.createElement(m.default,this.props))},t}(c.Component);t.default=b,b.defaultProps={maxCollapsedLength:200,showContext:!1}},2040:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(16),f=a(p),h=n(40),m=a(h),g=n(5),y=n(19),v=a(y),b=n(131),E=a(b),C=n(81),k=n(2042),w=a(k),_=n(2043),x=a(_),T=n(46),S=a(T),M=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.handleRemove=a.handleRemove.bind(a),a.handleReply=a.handleReply.bind(a),a.handleReport=a.handleReport.bind(a),a}return(0,u.default)(t,e),t.prototype.canDelete=function(){return this.props.isAdmin||this.props.author&&this.props.author.isCurrentUser},t.prototype.canEdit=function(){return this.props.feedback.author&&this.props.feedback.author.isCurrentUser},t.prototype.canReport=function(){return this.props.reportFeedback&&!this.props.feedback.isReported&&!(this.props.feedback.author&&this.props.feedback.author.isCurrentUser)},t.prototype.canLike=function(){return!!(this.props.likesEnabled&&this.props.likeFeedback&&this.props.unlikeFeedback)&&!(this.props.author&&this.props.author.isCurrentUser)},t.prototype.handleRemove=function(){var e=this,t=this.props.feedback.commentId;(0,v.default)(["rg-confirm"],function(n){n.rg.confirm({header:"Are you sure you want to delete this comment?",zIndex:1200,buttons:[{id:"cancel",label:"No"},{id:"confirm",label:"Yes",attention:!0}],context:e,callback:function(e){"confirm"===e&&this.props.deleteFeedback(t)}})})},t.prototype.handleReply=function(){this.props.onReply&&this.props.onReply()},t.prototype.handleReport=function(){this.props.reportFeedback&&this.props.reportFeedback(this.props.feedback.commentId)},t.prototype.handleLike=function(){this.props.onLike&&this.props.onLike()},t.prototype.hasLikes=function(){return!!this.props.likesEnabled&&(!!this.props.likes&&!(this.props.likes.total<=0))},t.prototype.render=function(){var e=this.props.feedback,t=[d.default.createElement(E.default,{dateTime:e.createdAt,key:"date"})],n=[];this.hasLikes()&&t.push(d.default.createElement(x.default,{key:"likes",feedback:this.props.feedback})),this.canLike()&&n.push(d.default.createElement(w.default,{key:"like",feedback:this.props.feedback,likeFeedback:this.props.likeFeedback,unlikeFeedback:this.props.unlikeFeedback})),this.canEdit()&&n.push(d.default.createElement("a",{className:"gray-link",onClick:this.props.onEdit,key:"edit"},"Edit")),this.canDelete()&&n.push(d.default.createElement("a",{className:"gray-link",onClick:this.handleRemove,key:"remove"},"Remove")),n.push(d.default.createElement("a",{className:"gray-link",onClick:this.handleReply,key:"reply"},"Reply")),this.canReport()&&n.push(d.default.createElement("a",{className:"gray-link",onClick:this.handleReport,key:"report"},"Report"));var a=[];return(0,S.default)(t,function(e,t){0!==t&&a.push(" "+C.MIDDOT+" "),a.push(e)}),this.props.likesEnabled?a.push(d.default.createElement("span",{key:"separator",className:"comment-action-separator"})):a.push(" "+C.MIDDOT+" "),(0,S.default)(n,function(e,t){0!==t&&a.push(" "+C.MIDDOT+" "),a.push(e)}),d.default.createElement("div",{className:"comment-actions"},a)},t}(c.Component),N=function(e,t){var n=t.feedback.commentId,a=e.publicationFeedback.getIn(["feedbackLikes","likes"]);return a?{likes:!!a.has(n.toString())&&a.get(n.toString())}:{}};t.default=(0,f.default)((0,g.connectWidget)(N),(0,m.default)(["likes"]))(M)},2041:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(12),f=a(p),h=n(2038),m=a(h),g=n(508),y=a(g),v=n(2040),b=a(v),E=n(2048),C=a(E),k=n(2037),w=a(k),_=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.enableEditMode=a.enableEditMode.bind(a),a.disableEditMode=a.disableEditMode.bind(a),a.openReplyComposer=a.openReplyComposer.bind(a),a.closeReplyComposer=a.closeReplyComposer.bind(a),a.state={editActive:!1,replyComposerOpened:!1},a}return(0,u.default)(t,e),t.prototype.enableEditMode=function(){this.setState({editActive:!0})},t.prototype.disableEditMode=function(){this.setState({editActive:!1})},t.prototype.openReplyComposer=function(){this.setState({replyComposerOpened:!0})},t.prototype.closeReplyComposer=function(){this.setState({replyComposerOpened:!1})},t.prototype.getText=function(){var e=this.props.feedback,t=this.props.feedback.author;return this.state.editActive?d.default.createElement(m.default,{onSave:this.disableEditMode,onCancel:this.disableEditMode,patchFeedback:this.props.patchFeedback,feedback:e}):d.default.createElement("div",null,d.default.createElement(y.default,{text:e.comment,maxCollapsedLength:this.props.maxCollapsedLength}),d.default.createElement(b.default,{feedback:e,author:t,isAdmin:this.props.isAdmin,isReported:this.props.isReported,onEdit:this.enableEditMode,onReply:this.openReplyComposer,reportFeedback:this.props.reportFeedback,likesEnabled:this.props.likesEnabled,likeFeedback:this.props.likeFeedback,unlikeFeedback:this.props.unlikeFeedback,deleteFeedback:this.props.deleteFeedback}))},t.prototype.getReplies=function(){var e=this.props.feedback,t={"comment-reply-composer-open":this.state.replyComposerOpened},n=this.state.replyComposerOpened?d.default.createElement(w.default,{commentId:e.commentId,currentAccount:this.props.currentAccount,onCancel:this.closeReplyComposer,onSave:this.closeReplyComposer,focusAfterMount:!0,postReply:this.props.postReply}):null;return d.default.createElement("div",{className:(0,f.default)(t)},d.default.createElement(C.default,{replies:e.replies,maxCollapsedReplyLength:this.props.maxCollapsedReplyLength,isAdmin:this.props.isAdmin,likesEnabled:this.props.likesEnabled,patchReply:this.props.patchReply,deleteReply:this.props.deleteReply,likeReply:this.props.likeReply,unlikeReply:this.props.unlikeReply,reportReply:this.props.reportReply}),n)},t.prototype.render=function(){return d.default.createElement("div",null,this.getText(),this.getReplies())},t}(c.Component);t.default=_,_.defaultProps={maxCollapsedLength:200}},2042:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(12),h=a(f),m=function(e){function t(){(0,r.default)(this,t);var n=(0,s.default)(this,e.call(this));return n.handle=n.handle.bind(n),n}return(0,u.default)(t,e),t.prototype.handleLike=function(){this.props.likeFeedback(this.props.feedback.commentId)},t.prototype.handleUnlike=function(){this.props.unlikeFeedback(this.props.feedback.commentId)},t.prototype.handle=function(){this.props.processing||(this.props.hasLiked?this.handleUnlike():this.handleLike())},t.prototype.getText=function(){return this.props.hasLiked?"Liked":"Like"},t.prototype.getLink=function(){var e={"gray-link":!0,"btn-disabled":this.props.processing};return d.default.createElement("a",{className:(0,h.default)(e),onClick:this.handle},this.getText())},t.prototype.render=function(){return this.getLink()},t}(c.Component),g=function(e,t){var n=t.feedback.commentId,a=e.publicationFeedback.getIn(["feedbackLikes","userLikes"]),o=e.publicationFeedback.getIn(["feedbackLikes","processingUserLikes"]);return a&&o?{hasLiked:!!a.has(n.toString())&&a.get(n.toString()),processing:!!o.has(n.toString())&&o.get(n.toString())}:{hasLiked:!1,processing:!1}};t.default=(0,p.connectWidget)(g)(m)},2043:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(16),f=a(p),h=n(80),m=a(h),g=n(40),y=a(g),v=n(5),b=n(151),E=a(b),C=n(17),k=a(C),w=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.hasLikes=function(){return this.props.likes&&this.props.likes.total>0},t.prototype.getTooltip=function(){var e=this.props.likes.likers.slice(0,10),t=this.props.likes.total-e.length,n=null;return t>0&&(n=d.default.createElement("div",null,"and ",t," ",(0,k.default)("other",t))),d.default.createElement("ul",null,e.map(function(e){return d.default.createElement("li",{key:e.id},e.fullName)}),n)},t.prototype.getText=function(){return d.default.createElement("span",null,this.props.likes.total," ",(0,k.default)("Like",this.props.likes.total))},t.prototype.render=function(){return this.hasLikes()?d.default.createElement(E.default,{trigger:["hover"],overlay:this.getTooltip(),placement:"top",overlayClassName:"tt-dark"},this.getText()):null},t}(c.Component),_=function(e,t){var n=t.feedback.commentId,a=e.publicationFeedback.getIn(["feedbackLikes","likes"]);return a?{likes:!!a.has((0,m.default)(n))&&a.get((0,m.default)(n))}:{}};t.default=(0,f.default)((0,v.connectWidget)(_),(0,y.default)(["likes"]))(w)},2044:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(52),f=a(p),h=n(344),m=a(h),g=n(12),y=a(g),v=n(2039),b=a(v),E=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.feedbacks,a=t.provideContext,o=t.style;if(!n)return null;var r=a||m.default,i=n.map(function(t){return d.default.createElement(b.default,{feedback:t,key:t.$key,isAdmin:e.props.isAdmin,maxCollapsedLength:e.props.maxCollapsedFeedbackLength,maxCollapsedReplyLength:e.props.maxCollapsedReplyLength,likesEnabled:e.props.likesEnabled,currentAccount:e.props.currentAccount,context:r(t),patchFeedback:e.props.patchFeedback,postReply:e.props.postReply,deleteFeedback:e.props.deleteFeedback,patchReply:e.props.patchReply,deleteReply:e.props.deleteReply,likeFeedback:e.props.likeFeedback,unlikeFeedback:e.props.unlikeFeedback,likeReply:e.props.likeReply,unlikeReply:e.props.unlikeReply,reportFeedback:e.props.reportFeedback,reportReply:e.props.reportReply})}),s=(0,y.default)("feedback-list",{"feedback-list-style-wide":"wide"===o,"feedback-list-style-narrow":"narrow"===o});return d.default.createElement("div",{className:s},d.default.createElement(f.default,{transitionName:"list-item",transitionEnterTimeout:600,transitionLeaveTimeout:500},i))},t}(c.Component);t.default=E,E.defaultProps={excludeTypes:[],style:"wide"}},2045:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(46),f=a(p),h=n(16),m=a(h),g=n(40),y=a(g),v=n(5),b=n(324),E=a(b),C=n(1367),k=a(C),w=n(508),_=a(w),x=n(19),T=a(x),S=n(131),M=a(S),N=n(81),D=n(2046),P=a(D),I=n(2047),A=a(I),R=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.handleRemove=a.handleRemove.bind(a),a.handleEdit=a.handleEdit.bind(a),a.openComposer=a.openComposer.bind(a),a.closeComposer=a.closeComposer.bind(a),a.handleReport=a.handleReport.bind(a),a.state={composerOpened:!1},a}return(0,u.default)(t,e),t.prototype.openComposer=function(){this.setState({composerOpened:!0})},t.prototype.closeComposer=function(){this.setState({composerOpened:!1})},t.prototype.handleRemove=function(){var e=this,t=this.props.reply,n=t.commentId,a=t.replyId;(0,T.default)(["rg-confirm"],function(t){t.rg.confirm({header:"Are you sure you want to delete this reply?",buttons:[{id:"cancel",label:"No"},{id:"confirm",label:"Yes",attention:!0}],context:e,callback:function(t){"confirm"===t&&e.props.deleteReply(n,a)}})})},t.prototype.handleEdit=function(e){var t=this.props.reply,n=t.commentId,a=t.replyId;this.props.patchReply(n,a,e),this.closeComposer()},t.prototype.handleReport=function(){this.props.reportReply(this.props.reply.replyId)},t.prototype.hasLikes=function(){return!!this.props.likesEnabled&&(!!this.props.likes&&!(this.props.likes.total<=0))},t.prototype.renderTextContent=function(){var e=this.props.reply,t=e.author,n=t&&t.isCurrentUser,a=[d.default.createElement(M.default,{dateTime:e.createdAt,key:"date"})],o=[];this.hasLikes()&&a.push(d.default.createElement(A.default,{key:"likes",reply:this.props.reply})),this.canLike()&&(n||o.push(d.default.createElement(P.default,{key:"like",reply:this.props.reply,likeReply:this.props.likeReply,unlikeReply:this.props.unlikeReply}))),n&&o.push(d.default.createElement("a",{className:"gray-link",onClick:this.openComposer,key:"edit"},"Edit")),this.props.canDelete&&o.push(d.default.createElement("a",{className:"gray-link",onClick:this.handleRemove,key:"remove"},"Remove")),!this.props.reportReply||n||e.isReported||o.push(d.default.createElement("a",{className:"gray-link",onClick:this.handleReport,key:"report"},"Report"));var r=[];return(0,f.default)(a,function(e,t){0!==t&&r.push(" "+N.MIDDOT+" "),r.push(e)}),this.props.likesEnabled?r.push(d.default.createElement("span",{key:"separator",className:"comment-action-separator"})):r.push(" "+N.MIDDOT+" "),(0,f.default)(o,function(e,t){0!==t&&r.push(" "+N.MIDDOT+" "),r.push(e)}),d.default.createElement("div",null,d.default.createElement(_.default,{text:e.reply,maxCollapsedLength:this.props.maxCollapsedLength}),d.default.createElement("div",{className:"comment-actions"},r))},t.prototype.canLike=function(){return this.props.likesEnabled&&this.props.likeReply&&this.props.unlikeReply},t.prototype.render=function(){var e=this.props.reply,t=e.author,n=null;return n=this.state.composerOpened?d.default.createElement(k.default,{onSave:this.handleEdit,onCancel:this.closeComposer,
saveText:"Save",text:e.reply,focusAfterMount:!0}):this.renderTextContent(),d.default.createElement("div",{className:"comment-reply"},d.default.createElement(E.default,{author:t}),n)},t}(c.Component);R.defaultProps={maxCollapsedLength:200};var F=function(e,t){var n=t.reply.replyId,a=e.publicationFeedback.getIn(["replyLikes","likes"]);return a?{likes:!!a.has(n.toString())&&a.get(n.toString())}:{}};t.default=(0,m.default)((0,v.connectWidget)(F),(0,y.default)(["likes"]))(R)},2046:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(12),h=a(f),m=function(e){function t(){(0,r.default)(this,t);var n=(0,s.default)(this,e.call(this));return n.handle=n.handle.bind(n),n}return(0,u.default)(t,e),t.prototype.handleLike=function(){var e=this.props.reply;this.props.likeReply(e.commentId,e.replyId)},t.prototype.handleUnlike=function(){var e=this.props.reply;this.props.unlikeReply(e.commentId,e.replyId)},t.prototype.handle=function(){this.props.processing||(this.props.hasLiked?this.handleUnlike():this.handleLike())},t.prototype.getText=function(){return this.props.hasLiked?"Liked":"Like"},t.prototype.getLink=function(){var e={"gray-link":!0,"btn-disabled":this.props.processing};return d.default.createElement("a",{className:(0,h.default)(e),onClick:this.handle},this.getText())},t.prototype.render=function(){return this.getLink()},t}(c.Component),g=function(e,t){var n=t.reply.replyId.toString(),a=e.publicationFeedback.getIn(["replyLikes","userLikes"]),o=e.publicationFeedback.getIn(["replyLikes","processingUserLikes"]);return a&&o?{hasLiked:!!a.has(n)&&a.get(n),processing:!!o.has(n)&&o.get(n)}:{hasLiked:!1,processing:!1}};t.default=(0,p.connectWidget)(g)(m)},2047:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(16),f=a(p),h=n(5),m=n(151),g=a(m),y=n(17),v=a(y),b=n(80),E=a(b),C=n(40),k=a(C),w=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.hasLikes=function(){return this.props.likes&&this.props.likes.total>0},t.prototype.getTooltip=function(){var e=this.props.likes.likers.slice(0,10),t=this.props.likes.total-e.length,n=null;return t>0&&(n=d.default.createElement("div",null,"and ",t," ",(0,v.default)("other",t))),d.default.createElement("ul",null,e.map(function(e){return d.default.createElement("li",{key:e.id},e.fullName)}),n)},t.prototype.getText=function(){return d.default.createElement("span",null,this.props.likes.total," ",(0,v.default)("Like",this.props.likes.total))},t.prototype.render=function(){return this.hasLikes()?d.default.createElement(g.default,{trigger:["hover"],overlay:this.getTooltip(),placement:"top",overlayClassName:"tt-dark"},this.getText()):null},t}(c.Component),_=function(e,t){var n=t.reply.replyId,a=e.publicationFeedback.getIn(["replyLikes","likes"]);return a?{likes:!!a.has((0,E.default)(n))&&a.get((0,E.default)(n))}:{}};t.default=(0,f.default)((0,h.connectWidget)(_),(0,k.default)(["likes"]))(w)},2048:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(52),f=a(p),h=n(22),m=a(h),g=n(2045),y=a(g),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){var e=this;if(!this.props.replies)return null;var t=(0,m.default)(this.props.replies,function(t){var n=!!(e.props.isAdmin||t.author&&t.author.isCurrentUser);return d.default.createElement(y.default,{reply:t,key:t.$key,canDelete:n,maxCollapsedLength:e.props.maxCollapsedReplyLength,likesEnabled:e.props.likesEnabled,patchReply:e.props.patchReply,deleteReply:e.props.deleteReply,likeReply:e.props.likeReply,unlikeReply:e.props.unlikeReply,reportReply:e.props.reportReply})});return d.default.createElement("div",{className:"comment-replies"},d.default.createElement(f.default,{transitionName:"list-item",transitionEnter:!1,transitionLeaveTimeout:500},t))},t}(c.Component);t.default=v},2070:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(21),m=n(44),g=a(m),y=n(6),v=n(14),b=n(131),E=a(b),C=n(753),k=a(C),w=n(751),_=a(w),x=n(7),T=n(17),S=a(T),M=n(1583),N=a(M),D=n(12),P=a(D),I=n(582),A=a(I),R=n(583),F=a(R),O=n(57),L=a(O),U=n(64),B=a(U),j=n(2071),q=a(j),W=n(56),H=n(750),z=a(H),Y=(n(92),n(592)),K=a(Y),V=n(970),G=a(V),Q=n(590),X=a(Q),$=n(22),J=a($),Z=n(2073),ee=a(Z),te=n(2072),ne=a(te),ae=function(e){function t(){var n,a,o;(0,s.default)(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=(0,u.default)(this,e.call.apply(e,[this].concat(i))),a.state={showSectionReplies:!1,showReplies:!1,replyDisplayLimit:20,focusReplyComposer:!1,commentActionWasClicked:!1,editMode:!1},a.handleEditClick=function(){a.state.draftId?a.setState({editMode:!0}):a.props.getMessageDraft(a.props.message.id,a.props.context).then(function(e){var t=e.draftId;a.setState({editMode:!0,draftId:t})})},a.handleEditCancel=function(){a.setState({editMode:!1})},a.handleEditSubmit=function(e){a.props.saveMessageEdit(e,a.state.draftId,a.props.message.replyTo)},a.onAddClick=function(){a.state.showSectionReplies?a.focusReplyComposer():a.loadReplies(!0),a.setState({commentActionWasClicked:!0})},a.onOpenClick=function(){a.state.showReplies||a.setState({replyDisplayLimit:10}),a.state.showSectionReplies||a.loadReplies(),a.setState({commentActionWasClicked:!0})},a.onDeleteClick=function(){a.deleteButton.toggle()},a.showMoreReplies=function(){a.setState({showAllReplies:!0})},o=n,(0,u.default)(a,o)}return(0,d.default)(t,e),t.prototype.shouldComponentUpdate=function(e,t){return(0,B.default)(this,e,t)},t.prototype.componentWillMount=function(){var e=null;this.shouldShowReplySection(this.props)&&(e={showSectionReplies:!0}),this.props.showAllReplies&&(e=Object.assign({},e,{showAllReplies:!0})),e&&this.setState(e)},t.prototype.componentWillReceiveProps=function(e){return e.forceShowCommentBox&&e.forceShowCommentBox!==this.props.forceShowCommentBox?void this.onReplyActionClick():void(this.state.commentActionWasClicked||this.shouldShowReplySection(e)||this.setState({showSectionReplies:!1}))},t.prototype.componentDidUpdate=function(){this.state.focusReplyComposer&&(this.props.replyCount<=0||this.props.replyIds.length>0)&&(this.focusReplyComposer(),this.setState({focusReplyComposer:!1}))},t.prototype.shouldShowReplySection=function(e){var t=e.replyIds,n=e.showCommentBox,a=e.isLoggedIn;return t.length>0||n&&a},t.prototype.focusReplyComposer=function(){this.replyComposer&&((0,L.default)((0,h.findDOMNode)(this.replyComposer),{offset:-300}),this.replyComposer.getWrappedInstance().focus())},t.prototype.loadReplies=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.props.loadReplies&&this.props.replyCount>0)this.props.loadReplies();else if(!this.props.isLoggedIn)return void this.setState({showSectionReplies:!1});this.setState({showSectionReplies:!0,focusReplyComposer:e})},t.prototype.getReplies=function(){var e=this,t=this.props,n=t.message,a=t.replyIds,o=Boolean(n.nextVersion),r=!o,i=a.length,s=void 0,l=[];if(!this.state.showAllReplies&&i>this.state.replyDisplayLimit){var u=i-this.state.replyDisplayLimit;l=a.slice(u,i),s=f.default.createElement("div",{className:"message-item-replies-show-more"},f.default.createElement(x.Button,{theme:"bare",color:"grey",onClick:this.showMoreReplies},"Show ",u," previous ",(0,S.default)(this.props.messageCTA,u)))}else l=a;return f.default.createElement("div",null,s,l.map(function(t){return f.default.createElement(k.default,{key:t,messageId:t,showLikes:e.props.canShowLikes,showLikesDialog:e.props.showLikesDialog,showActions:r,context:e.props.context,richText:e.props.richText,isTextFilePreviewEnabled:e.props.isTextFilePreviewEnabled,referenceResearchDialogUrl:e.props.referenceResearchDialogUrl,useUploader:!1})}))},t.prototype.getReplyComposer=function(){var e=this;if(!this.props.isLoggedIn)return null;if(!this.props.canReply)return f.default.createElement("div",{className:"meta"},f.default.createElement(y.Text,null,"This is not the latest version of this update. Go to the latest version at the top of this page if you want to add a comment."));(0,g.default)(this.props.replyComposer,"When the prop type canReply is truthy, the replyComposer prop type must be a valid React element");var t=this.props.replyComposer;return f.default.createElement(t.type,(0,r.default)({},t.props,{ref:function(t){e.replyComposer=t}}))},t.prototype.getSectionReplies=function(){return this.state.showSectionReplies||this.props.forceShowCommentBox?f.default.createElement("div",{className:"message-item-replies"},f.default.createElement("div",{className:"message-item-replies__body"},this.getReplies(),this.getReplyComposer())):null},t.prototype.getHighlights=function(){return 0===this.props.links.length?null:(0,J.default)(this.props.links,function(e){return f.default.createElement(ee.default,{key:e.id,link:e})})},t.prototype.getEditor=function(){var e=this.props,t=e.message,n=e.context,a=e.referenceResearchDialogUrl;return f.default.createElement("div",{className:"message-item-body-edit"},this.props.beforeChildren,f.default.createElement(G.default,{className:"message-create-composer",messageId:t.id,ref:"composer",onSubmit:this.handleEditSubmit,context:n,placeholder:"Edit an update (type @ to mention people)",blockModifier:"create",referenceResearchDialogUrl:a,useUploader:!1,actions:[f.default.createElement(y.Text,{key:"cancel",size:"m",className:"cancel-editing"},f.default.createElement(y.Link,{theme:"bare",onClick:this.handleEditCancel},"Cancel"))]}))},t.prototype.getBody=function(){var e=this.props,t=e.message,n=e.richText,a=this.getHighlights(),o=[];return a&&(o=o.concat(a)),this.props.beforeChildren&&o.push(this.props.beforeChildren),!this.props.hasParentAsset||o&&o.length?f.default.createElement(q.default,{lineTruncationLength:2500,message:t,richText:n,className:"message-item-body",beforeChildren:o},this.props.children,this.getBodyActions()):f.default.createElement("div",{className:"message-item-body"},"Deleted figure")},t.prototype.getBodyActions=function(){var e=this.props,t=e.isLoggedIn,n=e.canReply,a=e.canShowLikes,o=e.message,r=e.messageId,i=e.currentAccountId,s=e.context,l=e.replyCount,u=e.showLikesDialog,c=new W.RGKey(r,W.RGType.TYPE_MESSAGE).getFullKey(),d=[],p=[];return t&&(n&&d.push(f.default.createElement(x.Button,{key:"left_comment",onClick:this.onAddClick,theme:"bare",className:"action-item"},(0,N.default)(this.props.messageCTA))),a&&o.accountId!==i&&d.push(f.default.createElement(A.default,{key:"like_"+c,id:c,context:s,theme:"bare",className:"action-item"})),l>0&&p.push({key:"right_comments",component:f.default.createElement(x.Button,{onClick:this.onOpenClick,theme:"bare",color:"grey",className:"action-item"},f.default.createElement("strong",null,l)," ",(0,S.default)(this.props.messageCTA,l))}),a&&this.props.hasLikes&&p.push({key:"likes"+c,component:f.default.createElement(F.default,{id:c,theme:"bare",color:"grey",className:"action-item",showLikesDialog:u})})),0===d.length&&0===p.length?null:f.default.createElement("div",{className:"message-item-body__actions"},f.default.createElement("div",{className:"message-item-body__actions-left"},d),f.default.createElement(y.List,{type:"inline",spacing:"none",className:"message-item-body__actions-right"},p.map(function(e){return f.default.createElement(y.List.Item,{key:e.key},e.component)})))},t.prototype.getHeaderActions=function(){var e=this.props,t=e.message,n=e.canEditMessage,a=e.canSeeVersionHistory,o=e.canDeleteMessage,r=e.showVersionHistoryAction,i=e.showEditAction,s=e.canReport,l=t.postedAt,u=t.modifiedAt,c=t.previousVersion,d=null;if(!this.state.editMode){var p=[];o&&p.push(f.default.createElement(x.Button,{key:"delete",onClick:this.onDeleteClick},"Delete")),s&&p.push(f.default.createElement(X.default,{key:"report",entityId:new W.RGKey(t.id,W.RGType.TYPE_MESSAGE).getFullKey()})),d=f.default.createElement(z.default,{canEdit:n&&i,onEdit:this.handleEditClick,canSeeVersionHistory:a&&r},p)}return f.default.createElement("div",{className:"message-item-header__actions"},f.default.createElement(v.MediaObject,{gutter:"xxs",width:"full"},f.default.createElement(v.MediaObject.Item,{width:"full"},c?f.default.createElement("span",null,"Modified ",f.default.createElement(E.default,{dateTime:u})):f.default.createElement(E.default,{dateTime:l})),f.default.createElement(v.MediaObject.Item,null,d)))},t.prototype.getHeader=function(){var e=this.props,t=e.message,n=e.links,a=t.accountId;return f.default.createElement(_.default,{accountId:a,description:f.default.createElement(ne.default,{message:t,links:n})},this.getHeaderActions())},t.prototype.getDeleteButton=function(){var e=this;return this.props.canDeleteMessage?f.default.createElement(K.default,{ref:function(t){e.deleteButton=t},title:"Are you sure you want to delete this "+this.props.messageTypeDescription+"?",message:this.props.message,context:this.props.context,showButton:!1,onConfirm:this.props.removeMessage}):null},t.prototype.render=function(){var e=this,t=(0,P.default)(this.props.className,{"message-item":!0,"message-item--highlighted":this.props.isFocusedPost});return f.default.createElement("div",{className:t,ref:function(t){e.node=t}},this.getHeader(),this.state.editMode?this.getEditor():this.getBody(),this.getSectionReplies(),this.getDeleteButton())},t}(p.Component);t.default=ae,ae.defaultProps={loadReplies:!1,showCommentBox:!1,showVersionHistoryAction:!0,isFocusedPost:!1,messageTypeDescription:"message"}},2071:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=a(o),i=n(591),s=a(i),l=(n(92),function(e){var t=e.message,n=e.lineTruncationLength,a=e.richText,o=e.className,i=e.beforeChildren,l=e.children;return r.default.createElement("div",{className:o},i,r.default.createElement(s.default,{className:"message-item-body__content",message:t,lineTruncationLength:n,richText:a}),l)});t.default=l},2072:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.MessageItemHeaderDescription=void 0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=(n(92),n(56)),f=n(35),h=n(6),m=t.MessageItemHeaderDescription=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.renderType=function(e){return this.props.isTypeBold?d.default.createElement("b",null,e):e},t.prototype.renderForProject=function(){var e=this.props.message.externalType;switch(e){case f.ExternalTypes.EXTERNAL_TYPE_DESCRIPTION:return d.default.createElement("span",null,"added a ",this.renderType("project goal"));case f.ExternalTypes.EXTERNAL_TYPE_POST_EXPERIMENT:return d.default.createElement("span",null,"shared an ",this.renderType("experiment"));case f.ExternalTypes.EXTERNAL_TYPE_BIBLIOGRAPHY:return d.default.createElement("span",null,"added ",this.renderType("project references"));case f.ExternalTypes.EXTERNAL_TYPE_POST_PROJECT_GOAL:return d.default.createElement("span",null,"added a ",this.renderType("project goal"));case f.ExternalTypes.EXTERNAL_TYPE_POST_LEARNINGS:return d.default.createElement("span",null,"added ",this.renderType("learnings"));case f.ExternalTypes.EXTERNAL_TYPE_POST_METHODS:return d.default.createElement("span",null,"added their ",this.renderType("methods"));case f.ExternalTypes.EXTERNAL_TYPE_POST_RECENT_WORK:return d.default.createElement("span",null,"recently worked on");case f.ExternalTypes.EXTERNAL_TYPE_POST_FEEDBACK_REQUEST:return d.default.createElement("span",null,this.renderType("requested feedback"));case f.ExternalTypes.EXTERNAL_TYPE_POST:default:return d.default.createElement("span",null,"shared an ",this.renderType("update"))}},t.prototype.hasBody=function(){var e=this.props.message.body;return!!e},t.prototype.isParentAsset=function(){var e=this.props.message.parentId,t=p.RGKey.parse(e);return t.type===p.RGType.TYPE_ASSET},t.prototype.hasHighlightLink=function(){return this.props.links.findIndex(function(e){return e.type===f.LinkTypes.HIGHLIGHT})!==-1},t.prototype.renderForPublication=function(){return this.props.message.externalType===f.ExternalTypes.EXTERNAL_TYPE_PUBLICATION_HIGHLIGHT_COMMENT?d.default.createElement(h.Text,{spacing:"none"},"marked a section as interesting"):this.isParentAsset()?this.hasHighlightLink()?this.hasBody()?d.default.createElement(h.Text,{spacing:"none"},"commented on a section"):d.default.createElement(h.Text,{spacing:"none"},"marked a section as interesting"):d.default.createElement(h.Text,{spacing:"none"},"commented on a figure"):d.default.createElement(h.Text,{spacing:"none"},"added a comment")},t.prototype.render=function(){var e=this.props.message,t=e.rootId,n=e.externalType,a=p.RGKey.parse(t);switch(a.type){case p.RGType.TYPE_PROJECT:return this.renderForProject(n);case p.RGType.TYPE_PUBLICATION:return this.renderForPublication(n)}return null},t}(c.Component);m.defaultProps={isTypeBold:!0},t.default=m},2073:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=a(o),i=n(16),s=a(i),l=n(186),u=a(l),c=n(187),d=a(c),p=n(351),f=a(p),h=n(1291),m=a(h),g=n(1371),y=a(g),v=(n(92),n(35)),b=function(e){var t=e.text;return r.default.createElement(y.default,{text:t})},E=function(e){var t=e.link;return{text:t.metadata.text}};t.default=(0,s.default)((0,m.default)(E),(0,u.default)(function(e){var t=e.link;return t.type===v.LinkTypes.HIGHLIGHT},(0,d.default)(b),f.default))(b)},2074:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(259),m=a(h),g=n(16),y=a(g),v=n(124),b=a(v),E=n(88),C=a(E),k=n(135),w=a(k),_=n(2070),x=a(_),T=n(57),S=a(T),M=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e=this;return f.default.createElement(x.default,(0,r.default)({id:this.props.messageId,ref:function(t){e.node=t}},this.props))},t}(p.Component),N=(0,y.default)((0,C.default)(function(e){var t=!1,n=!1,a=new m.default(window.location.href,!0);return t=!a.query.replyToId&&e.messageId===a.query.updateId,n=!!a.query.replyToId&&e.messageId===a.query.updateId,Object.assign({},e,{isFocusedPost:t,showAllReplies:n})}),(0,b.default)({componentDidMount:function(){this.props.isFocusedPost&&(0,S.default)(this.node,{offset:-100})}}),(0,w.default)({isFocusedPost:p.PropTypes.bool.isRequired,showAllReplies:p.PropTypes.bool.isRequired}));t.default=N(M)},2097:function(e,t){"use strict";t.__esModule=!0;var n=(t.escapeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.getLinesOfCode=function(e){return e.match(/[^\r\n]+/g)},t.isEmptyLine=function(e){return!/\S/.test(e)});t.removeOuterEmptyElements=function(e){for(;n(e[0]);)e.shift();for(;n(e[e.length-1]);)e.pop()},t.getIndentation=function(e){var t=/(\S)/g;return t.exec(e),t.lastIndex-1},t.trimInitialWhitespaces=function(e,t){var n=new RegExp("^\\s{"+t+"}");return e.replace(n,"")}},2138:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(11),m=a(h),g=n(7),y=n(14),v=new m.default({name:"fulltext-dialog-options-list"}),b=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e=this.props.disableButton?null:f.default.createElement(y.Pack.Item,v("option-detail"),f.default.createElement(g.Button,(0,r.default)({},v("button"),{theme:this.props.buttonTheme,size:"m",onClick:this.props.buttonAction}),f.default.createElement(g.Button.Label,null,this.props.buttonText),f.default.createElement(g.Button.Icon,{identifier:"arrow-right"})));return f.default.createElement("li",v("option"),f.default.createElement(y.Pack,(0,r.default)({verticalAlign:"middle"},v("option-details")),f.default.createElement(y.Pack.Item,v("option-detail"),f.default.createElement("div",v({element:"image",modifiers:this.props.imageClass}))),f.default.createElement(y.Pack.Item,v({element:"option-detail",modifiers:"text"}),f.default.createElement("div",null,this.props.description)),e))},t}(p.Component);t.default=b,b.defaultProps={buttonTheme:"solid"}},2202:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,c.default)(e.label,e.count,!1),n=(0,p.default)(e.count).format("0,0"),a=(0,l.default)({"product-header-stat-item":!0,"product-header-stat-item-inactive":!e.onClick});return i.default.createElement("button",{className:a,onClick:e.onClick},i.default.createElement("span",{className:"product-header-stat-item-count"},n),"Â ",i.default.createElement("span",{className:"product-header-stat-item-label"},t))}t.__esModule=!0;var r=n(1),i=a(r),s=n(12),l=a(s),u=n(17),c=a(u),d=n(72),p=a(d);t.default=o},2222:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getImage=function(){var e=null;return this.props.imageUrlL&&(e=this.props.imageUrlM+" 1x, "+this.props.imageUrlL+" 2x"),d.default.createElement("img",{className:"publication-author-list-item-image",src:this.props.imageUrlM,srcSet:e})},t.prototype.getLinkedImage=function(){return d.default.createElement("a",{href:this.props.accountUrl},this.getImage())},t.prototype.render=function(){return this.props.accountUrl?this.getLinkedImage():this.getImage()},t}(c.Component);t.default=p,p.protoTypes={imageUrlM:d.default.PropTypes.string.isRequired,imageUrlL:d.default.PropTypes.string,accountUrl:d.default.PropTypes.string}},2321:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(2),s=a(i),l=n(4),u=a(l),c=n(3),d=a(c),p=n(1),f=a(p),h=n(15),m=a(h),g=n(5),y=n(619),v=a(y),b=n(375),E=function(e){function t(n){(0,s.default)(this,t);var a=(0,u.default)(this,e.call(this,n));return a.scoreMilestone=a.scoreMilestone.bind(a),a}return(0,d.default)(t,e),t.prototype.render=function(){var e=void 0,t=void 0,n=void 0;return"fullwidth"===this.props.type?(e=905,t=500,n=6):(e=600,t=500,n=4),f.default.createElement(v.default,(0,r.default)({},this.props,{figuresDialogParams:{openedFromPreviewer:!0},figuresDialogUrl:"publication.PublicationFigures.html",previewMaximumWidth:e,figureMaximumWidth:t,maxItems:n,itemRightMargin:10,previewText:"Enlarge",showHeadline:!0,figureHeight:120,beforeDialogOpen:this.scoreMilestone}))},t.prototype.scoreMilestone=function(){(0,m.default)(this.props.clickedPreviewImageMilestoneParams)},t}(p.Component);t.default=(0,g.connectWidget)(function(e,t){return{figureItems:(0,b.selectOrderedPublicationFigures)(e,t)}})(E)},2333:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(12),f=a(p),h=n(1410),m=a(h),g=n(1407),y=a(g),v=n(1414),b=a(v),E=n(1409),C=a(E),k=n(42),w=n(5),_=n(501),x=n(15),T=a(x),S=n(7),M=n(6),N=n(24),D=a(N),P=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.state={dropdownVisible:!1,dropdownCloserToLeftSideOfScreen:!1,clientWidth:null},a.toggleDropdown=a.toggleDropdown.bind(a),a.openEditDialog=a.openEditDialog.bind(a),a.handleWindowResize=a.handleWindowResize.bind(a),a}return(0,u.default)(t,e),t.prototype.componentDidMount=function(){this.documentElement=document.documentElement;var e=this.documentElement.clientWidth;this.setState({clientWidth:e}),window.addEventListener("resize",this.handleWindowResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize)},t.prototype.isDropdownCloserToLeftSideOfScreen=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.clientWidth,t=e/2,n=this.domElement.offsetLeft+this.domElement.offsetWidth/2;return t>n},t.prototype.handleWindowResize=function(){var e=this.documentElement.clientWidth;if(this.state.clientWidth!==e){var t=this.isDropdownCloserToLeftSideOfScreen(e);this.setState({clientWidth:e,dropdownCloserToLeftSideOfScreen:t})}},t.prototype.toggleDropdown=function(){var e=this,t=this.isDropdownCloserToLeftSideOfScreen();this.state.dropdownVisible?window.removeEventListener("click",this.toggleDropdown):setTimeout(function(){window.addEventListener("click",e.toggleDropdown)},10),this.setState({dropdownVisible:!this.state.dropdownVisible,dropdownCloserToLeftSideOfScreen:t})},t.prototype.render=function(){var e=this;return d.default.createElement("div",{ref:function(t){e.domElement=t},className:"publication-sidebar-dropdown"},d.default.createElement(S.ButtonGroup,{gutter:"xs",orientation:"horizontal"},d.default.createElement(S.Button,{size:"s",theme:"ghost",color:"blue",onClick:this.toggleDropdown},d.default.createElement(M.Icon,{identifier:"arrow-down",size:"s"}))),this.getDropdown())},t.prototype.getDropdown=function(){var e=[this.getSidebarAction(this.props.fulltextCount,"fulltexts",this.props.fileCategory+" sources"),this.getSidebarAction(this.props.questionsCount,"questions","Questions"),this.getSidebarAction(this.props.showProductMentionsTab&&this.props.productMentionsCount,"productMentions","Products"),this.getSidebarAction(this.props.isSupplementedByCount,"isSupplementedBy","Supplementary resources"),this.props.requestFeedbackAction?d.default.createElement(b.default,{widgetId:this.props.requestFeedbackAction,key:"feedback",buttonClassName:"publication-resource-dropdown-item"}):null,this.getSidebarAction(!0,"reviews","Open reviews"),this.getEditAction()],t=(0,f.default)({"publication-resource-dropdown":!0,"publication-resource-dropdown-visible":this.state.dropdownVisible,"publication-resource-dropdown-right":this.state.dropdownCloserToLeftSideOfScreen}),n=this.props.generateDoiAction?d.default.createElement(m.default,{widgetId:this.props.generateDoiAction,buttonClassName:"publication-resource-dropdown-item"}):null,a=this.props.claimAction?d.default.createElement(y.default,{widgetId:this.props.claimAction,buttonClassName:"publication-resource-dropdown-item"}):null,o=this.props.downloadAction?d.default.createElement(C.default,{widgetId:this.props.downloadAction,buttonClassName:"publication-resource-dropdown-item"}):null,r=this.props.followAction?d.default.createElement("div",{className:"publication-resource-dropdown-item"},d.default.createElement(D.default,{widgetId:this.props.followAction})):null,i=this.props.shareAction?d.default.createElement("div",{className:"publication-resource-dropdown-item"},d.default.createElement(D.default,{widgetId:this.props.shareAction})):null,s=this.props.showAdminAction?d.default.createElement("a",{href:this.props.adminURL,className:"publication-resource-dropdown-item"},"Admin"):null;return d.default.createElement("div",{className:t},e,n,a,r,i,o,s)},t.prototype.getSidebarAction=function(e,t,n){var a=this;return e?d.default.createElement("div",{key:t,className:"publication-resource-dropdown-item",onClick:function(){return a.toggleSidebarAndCloseDropdown(t)}},n):null},t.prototype.getEditAction=function(){return this.props.showEditAction?d.default.createElement("div",{key:"edit",className:"publication-resource-dropdown-item",onClick:this.openEditDialog},"Edit"):null},t.prototype.openEditDialog=function(){(0,k.openDialog)("literature.PublicationEditDialog.html",{params:{publicationUid:this.props.publicationUid}})},t.prototype.toggleSidebarAndCloseDropdown=function(e){var t=null;"citations"===e&&(t=this.props.milestones.clickedSidebarCitations),"references"===e&&(t=this.props.milestones.clickedSidebarReferences),"productMentions"===e&&(t=this.props.milestones.clickedSidebarProductMentions),t&&(0,T.default)(t);var n=(0,_.toggleSidebar)(e);this.props.dispatch(n),this.setState({dropdownVisible:!1})},t}(c.Component);t.default=(0,w.connectWidget)()(P)},2334:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(12),f=a(p),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){if(this.props.loading)return d.default.createElement("div",{className:"see-more rendering-small"},d.default.createElement("span",{className:"rendering-small"}));var e={"state-default":!0,"ico-expand":!0},t={"state-hover":!0,"ico-expand-hover":!0};return d.default.createElement("a",{className:"see-more",onClick:this.props.onClick},"See more",d.default.createElement("span",{className:(0,f.default)(e)}),d.default.createElement("span",{className:(0,f.default)(t)}))},t}(c.Component);t.default=h},2336:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=n(1425),i=a(r),s=n(5),l=n(33),u=n(16),c=a(u),d=n(186),p=a(d),f=n(135),h=a(f),m=n(124),g=a(m),y=n(351),v=a(y),b=n(187),E=a(b),C=n(108),k=n(375),w=n(154),_=(0,l.createSelector)([k.selectPublicationFigures,C.selectComposerMessageParentId],function(e,t){return{figure:e&&e[t]}}),x=function(e){return{onRemoveClick:function(){e((0,w.setComposeMessage)())}}},T=(0,c.default)((0,s.connectWidget)(_,x),(0,h.default)({publicationUid:o.PropTypes.number.isRequired,onSelectFigure:o.PropTypes.func.isRequired}),(0,g.default)({componentDidMount:function(){var e=this;this.props.figure&&setTimeout(function(){e.props.onSelectFigure()})},componentDidUpdate:function(){var e=this;this.props.figure&&setTimeout(function(){e.props.onSelectFigure()})}}),(0,p.default)(function(e){return e.figure},(0,E.default)(i.default),v.default));t.default=T(i.default)},2337:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2338),r=a(o),i=n(5),s=n(33),l=n(16),u=a(l),c=n(186),d=a(c),p=n(351),f=a(p),h=n(187),m=a(h),g=n(108),y=n(154),v=(0,s.createSelector)([g.selectComposerMessageHighlight,g.selectComposerMessageParentId],function(e,t){return{highlight:e,parentId:t}}),b=function(e){return{onRemoveClick:function(){e((0,y.setComposeMessage)())}}},E=(0,u.default)((0,i.connectWidget)(v,b),(0,d.default)(function(e){var t=e.highlight,n=e.parentId;return n&&t},(0,m.default)(r.default),f.default));t.default=E(r.default)},2338:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),r=a(o),i=n(1371),s=a(i),l=n(7),u=n(14),c=function(e){var t=e.highlight.text,n=e.onRemoveClick;return r.default.createElement("div",null,r.default.createElement(u.MediaObject,null,r.default.createElement(u.MediaObject.Item,{width:"full"},r.default.createElement(s.default,{text:t})),r.default.createElement(u.MediaObject.Item,null,r.default.createElement(l.Button,{theme:"bare",color:"grey",onClick:n},"Remove"))))};t.default=c},2339:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(9),r=a(o),i=n(1),s=a(i),l=n(16),u=a(l),c=n(40),d=a(c),p=n(33),f=n(5),h=n(108),m=n(154),g=n(260),y=n(163),v=n(29),b=n(1338),E=n(375),C=n(1831),k=n(2074),w=a(k),_=n(2340),x=a(_),T=n(1425),S=a(T),M=n(56),N=function(e){var t=Object.assign({},e);return e.canReply&&(t.replyComposer=s.default.createElement(x.default,{message:e.message,accountId:e.currentAccountId,context:e.context,viewIds:e.viewIds,parentIsDraft:e.isDraft,referenceResearchDialogUrl:e.referenceResearchDialogUrl,experimentGoals:e.experimentGoals,
useUploader:!1})),e.hasParentAsset&&e.figure&&(delete t.hasParentAsset,delete t.figure,t.beforeChildren=s.default.createElement(S.default,{key:"figure",figure:e.figure})),s.default.createElement(w.default,(0,r.default)({},t,{messageCTA:"reply",messageTypeDescription:"comment"}))},D=(0,p.createSelector)([(0,h.selectMessage)(h.selectMessageIdProp),(0,h.selectReplyIds)(h.selectMessageIdProp),(0,h.selectTotalReplies)(h.selectMessageIdProp),(0,g.selectVisibleLinksForParent)((0,h.selectMessageRgKey)(h.selectMessageIdProp)),(0,y.createLikeForRgIdSelector)((0,h.selectMessageRgKey)(h.selectMessageIdProp)),v.isAccountLoggedIn,v.selectCurrentAccount,E.selectPublicationFigures],function(e,t,n,a,o,r,i){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=Boolean(e.get("nextVersion")),u=Boolean(e.get("previousVersion")),c=M.RGKey.parse(e.get("parentId")).type===M.RGType.TYPE_ASSET;return{message:e,replyIds:t.reverse(),replyCount:n,links:a,currentAccountId:i.accountId,canDeleteMessage:(0,C.canDeleteMessage)(i,e,n)&&!l,canEditMessage:(0,C.canEditMessage)(i,e,n)&&!l,canReport:(0,C.canReportMessage)(i,e),hasLikes:o.total>0,isLoggedIn:r,isDraft:!1,canReply:r&&!l,canShowLikes:r&&!l,canSeeVersionHistory:r&&u,hasParentAsset:c,figure:c&&s[e.get("parentId")]}}),P=function(e,t){return{loadReplies:function(n,a){return e((0,b.getPublicationReplies)(t.messageId,{limit:n,offset:a}))},removeMessage:function(t,n){return e((0,b.removePublicationComment)(t,n))},getMessageDraft:function(t,n){return e((0,m.getMessageDraft)(t,n))},saveMessageEdit:function(n,a){var o=n.editorData,r=n.fileReference,i=n.attachments;return e((0,m.saveMessageEdit)({messageId:t.messageId,draftId:a,body:o.text,struct:o.struct,linkIds:i,files:r,context:t.context},t.context))}}};t.default=(0,u.default)((0,f.connectWidget)(D,P),(0,d.default)(["message","replyIds","links"]))(N)},2340:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(19),h=a(f),m=n(41),g=(n(92),n(56)),y=n(752),v=a(y),b=n(93),E=a(b),C=function(e){function t(){var n,a,o;(0,r.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=a=(0,s.default)(this,e.call.apply(e,[this].concat(l))),a.handleSubmit=function(){var e=g.RGKey.parse(a.props.message.rootId).id;(0,h.default)(["rg-base"],function(t){t.fire("publicationCommentCreated",{publicationUid:e})}),a.props.dispatch((0,m.pushAlert)(function(){return d.default.createElement(E.default,{title:"Reply added",description:"Your reply is now visible to the authors and others."})}))},o=n,(0,s.default)(a,o)}return(0,u.default)(t,e),t.prototype.getEditor=function(){return this.editor?this.editor.getWrappedInstance():null},t.prototype.focus=function(){var e=this.getEditor();e&&e.focus()},t.prototype.render=function(){var e=this.props.parentIsDraft?"Add private feedback (visible to co-authors only)":"Add a reply (type @ to mention people)";return d.default.createElement(v.default,{message:this.props.message,accountId:this.props.accountId,placeholder:e,viewIds:this.props.viewIds,referenceResearchDialogUrl:this.props.referenceResearchDialogUrl,experimentGoals:this.props.experimentGoals,useUploader:!1,context:this.props.context,onSubmit:this.handleSubmit})},t}(c.Component);t.default=(0,p.connectWidget)(null,null,null,{withRef:!0})(C)},2341:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(52),f=a(p),h=n(5),m=n(2343),g=a(m),y=n(2342),v=a(y),b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getContent=function(){return this.props.isCompleted?d.default.createElement(v.default,{key:"complete",publicationUid:this.props.publicationUid}):d.default.createElement(g.default,{key:"incomplete",publicationUid:this.props.publicationUid,publicationType:this.props.publicationType,publicationDate:this.props.publicationDate,hasAbstract:this.props.hasAbstract,goal:this.props.goal})},t.prototype.render=function(){return d.default.createElement("div",{className:"indicator-step"},d.default.createElement(f.default,{transitionName:"completion",transitionEnterTimeout:600,transitionLeaveTimeout:300},this.getContent()))},t}(c.Component);t.default=(0,h.connectWidget)(function(e){return{hasAbstract:Boolean(e.publicationData.abstract),publicationDate:e.publicationData.publicationDate,publicationType:e.publicationData.publicationType}})(b)},2342:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement("div",{className:"indicator-step-content"},d.default.createElement("div",{className:"completed-icon"},d.default.createElement("span",{className:"ico-publication-completion-check"})),d.default.createElement("h4",null,"Abstract and date added"),d.default.createElement("div",null,d.default.createElement("p",null,"Your publication has been updated to include the abstract and date.")))},t}(c.Component);t.default=p},2343:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(1342),h=n(15),m=a(h),g=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.onEdit=a.onEdit.bind(a),a}return(0,u.default)(t,e),t.prototype.hasDate=function(){return!!this.props.publicationDate},t.prototype.hasAbstract=function(){return this.props.hasAbstract},t.prototype.getHeadline=function(){return this.hasDate()||this.hasAbstract()?this.hasDate()?this.hasAbstract()?"Add the abstract and publication date":"Add the abstract":"Add the publication date":"Add the abstract and publication date"},t.prototype.getText=function(){return this.hasDate()||this.hasAbstract()?this.hasDate()?this.hasAbstract()?d.default.createElement("div",null,d.default.createElement("p",null,"Publications with abstracts get ",d.default.createElement("strong",null,"3 times more exposure")," than papers without one on ResearchGate.")):d.default.createElement("p",null,"Publications with abstracts get ",d.default.createElement("strong",null,"3 times more exposure")," than papers without one on ResearchGate."):d.default.createElement("p",null,"Include the date your work was published so that others have the information they need to cite it."):d.default.createElement("div",null,d.default.createElement("p",null,"Publications with abstracts get ",d.default.createElement("strong",null,"3 times more exposure")," than papers without one on ResearchGate."))},t.prototype.getButton=function(){return this.hasDate()||this.hasAbstract()?this.hasDate()?this.hasAbstract()?"Add abstract and date":"Add abstract":"Add date":"Add abstract and date"},t.prototype.render=function(){return d.default.createElement("div",{className:"indicator-step-content"},d.default.createElement("h4",null,this.getHeadline()),d.default.createElement("div",null,this.getText()),d.default.createElement("a",{className:"btn btn-promote btn-large",onClick:this.onEdit},this.getButton()))},t.prototype.onEdit=function(){(0,m.default)(this.props.goal),this.props.dispatch((0,f.openEditDialogSmall)(this.props.publicationUid))},t}(c.Component);t.default=(0,p.connectWidget)(function(e){return{hasAbstract:Boolean(e.publicationData.abstract),publicationDate:e.publicationData.publicationDate}})(g)},2344:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(2346),f=a(p),h=n(2345),m=a(h),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){var e=this.props.isCompleted?d.default.createElement(m.default,{publicationUid:this.props.publicationUid}):d.default.createElement(f.default,{publicationUid:this.props.publicationUid,url:this.props.url});return d.default.createElement("div",{className:"indicator-step"},e)},t}(c.Component);t.default=g},2345:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(1078),f=a(p),h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement("div",{className:"indicator-step-content"},d.default.createElement("div",{className:"completed-icon"},d.default.createElement("span",{className:"ico-publication-completion-check"})),d.default.createElement("h4",null,"Do you have more figures for this publication?"),d.default.createElement("div",null,d.default.createElement("p",null,"Add them now to gain more visibility"),d.default.createElement(f.default,{className:"figure-uploader",publicationUid:this.props.publicationUid,openOverlay:!0},d.default.createElement("button",{className:"btn btn-promote btn-large"},"Upload figures"))))},t}(c.Component);t.default=h},2346:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(1078),h=a(f),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getFigureCount=function(){return 0},t.prototype.getText=function(){return 1===this.getFigureCount()?"Use our one-click uploader to quickly add your figure to this publication.":"Use our one-click uploader to quickly add your figures to this publication."},t.prototype.getAvailable=function(){return d.default.createElement("div",{className:"indicator-step-content"},d.default.createElement("h4",null,"We've found ",this.getFigureCount()," of your figures online"),d.default.createElement("div",null,d.default.createElement("p",null,this.getText())),d.default.createElement("a",{href:this.props.url,className:"btn btn-promote btn-large"},"Go to one-click upload"))},t.prototype.getUnavailable=function(){return d.default.createElement("div",{className:"indicator-step-content"},d.default.createElement("h4",null,"Add figures"),d.default.createElement("div",null,d.default.createElement("p",null,"Publications with figures get ",d.default.createElement("strong",null,"2 times more reads")," than papers without them on ResearchGate."),d.default.createElement(h.default,{className:"figure-uploader",publicationUid:this.props.publicationUid,openOverlay:!0},d.default.createElement("button",{className:"btn btn-promote btn-large"},"Upload figures"))))},t.prototype.render=function(){return this.getFigureCount()>0?this.getAvailable():this.getUnavailable()},t}(c.Component);t.default=(0,p.connectWidget)(function(e){return{figureCount:e.publicationData.privateFiguresCount}})(m)},2347:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(2349),h=a(f),m=n(2348),g=a(m),y=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getContent=function(){return this.props.isCompleted?d.default.createElement(g.default,{publicationUid:this.props.publicationUid,fileCategory:this.props.fileCategory}):d.default.createElement(h.default,{publicationUid:this.props.publicationUid,url:this.props.url,fileCategory:this.props.fileCategory})},t.prototype.render=function(){return d.default.createElement("div",{className:"indicator-step"},this.getContent())},t}(c.Component);t.default=(0,p.connectWidget)(function(e){return{hasFulltextSuggestions:e.publicationData.hasFulltextSuggestions}})(y)},2348:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement("div",{className:"indicator-step-content"},d.default.createElement("div",{className:"completed-icon"},d.default.createElement("span",{className:"ico-publication-completion-check"})),d.default.createElement("h4",null,this.props.fileCategory," added"),d.default.createElement("div",null,d.default.createElement("p",null,"You can add a different or newer version of your ",this.props.fileCategory.toLowerCase()," at any time.")))},t}(c.Component);t.default=p},2349:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(42),h=n(14),m=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.onClick=a.onClick.bind(a),a}return(0,u.default)(t,e),t.prototype.isArticle=function(){return"article"===this.props.publicationType},t.prototype.isOneClick=function(){return this.props.hasFulltextSuggestions},t.prototype.getArticleHeadline=function(){return d.default.createElement("span",null,"Add the ",this.props.fileCategory.toLowerCase()," of this publication")},t.prototype.getHeadline=function(){return this.getArticleHeadline()},t.prototype.getOneClickText=function(){return d.default.createElement("span",null,"We found the ",this.props.fileCategory.toLowerCase()," of this publication online. Why not quickly add it using our one-click uploader?")},t.prototype.getDefaultText=function(){return d.default.createElement("span",null,"Publications with ",this.props.fileCategory.toLowerCase(),"s get ",d.default.createElement("strong",null,"4 times more exposure")," than papers without ",this.props.fileCategory.toLowerCase(),"s on ResearchGate.")},t.prototype.getText=function(){return this.getDefaultText()},t.prototype.render=function(){return d.default.createElement("div",{className:"indicator-step-content"},d.default.createElement("h4",null,this.getHeadline()),d.default.createElement("div",null,d.default.createElement("p",null,this.getText())),d.default.createElement(h.Pack,{className:"incomplete-step-buttons-pack",gutter:"m"},d.default.createElement(h.Pack.Item,null,d.default.createElement("a",{className:"btn btn-promote btn-large",onClick:this.onClick},"Add ",this.props.fileCategory.toLowerCase()))))},t.prototype.onClick=function(){(0,f.openDialog)(this.props.url)},t}(c.Component);t.default=(0,p.connectWidget)(function(e){return{publicationType:e.publicationData.publicationType,hasFulltextSuggestions:e.publicationData.hasFulltextSuggestions}})(m)},2350:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(2352),f=a(p),h=n(2351),m=a(h),g=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getContent=function(){return this.props.isCompleted?d.default.createElement(m.default,{publicationUid:this.props.publicationUid}):d.default.createElement(f.default,{publicationUid:this.props.publicationUid,url:this.props.url})},t.prototype.render=function(){return d.default.createElement("div",{className:"indicator-step"},this.getContent())},t}(c.Component);t.default=g},2351:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(5),f=n(17),h=a(f),m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getResourceCount=function(){return this.props.supplementaryResourceCount},t.prototype.render=function(){return d.default.createElement("div",{className:"indicator-step-content"},d.default.createElement("div",{className:"completed-icon"},d.default.createElement("span",{className:"ico-publication-completion-check"})),d.default.createElement("h4",null,(0,h.default)("Resource",this.getResourceCount())," added"),d.default.createElement("div",null,d.default.createElement("p",null,this.getText())))},t.prototype.getText=function(){var e=1===this.getResourceCount()?"has":"have",t=(0,h.default)("resource",this.getResourceCount());return this.getResourceCount()+" "+t+" "+e+" been added."},t}(c.Component);t.default=(0,p.connectWidget)(function(e){return{supplementaryResourceCount:e.publicationData.supplementaryResourceCount}})(m)},2352:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.render=function(){return d.default.createElement("div",{className:"indicator-step-content"},d.default.createElement("h4",null,"Add supplementary resources"),d.default.createElement("div",null,d.default.createElement("p",null,"Share your datasets and other materials to help others better understand this publication.")),d.default.createElement("a",{href:this.props.url,className:"btn btn-promote btn-large"},"Add resources"))},t}(c.Component);t.default=p},2353:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(12),f=a(p),h=n(116),m=n(15),g=a(m),y=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.handleSelected=a.handleSelected.bind(a),a.state={selectedIndex:a.getInitialSelectedIndex()},a}return(0,u.default)(t,e),t.prototype.render=function(){var e=Array.isArray(this.props.children)?this.props.children.length:1,t=(0,f.default)("publication-completion-tabs","completion-tabs-"+e);return d.default.createElement("div",{className:t},d.default.createElement(h.Tabs,{selectedIndex:this.state.selectedIndex,onSelect:this.handleSelected},this.getTabList(),this.getTabPanels()))},t.prototype.getTabList=function(){var e=d.default.Children.map(this.props.children,function(e){var t,n=(t={"completion-tab-icon":!0,"completion-tab-icon-complete":e.props.isCompleted},t[e.props.iconClass]=!0,t);return d.default.createElement(h.Tab,null,d.default.createElement("div",{className:(0,f.default)(n)}))});return d.default.createElement(h.TabList,null,e)},t.prototype.handleSelected=function(e){(0,g.default)(this.props.goals[e]),this.setState({selectedIndex:e})},t.prototype.getTabPanels=function(){return d.default.Children.map(this.props.children,function(e){return d.default.createElement(h.TabPanel,null,e)})},t.prototype.getInitialSelectedIndex=function(){if(this.props.initialSelectedIndex!==-1)return this.props.initialSelectedIndex;for(var e=0,t=Array.isArray(this.props.children)?this.props.children:[this.props.children],n=t,a=Array.isArray(n),o=0,n=a?n:n[Symbol.iterator]();;){var r;if(a){if(o>=n.length)break;r=n[o++]}else{if(o=n.next(),o.done)break;r=o.value}var i=r;if(!i.props.isCompleted)return e;e++}return-1},t}(c.Component);t.default=y},2358:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=n(18),f=a(p),h=n(5),m=n(415),g=a(m),y=function(e){function t(n){(0,r.default)(this,t);var a=(0,s.default)(this,e.call(this,n));return a.openFiguresDialog=a.openFiguresDialog.bind(a),a}return(0,u.default)(t,e),t.prototype.openFiguresDialog=function(e){e.preventDefault(),widgetLoader.loadWidgetInDialog("publication.PublicationFigures.html",{publicationUid:this.props.feedback.publicationUid,figureItemAssetId:this.props.feedback.assetId,openedFromFeedback:!0},null,null,null,null,"overlay-mask-dark")},t.prototype.render=function(){var e=this.props.figure,t=null;if(e){var n=e.caption?e.caption:e.title;t=d.default.createElement("div",null,d.default.createElement(g.default,{figure:e,maxWidth:350,onClick:this.openFiguresDialog}),d.default.createElement("div",{className:"publication-comment-figure-caption"},n))}return d.default.createElement("div",{className:"publication-comment-figure-context"},d.default.createElement("div",{className:"publication-comment-label"},"commented on figure"+(e?":":".")),t)},t}(c.Component);t.default=(0,h.connectWidget)(function(e,t){var n=(0,f.default)(e.publicationFigure,t.publicationUid,{}),a=n[t.feedback.assetId];return{figure:a}})(y)},2359:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(2),r=a(o),i=n(4),s=a(i),l=n(3),u=a(l),c=n(1),d=a(c),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t.prototype.getLabelForFeedback=function(e){return e.highlightedText?"highlight"===e.type?"marked this section as interesting:":"commented on this section:":"highlight"===e.type?"marked a section as interesting.":"commented on a section."},t.prototype.render=function(){var e=this.props.feedback,t=this.getLabelForFeedback(e),n=e.highlightedText?d.default.createElement("div",{className:"publication-comment-label-quote"},d.default.createElement("span",{className:"publication-comment-label-quote-text"},"â",e.highlightedText,"â")):null;return d.default.createElement("div",null,d.default.createElement("div",{className:"publication-comment-label"},t),n)},t}(c.Component);t.default=p},2360:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t){var n=null;switch(t.assetType){case"fulltext":n=l.default;break;case"figure":n=c.default;break;default:return null}return i.default.createElement(n,{feedback:t,publicationUid:e})}}t.__esModule=!0,t.getContextProvider=o;var r=n(1),i=a(r),s=n(2359),l=a(s),u=n(2358),c=a(u)},2361:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,a){a=a||p.default,"complete"!==document.readyState&&window.location.hash==="#"+e&&(0,c.default)(["rg-base"],function(e){e.once("publication:setupCompleted",function(){window.setTimeout(function(){(0,l.default)(i.default.findDOMNode(t),n).on("end",a)},50)})})}t.__esModule=!0,t.scrollToFeedback=o;var r=n(21),i=a(r),s=n(57),l=a(s),u=n(19),c=a(u),d=n(344),p=a(d)},2955:function(e,t,n){var a=n(132),o=a("sortBy",n(204));o.placeholder=n(126),e.exports=o},3278:function(e,t,n){var a,o;!function(r){function i(e,t,n){return function(e,a){var o=t.createClass({statics:{getClass:function(){return e.getClass?e.getClass():e}},getInstance:function(){return e.prototype.isReactComponent?this.refs.instance:this},__outsideClickHandler:function(){},componentDidMount:function(){if("undefined"!=typeof document&&document.createElement){var e,o=this.getInstance();if(a&&"function"==typeof a.handleClickOutside){if(e=a.handleClickOutside(o),"function"!=typeof e)throw new Error("Component lacks a function for processing outside click events specified by the handleClickOutside config option.")}else if("function"==typeof o.handleClickOutside)e=t.Component.prototype.isPrototypeOf(o)?o.handleClickOutside.bind(o):o.handleClickOutside;else{if("function"!=typeof o.props.handleClickOutside)throw new Error("Component lacks a handleClickOutside(event) function for processing outside click events.");e=o.props.handleClickOutside}var r=n.findDOMNode(o);null===r&&(console.warn("Antipattern warning: there was no DOM node associated with the component that is being wrapped by outsideClick."),console.warn(["This is typically caused by having a component that starts life with a render function that","returns `null` (due to a state or props value), so that the component 'exist' in the React","chain of components, but not in the DOM.\n\nInstead, you need to refactor your code so that the","decision of whether or not to show your component is handled by the parent, in their render()","function.\n\nIn code, rather than:\n\n  A{render(){return check? <.../> : null;}\n  B{render(){<A check=... />}\n\nmake sure that you","use:\n\n  A{render(){return <.../>}\n  B{render(){return <...>{ check ? <A/> : null }<...>}}\n\nThat is:","the parent is always responsible for deciding whether or not to render any of its children.","It is not the child's responsibility to decide whether a render instruction from above should","get ignored or not by returning `null`.\n\nWhen any component gets its render() function called,","that is the signal that it should be rendering its part of the UI. It may in turn decide not to","render all of *its* children, but it should never return `null` for itself. It is not responsible","for that decision."].join(" ")));var i=this.__outsideClickHandler=h(r,o,e,this.props.outsideClickIgnoreClass||c,this.props.preventDefault||!1,this.props.stopPropagation||!1),s=l.length;l.push(this),u[s]=i,this.props.disableOnClickOutside||this.enableOnClickOutside()}},componentWillReceiveProps:function(e){this.props.disableOnClickOutside&&!e.disableOnClickOutside?this.enableOnClickOutside():!this.props.disableOnClickOutside&&e.disableOnClickOutside&&this.disableOnClickOutside()},componentWillUnmount:function(){this.disableOnClickOutside(),this.__outsideClickHandler=!1;var e=l.indexOf(this);e>-1&&(u[e]&&u.splice(e,1),l.splice(e,1))},enableOnClickOutside:function(){var e=this.__outsideClickHandler;if("undefined"!=typeof document){var t=this.props.eventTypes||d;t.forEach||(t=[t]),t.forEach(function(t){document.addEventListener(t,e)})}},disableOnClickOutside:function(){var e=this.__outsideClickHandler;if("undefined"!=typeof document){var t=this.props.eventTypes||d;t.forEach||(t=[t]),t.forEach(function(t){document.removeEventListener(t,e)})}},render:function(){var n=this.props,a={};return Object.keys(this.props).forEach(function(e){a[e]=n[e]}),e.prototype.isReactComponent&&(a.ref="instance"),a.disableOnClickOutside=this.disableOnClickOutside,a.enableOnClickOutside=this.enableOnClickOutside,t.createElement(e,a)}});return function(e,t){var n=e.displayName||e.name||"Component";t.displayName="OnClickOutside("+n+")"}(e,o),o}}function s(r,i){a=[n(1),n(21)],o=function(e,t){return i(r,e,t)}.apply(t,a),!(void 0!==o&&(e.exports=o))}var l=[],u=[],c="ignore-react-onclickoutside",d=["mousedown","touchstart"],p=function(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))},f=function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(p(e,t,n))return!0;e=e.parentNode}return e},h=function(e,t,n,a,o,r){return function(t){o&&t.preventDefault(),r&&t.stopPropagation();var i=t.target;f(i,e,a)===document&&n(t)}};s(r,i)}(this)},3365:function(e,t){"use strict";function n(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=arguments.length<=3||void 0===arguments[3]?null:arguments[3];s||(s=document.createElement("textarea"),document.body.appendChild(s));var i=a(e,t),l=i.paddingSize,u=i.borderSize,c=i.boxSizing,d=i.sizingStyle;s.setAttribute("style",d+";"+o),s.value=e.value||e.placeholder||"x";var p=-(1/0),f=1/0,h=s.scrollHeight;if("border-box"===c?h+=u:"content-box"===c&&(h-=l),null!==n||null!==r){s.value="x";var m=s.scrollHeight-l;null!==n&&(p=m*n,"border-box"===c&&(p=p+l+u),h=Math.max(p,h)),null!==r&&(f=m*r,"border-box"===c&&(f=f+l+u),h=Math.min(f,h))}return{height:h,minHeight:p,maxHeight:f}}function a(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&i[n])return i[n];var a=window.getComputedStyle(e),o=a.getPropertyValue("box-sizing")||a.getPropertyValue("-moz-box-sizing")||a.getPropertyValue("-webkit-box-sizing"),s=parseFloat(a.getPropertyValue("padding-bottom"))+parseFloat(a.getPropertyValue("padding-top")),l=parseFloat(a.getPropertyValue("border-bottom-width"))+parseFloat(a.getPropertyValue("border-top-width")),u=r.map(function(e){return e+":"+a.getPropertyValue(e)}).join(";"),c={sizingStyle:u,paddingSize:s,borderSize:l,boxSizing:o};return t&&n&&(i[n]=c),c}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",r=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],i={},s=void 0},3531:function(e,t,n){function a(e){return n(o(e))}function o(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./AnswerCard":1353,"./AnswerCard.js":1353,"./NoPublicationDateCard":914,"./NoPublicationDateCard.js":914,"./ProjectCard":1354,"./ProjectCard.js":1354,"./PublicationCard":740,"./PublicationCard.js":740,"./PublicationMessageCard":1355,"./PublicationMessageCard.js":1355,"./PublicationReviewCard":1356,"./PublicationReviewCard.js":1356,"./QuestionCard":1357,"./QuestionCard.js":1357,"./ResearchExperienceCard":1358,"./ResearchExperienceCard.js":1358,"./WelcomeCard":915,"./WelcomeCard.js":915,"./answer/AnswerCardStats":916,"./answer/AnswerCardStats.js":916,"./common/Card/Card":917,"./common/Card/Card.js":917,"./common/Card/index":376,"./common/Card/index.js":376,"./common/Card/subcomponents/Footer":918,"./common/Card/subcomponents/Footer.js":918,"./common/Card/subcomponents/Header":919,"./common/Card/subcomponents/Header.js":919,"./common/Card/subcomponents/Meta":920,"./common/Card/subcomponents/Meta.js":920,"./common/CardActions":320,"./common/CardActions.js":320,"./common/CardStats":504,"./common/CardStats.js":504,"./common/FollowButton":741,"./common/FollowButton.js":741,"./common/RequestFulltextButton":921,"./common/RequestFulltextButton.js":921,"./common/SimpleButton":321,"./common/SimpleButton.js":321,"./common/StatsLink":505,"./common/StatsLink.js":505,"./index":570,"./index.js":570,"./publication/CardPeopleList":922,"./publication/CardPeopleList.js":922,"./publication/CardPeopleListItem":923,"./publication/CardPeopleListItem.js":923,"./publication/PublicationCardConsumerActions":924,"./publication/PublicationCardConsumerActions.js":924,"./publication/PublicationCardControlRemove":742,"./publication/PublicationCardControlRemove.js":742,"./publication/PublicationCardControlTick":925,"./publication/PublicationCardControlTick.js":925,"./publication/PublicationCardControls":926,"./publication/PublicationCardControls.js":926,"./publication/PublicationCardOwnerActions":927,"./publication/PublicationCardOwnerActions.js":927,"./publication/PublicationCardStats":928,"./publication/PublicationCardStats.js":928,"./publicationReview/PublicationReviewCardStats":929,"./publicationReview/PublicationReviewCardStats.js":929,"./question/QuestionCardActions":930,"./question/QuestionCardActions.js":930,"./question/QuestionCardStats":931,"./question/QuestionCardStats.js":931};a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=3531}});