"use strict";var datetimeHelpers=function(){var a=function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")},b=function(b,c){var d,e,f=b.indexOf("|");if(f>0){d=a(b.substring(0,f)).split(",");for(e in d)d.hasOwnProperty(e)&&(a(d[e]).match(/\{\{[a-zA-Z0-9_\-\.]+\}\}/)?d[e]=c(a(d[e])):d[e]=a(d[e]));return d}return[]},c={now:"Just now",minute:"1 minute",minutes:"X minutes",hour:"an hour",hours:"X hours",day:"1 day",days:"X days",ago:" ago",fromnow:" from now"},d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],f=function(a,b){b=b||new Date;var d,e,f=(b.getTime()-a.getTime())/1e3;return e=f<0?c.fromnow:c.ago,f<0&&(a=b,f*=-1),(d=f<60?c.now:f<120?c.minute:f<3600?c.minutes.replace(/X/,Math.floor(f/60)):f<7200?c.hour:f<86400?c.hours.replace(/X/,Math.floor(f/3600)):f<172800?c.day:f<2678400?c.days.replace(/X/,Math.floor(f/86400)):"")?(d!==c.now&&(d+=e),d):g(a)},g=function(a){return d[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear()},h=function(a){return d[a.getMonth()]+" "+(a.getDate()<10?"0"+a.getDate():a.getDate())+", "+a.getFullYear()},i=function(a){return d[a.getMonth()]+" "+a.getDate()},j={now:"now",justNow:"Just now",yesterday:"Yesterday",minute:"Xm",hour:"Xh",day:"Xd",week:"Xw",year:"Xy"},k=function(a,b){b=b||new Date;var c=(b.getTime()-a.getTime())/1e3;c<0&&(a=b,c*=-1);var d=1,e=60*d,f=60*e,g=24*f,h=7*g,i=365*g;return c<e?j.now:c<f?j.minute.replace(/X/,Math.floor(c/e)):c<g?j.hour.replace(/X/,Math.floor(c/f)):c<h?j.day.replace(/X/,Math.floor(c/g)):c<i?j.week.replace(/X/,Math.floor(c/h)):j.year.replace(/X/,Math.floor(c/i))},l=function(a,b){b=b||new Date;var c=(b.getTime()-a.getTime())/1e3;c<0&&(a=b,c*=-1);var d=1,e=60*d,f=60*e,h=24*f,k=2*h,l=365*h;if(c<e)return j.justNow;if(c<f)return j.minute.replace(/X/,Math.floor(c/e));if(c<h)return j.hour.replace(/X/,Math.floor(c/f));if(c<k){var m=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n=new Date(b.getFullYear(),b.getMonth(),b.getDate());return n.setDate(n.getDate()-1),n.getTime()===m.getTime()?j.yesterday:i(a)}return c<l?i(a):g(a).replace(/,/g,"")};return{getFullDatestring:function(a){return g(a)},getShortDatestring:function(a){return i(a)},timeAgo:function(){return function(a,c){var d=b(a,c),e=d[0],g=d[1];return c(f(new Date(this[e]),new Date(this[g])))}},feedTimeAgo:function(){return function(a,c){var d=b(a,c),e=d[0],f=d[1],g=new Date(this[e]);return c('<span title="'+h(g).replace(/,/g,"")+'">'+l(g,new Date(this[f]))+"</span>")}},twitterTimeAgo:function(){return function(a,c){var d=b(a,c),e=d[0],f=d[1],h=new Date(this[e]);return c('<span title="'+g(h)+'">'+k(h,new Date(this[f]))+"</span>")}},shortDate:function(){return function(a,c){var d=b(a,c),f=d[0],h=new Date(this[f]);return c('<span title="'+g(h)+'">'+e[h.getMonth()]+" "+h.getFullYear()+"</span>")}}}}();"undefined"!=typeof module&&module.exports&&(module.exports=datetimeHelpers);